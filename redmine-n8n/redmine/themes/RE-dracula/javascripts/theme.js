var body,urlSite,content,mainBox,mainHtml,mobileButton,_this,allTitle,topMenu,userIdStr,userId,selExeption,exeptionMultiple,exeptionSelect2,headerBox,speedAnim=500,clNot="jcf-hidden",autoscroll="autoscroll",hiddenCl="hidden-box",chekERPmine=!1,tooltipCl="start-tooltip",tooltipExceptionCl="done-tooltip",clNoFooter="no-footer",checkCookie={},noAnim="no-animate",doneData="hasDatepicker",clSelect2Hidden="select2-hidden-accessible",exeptionMultipleCL="exeptionmultiple",flagnoTooltip=!0,menuW=60,openCl="open";function exeptionMultipleFunction(){0<(exeptionMultiple=$('select[id*="settings_gitolite_notify_global_"], #issue_tag_list')).length&&(exeptionMultiple.hasClass(exeptionMultipleCL)||exeptionMultiple.addClass(exeptionMultipleCL)),0<(exeptionSelect2=$("#status_by_select, #project_agile_color_attributes_color, .agile-color, #leave_type_color")).length&&(exeptionSelect2.hasClass(clNot)||exeptionSelect2.addClass(clNot))}function noTooltip(){var e;0<(allTitle=$('body [title]:not(span[class*="select2"], .done-tooltip), body [data-original-title]:not(span[class*="select2"], .done-tooltip)')).length&&(allTitle.each(function(){void 0!==(e=$(this).attr("data-original-title"))&&0<e.length||$(this).attr("data-original-title",$(this).attr("title"))}),allTitle.tooltip({trigger:"hover",container:"body",html:!0,template:'<div class="tooltip-new" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),allTitle.tooltip("destroy"),flagnoTooltip=!1)}jQuery(window).on("load",function(){exeptionMultipleFunction(),noTooltip(),mainHtml=$("html"),body=$("body"),content=body.find("#content"),mainBox=body.find("#main"),headerBox=body.find("#header"),topMenu=body.find("#top-menu"),redmineEvolution.init()});var redmineEvolution={init:function(){(_this=this).redmineEvolutionThemeSettings(),this.redmineEvolutionKey(),this.redmineEvolutionSearch(),this.redmineEvolutionMobile(),this.redmineEvolutionDropdaunMenu(),this.redmineEvolutionDMSF(),this.redmineEvolutionERPmine(),this.redmineEvolutionAllFilter(),this.redmineEvolutionLogin(),this.redmineEvolutionMainMenu(),this.redmineEvolutionSidebar(),this.redmineEvolutionIssuesSmallView(),this.redmineEvolutionProjects(),this.redmineEvolutionWiki(),this.redmineEvolutionDokuments(),this.redmineEvolutionActivity(),this.redmineEvolutionNews(),this.redmineEvolutionAllIssue(),this.redmineEvolutionIssues(),this.redmineEvolutionSelectedMenu(),this.redmineEvolutionSly(),this.redmineEvolutionSupport(),this.redmineEvolutionInputFile(),this.redmineEvolutionTable(),this.redmineEvolutionWorkflows(),this.redmineEvolutionContextMenu(),this.redmineEvolutionTabs(),this.redmineEvolutionQuestions(),this.redmineEvolutionControllerProjects(),this.redmineEvolutionRedmineUP(),this.redmineEvolutionRedmine_X(),this.redmineEvolutionDellHendellForMobile(),this.redmineEvolutionMayPage(),this.redmineEvolutionAttachments(),this.redmineEvolutionfiles(),this.redmineEvolutionNotice(),this.redmineEvolutionStartWork(),this.redmineEvolutionAjax(),this.redmineEvolutionHelpModal(),this.redmineEvolutionGoToTop(),this.redmineEvolutionEasyGantt(),this.redmineEvolutionDatepicker(),this.redmineEvolutionResources(),this.redmineEvolutionSelect(),this.redmineEvolutionIssuesTable(),this.redmineEvolutionRedmineX(),this.redmineEvolutionOpenLinkExternal()},redmineEvolutionOpenLinkExternal:function(){var t=body.find("a.external");if(0<t.length){let e;t.each(function(){void 0!==(e=$(this).attr("href"))&&""!=e&&"#"!=e&&$(this).attr("target","_blank")})}},redmineEvolutionAllIssue:function(){body.hasClass("controller-issues action-show")&&(_this.redmineEvolutionIssues(),_this.redmineEvolutionTabsTssue(),_this.redmineEvolutionTabsTssueIssueTree())},redmineEvolutionTabsTssue:function(){let r=body.find("#history");if(0<r.length){var l=r.find(".tabs a");let e=r.find("#tab-content-history"),t="hidden-ap";t;let n=r.find(".holder-more-button");0==n.length&&(e.after('<div class="holder-more-button hidden-ap"><a href="#" class="btn-main">more</a></div>'),n=r.find(".holder-more-button"));var c=n.find(".btn-main");let i=e.find(".journal"),o,s,a;function d(){((a=r.find(".tabs .selected")).is("#tab-history")||a.is("#tab-notes")||a.is("#tab-properties"))&&(i.removeClass(t),o=e.find(".journal:visible"),5<(s=o.length))?(n.hasClass(t)&&n.removeClass(t),o.each(function(e){s-5>e&&$(this).addClass(t)})):n.hasClass(t)||n.addClass(t)}l.click(function(){d()}),d(),c.click(function(){return console.log(99999),i.removeClass(t),n.hasClass(t)||n.addClass(t),!1})}},redmineEvolutionTabsTssueIssueTree:function(){var e=body.find("#issue_tree, #relations");if(0<e.length){let t,n,i,o="open-tr";if(e.each(function(e){0<(t=$(this).find(".list tr")).length&&((n=$(this).find(".contextual")).append('<a href="#" class="icon icon-down open-element-tree"></a>'),$(this).addClass(o))}),0<(i=e.find(".open-element-tree")).length){let e;i.on("click",function(){return e=$(this).closest("."+o).find("form"),$(this).toggleClass(openCl),e.toggleClass(openCl),!1})}}},redmineEvolutionThemeSettings:function(){for(var e,t="",n="",i=body.attr("class").toLowerCase(),o=["redmine-evolution-classic","redmine-evolution-purple","redmine-evolution-dracula"],s="data-theme-color",a="active",r=["re-icon-classic","re-icon-thin","re-icon-medium","re-icon-fill"],l=r[0],c=0;c<o.length;c++)-1!=i.indexOf(o[c])&&(e=o[c]);if(_this.redmineEvolutionGetCookie(s),null!==checkCookie&&"false"!=checkCookie[1]){body.attr(s,checkCookie[1]);checkCookie[1];for(c=0;c<o.length;c++)o[c]==checkCookie[1]?n+='<li class="'+a+'"><input class="el-theme-color" id="'+o[c]+'" type="radio" name="theme-color" value="'+o[c]+'" checked="checked" /><label for="'+o[c]+'"></label></li>':n+='<li><input class="el-theme-color" id="'+o[c]+'" type="radio" name="theme-color" value="'+o[c]+'" /><label for="'+o[c]+'"></label></li>'}else for(c=0;c<o.length;c++)-1!=i.indexOf(o[c])?n+='<li class="'+a+'"><input class="el-theme-color" id="'+o[c]+'" type="radio" name="theme-color" value="'+o[c]+'" checked="checked" /><label for="'+o[c]+'"></label></li>':n+='<li><input class="el-theme-color" id="'+o[c]+'" type="radio" name="theme-color" value="'+o[c]+'" /><label for="'+o[c]+'"></label></li>';var d="data-theme-icon",h="",u=['<svg class="svg-fill" width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15 9.63358L7.15378 16.2838C7.15378 16.2931 7.15149 16.307 7.1469 16.3258C7.1424 16.3444 7.14001 16.358 7.14001 16.3676V23.1017C7.14001 23.3448 7.22648 23.5555 7.39935 23.7329C7.57218 23.9105 7.77684 23.9998 8.01338 23.9998H13.2532V18.6124H16.7468V24H21.9866C22.2231 24 22.428 23.9109 22.6006 23.7329C22.7735 23.5557 22.8602 23.3448 22.8602 23.1017V16.3676C22.8602 16.3303 22.8553 16.3021 22.8465 16.2838L15 9.63358Z" fill="black"/><path d="M25.8482 14.7685L22.86 12.2152V6.49114C22.86 6.36028 22.8191 6.25267 22.737 6.16845C22.6555 6.08432 22.5509 6.04226 22.4233 6.04226H19.8034C19.6759 6.04226 19.5713 6.08432 19.4893 6.16845C19.4076 6.25267 19.3667 6.36033 19.3667 6.49114V9.22684L16.0372 6.36476C15.7464 6.12157 15.4007 6 15.0003 6C14.6 6 14.2543 6.12157 13.9633 6.36476L4.15163 14.7685C4.06068 14.8432 4.01083 14.9437 4.00156 15.07C3.99233 15.1962 4.02412 15.3064 4.097 15.3999L4.94303 16.4381C5.01591 16.5222 5.11131 16.5737 5.22961 16.5925C5.33882 16.6019 5.44803 16.5691 5.55724 16.4943L15 8.3991L24.4429 16.4943C24.5159 16.5595 24.6112 16.5921 24.7295 16.5921H24.7705C24.8886 16.5736 24.9838 16.5218 25.0571 16.4379L25.9032 15.3998C25.976 15.3062 26.0078 15.1962 25.9984 15.0698C25.9891 14.9439 25.939 14.8433 25.8482 14.7685Z" fill="black"/></svg>','<svg class="svg-stroke" width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 15.7596C8 14.4019 8 13.723 8.27446 13.1262C8.54892 12.5295 9.06437 12.0877 10.0953 11.2041L11.0953 10.3469C12.9586 8.7498 13.8902 7.95123 15 7.95123C16.1098 7.95123 17.0414 8.7498 18.9047 10.3469L19.9047 11.2041C20.9356 12.0877 21.4511 12.5295 21.7255 13.1262C22 13.723 22 14.4019 22 15.7596V20C22 21.8856 22 22.8284 21.4142 23.4142C20.8284 24 19.8856 24 18 24H12C10.1144 24 9.17157 24 8.58579 23.4142C8 22.8284 8 21.8856 8 20V15.7596Z" stroke="#222222"/><path d="M17.5 24V19C17.5 18.4477 17.0523 18 16.5 18H13.5C12.9477 18 12.5 18.4477 12.5 19V24" stroke="#222222" stroke-linecap="round" stroke-linejoin="round"/></svg>','<svg class="svg-stroke" width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 15.7596C8 14.4019 8 13.723 8.27446 13.1262C8.54892 12.5295 9.06437 12.0877 10.0953 11.2041L11.0953 10.3469C12.9586 8.7498 13.8902 7.95123 15 7.95123C16.1098 7.95123 17.0414 8.7498 18.9047 10.3469L19.9047 11.2041C20.9356 12.0877 21.4511 12.5295 21.7255 13.1262C22 13.723 22 14.4019 22 15.7596V20C22 21.8856 22 22.8284 21.4142 23.4142C20.8284 24 19.8856 24 18 24H12C10.1144 24 9.17157 24 8.58579 23.4142C8 22.8284 8 21.8856 8 20V15.7596Z" stroke="#222222" stroke-width="1.5"/><path d="M17.5 24V19C17.5 18.4477 17.0523 18 16.5 18H13.5C12.9477 18 12.5 18.4477 12.5 19V24" stroke="#222222" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>','<svg class="svg-fill" width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.27446 13.1262C8 13.7229 8 14.4018 8 15.7595V19.9999C8 21.8856 8 22.8284 8.58579 23.4142C9.11733 23.9457 9.94285 23.9949 11.5 23.9995V19C11.5 17.8954 12.3954 17 13.5 17H16.5C17.6046 17 18.5 17.8954 18.5 19V23.9995C20.0572 23.9949 20.8827 23.9457 21.4142 23.4142C22 22.8284 22 21.8856 22 19.9999V15.7595C22 14.4018 22 13.7229 21.7255 13.1262C21.4511 12.5294 20.9356 12.0876 19.9047 11.204L18.9047 10.3469C17.0414 8.74974 16.1098 7.95117 15 7.95117C13.8902 7.95117 12.9586 8.74974 11.0953 10.3469L11.0953 10.3469L10.0953 11.204C9.06437 12.0876 8.54892 12.5294 8.27446 13.1262ZM16.5 23.9999V19H13.5V23.9999H16.5Z" fill="#222222"/></svg>'];if(_this.redmineEvolutionGetCookie(d),null!==checkCookie&&checkCookie[1]!=l){body.attr(d,checkCookie[1]);checkCookie[1];for(c=0;c<r.length;c++)r[c]==checkCookie[1]?h+='<li class="'+a+'"><input class="el-theme-icon" id="'+r[c]+'" type="radio" name="theme-icon" value="'+r[c]+'" checked="checked" /><label for="'+r[c]+'">'+u[c]+"</label></li>":h+='<li><input class="el-theme-icon" id="'+r[c]+'" type="radio" name="theme-icon" value="'+r[c]+'" /><label for="'+r[c]+'">'+u[c]+"</label></li>"}else for(c=0;c<r.length;c++)h+=0==c?'<li class="'+a+'"><input class="el-theme-icon" id="'+r[c]+'" type="radio" name="theme-icon" value="'+r[c]+'" checked="checked" /><label for="'+r[c]+'">'+u[c]+"</label></li>":'<li><input class="el-theme-icon" id="'+r[c]+'" type="radio" name="theme-icon" value="'+r[c]+'" /><label for="'+r[c]+'">'+u[c]+"</label></li>";t+='<div class="revo-theme-settings revo-top-menu">\t<a href="#" class="revo-theme-color icon icon-color"></a>\t\t<div class="drdn-content">\t\t\t<div class="drdn-items">\t\t\t\t<ul class="list-color-theme">'+n+'</ul>\t\t\t\t<ul class="list-icon-theme">'+h+'</ul>\t\t\t<ul class="holder-drop-button">\t\t\t\t<li><a href="#" class="theme-save icon icon-checked"></a></li>\t\t\t\t<li><a href="#" class="theme-reset icon icon-reload"></a></li>\t\t\t\t<li><a href="#" class="theme-close icon icon-cancel"></a></li>\t\t\t</ul>\t\t</div>\t</div></div>',topMenu.find("#account").before(t);var p,t=topMenu.find(".theme-save"),f=topMenu.find(".theme-reset"),m=topMenu.find("#"+e),g=topMenu.find(".list-color-theme li"),v=topMenu.find("#"+l),y=topMenu.find(".list-icon-theme li"),b=(OpenBox({wrap:".revo-theme-settings",arrowButton:".revo-theme-color",box:".drdn-content",openClass:"open",close:".theme-close"}),t.click(function(){return m=topMenu.find(".el-theme-color:checked"),v=topMenu.find(".el-theme-icon:checked"),0<m.length&&!m.parent().hasClass(a)&&(p=m.val(),g.removeClass(a),m.parent().addClass(a),"false"!==p?(_this.redmineEvolutionSetCookie(s,p),body.attr(s,p)):(_this.redmineEvolutionSetCookie(s,"false"),body.attr(s,"false"))),0<v.length&&!v.parent().hasClass(a)&&(p=v.val(),y.removeClass(a),v.parent().addClass(a),"false"!==p?(_this.redmineEvolutionSetCookie(d,p),body.attr(d,p)):(_this.redmineEvolutionSetCookie(d,"false"),body.attr(d,"false"))),!1}),topMenu.find("#"+e)),w=topMenu.find("#"+l);f.click(function(){return b.parent().hasClass(a)||(_this.redmineEvolutionSetCookie(s,"false"),body.attr(s,"false"),g.removeClass(a),b.trigger("click"),b.parent().addClass(a)),w.parent().hasClass(a)||(_this.redmineEvolutionSetCookie(d,"false"),body.attr(d,"false"),y.removeClass(a),w.trigger("click"),w.parent().addClass(a)),!1})},redmineEvolutionRedmineX:function(){function t(){i&&clearTimeout(i),i=setTimeout(function(){s<3?0<(o=body.find(".gantt_cal_ltext select")).length?(o.select2({dropdownParent:body.find(".gantt_cal_light")}),o.on("change",function(){t()}),s=0):(s++,t()):s=0},500)}var e,n,i,o,s;body.hasClass("controller-redmine_x_gantt action-index")&&(0<(e=body.find("#gantt-save-btn, #gantt-redo-btn, #gantt-undo-btn, #show-filters").not(".select2-hidden-accessible")).length&&(e.each(function(){$(this).attr("data-original-title",$(this).text()),$(this).tooltip({trigger:"hover",container:"body",placement:"top",template:'<div class="tooltip-new" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})}),e.on("change",function(){t()})),$(document).on("click",function(e){"gantt_add"!=(n=e.target).className&&"gantt_task_content"!=n.className||t()}),s=0)},redmineEvolutionKey:function(){var e;body.hasClass("controller-keys")&&((e=content.find("> h2")).after('<div class="holder-key-form"></div>'),content.find(".holder-key-form").append(e.find("form")))},redmineEvolutionIssuesTablefixed:function(e){var t,n,i,o,s,a,r;0<(e=e).length&&e.length<2&&(a=mobileButton?51:41,r=content.find(".list thead, .JCLRgrips .grip"),r.outerHeight(),i=e.offset().top,o=$(window).height(),s=mainBox.outerHeight(),$(window).on("resize",function(){n&&clearTimeout(n),n=setTimeout(function(){e.outerHeight(),i=e.offset().top,o=$(window).height(),s=mainBox.outerHeight()},200)}),$(window).on("scroll",function(){i=e.offset().top,o+i<s&&(t=$(window).scrollTop(),i<t+a)?r.css({top:t+a-i+"px"}):r.css({top:0})}))},redmineEvolutionIssuesTable:function(){var e=body.find("table.list");0<e.length&&_this.redmineEvolutionIssuesTablefixed(e)},redmineEvolutionResources:function(){var n,t,i,o,e,s,a,r;body.hasClass("controller-resource_bookings")&&(i=$(".resource-planning-chart #gantt_area"),i.on("mousemove",".issue-line",function(e){var t=$(this).children(".button-add-booking");t.hasClass("is-active")||(o=e.pageX-i.offset().left+i.scrollLeft(),o=30*Math.floor(o/30),n=t.prop("style").left,n.slice(0,-2)!=o&&t.css({left:o,width:28}))}),e=body.find("#content .contextual .icon-add, #content .button-add-booking"),s=0,e.on("click",function(){!function e(){++s<10&&(t&&clearTimeout(t),t=setTimeout(function(){0<body.find('.modal input[type="date"]').length?_this.redmineEvolutionDatepicker():e()},100))}()}),a=0,body.on("click",'.modal .icon-del, .modal input[type="submit"]',function(){!function e(){r&&clearTimeout(r),r=setTimeout(function(){++a<5&&(0<body.find("div.flash.notice, #errorExplanation").length?_this.redmineEvolutionNotice():e())},200)}()}))},redmineEvolutionDropdaunMenu:function(){var e=content.find(".contextual dropdown .cm-menu-divider");if(0<e.length){var t,n=content.find(".contextual").find(".dropdown"),i=n.find(".dropdown-menu > li"),o=i.index(e.parent());for(let e=0;e<o;e++)t=i.eq(e).find("> a"),n.before(t.removeclass(tooltipexceptioncl).addclass(tooltipcl)),t.tooltip({trigger:"hover",container:"body",html:!0,template:'<div class="tooltip-new" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),t=i.eq(e).remove();e=content.find(".contextual span.drdn");0<e.length&&(i=n.find(".dropdown-menu > li"),e.find(".drdn-items").append('<ul class="new-list">'+i+"</ul>"),n.remove())}},redmineEvolutionGetCookie:function(e){var t=new Date;t.setFullYear(9999),(checkCookie=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))&&decodeURIComponent(checkCookie[1])},redmineEvolutionSetCookie:function(e,t){var n=new Date;redmineEvolution=e,n.setFullYear(9999),e=redmineEvolution,t=t,n=n,e=encodeURIComponent(redmineEvolution)+"="+encodeURIComponent(t),document.cookie=e+"; expires="+n+"; path=/"},redmineEvolutionDMSF:function(){body.hasClass("controller-dmsf action-show")&&content.find(".dmsf-icon-file").addClass(tooltipExceptionCl)},redmineEvolutionDatepicker:function(){var e,t=body.find('input[type="date"], input.date, #operation_operation_date').not("."+doneData),t=(body.find(".ui-datepicker-trigger").each(function(){(e=$(this)).is('input[type="date"]')&&e.attr("type","text"),0<(e=e.parent().find("."+doneData)).length&&e.each(function(){$(this).focus(function(){$(this).datepicker("show")}),$(this).focusout(function(){$(this).datepicker("hide")})})}),0<t.length&&t.datepicker({dateFormat:"yy-mm-dd"}),body.find(".datepicker-check-in")),n=body.find(".datepicker-check-out"),i=(0<t.length&&t.datepicker({beforeShow:s,onClose:a}),0<n.length&&n.datepicker({beforeShow:s,onClose:a}),$("#content .overlay-box")),o="show";function s(){i.hasClass(o)||i.addClass(o)}function a(){i.hasClass(o)&&i.removeClass(o)}},redmineEvolutionSearch:function(){var e,t,n,i,o=body.find("#header #quick-search");0<o.length&&(n=o.find('form[action*="/search"] , #project-jump, #project_quick_jump_box'),e="small-search",0<n.length)&&(n.wrapAll('<div class="redmineevolution-modal-search"><div class="redmineevolution-open-box"><div class="redmineevolution-wrapper"><div class="redmineevolution-content">'),n=o.find(".redmineevolution-content"),t="redmineevolution-start-search",o.append('<div class="holder-search-link"><a class="redmineevolution-open-search-link" href="#"></a><a class="redmineevolution-search-link '+tooltipCl+'" href="#" data-original-title="'+o.find('label[for="q"] > a').text().toLowerCase()+'">'+o.find('label[for="q"] > a').text().toLowerCase()+"</a></div>"),n.append('<a class="redmineevolution-close"></a>'),o.find(".redmineevolution-open-search-link").click(function(){return body.hasClass(e)?body.hasClass(e)&&(body.removeClass(e),i.animate({opacity:1},{queue:!1,duration:speedAnim}),_this.redmineEvolutionSetCookie(e,"false")):(body.addClass(e),_this.redmineEvolutionSetCookie(e,"true")),!1}),_this.redmineEvolutionGetCookie(e),null!==checkCookie&&"true"==checkCookie[1]&&body.addClass(e),n=o.find(".redmineevolution-search-link"),i=o.find(".redmineevolution-open-box"),o=o.find(".redmineevolution-close"),n.click(function(){return body.hasClass(t)||body.addClass(t),i.animate({opacity:1},{queue:!1,duration:speedAnim}),!1}),o.click(function(){return i.animate({opacity:0},{queue:!1,duration:speedAnim,complete:function(){body.hasClass(t)&&body.removeClass(t)}}),!1}))},redmineEvolutionERPmine:function(){var e,t,n;body.hasClass("controller-settings")&&0<(d=body.find('form[action*="redmine_wktime"]')).length&&(e="test-size-0",d.find(".button").each(function(){$(this).attr("data-original-title",$(this).text()),(t=$(this).parent()).hasClass(e)||t.addClass(e)}),_this.redmineEvolutionTooltip(),(n=d).find('button[onclick*="listbox_moveacross"]').click(function(){h&&clearTimeout(h),h=setTimeout(function(){jcf.replace(n.find("select").not("."+clNot).not('[class*="select2"]').not("."+exeptionMultipleCL))},200)}));var i=body.attr("class").match("controller-wk");if(chekERPmine=null!==i?0<i.length:chekERPmine)for(var o=["controller-wkasset","controller-wkattributegroup","controller-wksurvey","controller-wkbrand","controller-wkpayroll","controller-wkproductitem","controller-wkdashboard","controller-wkattendance","controller-wkpublicholiday"],s=0;s<o.length;s++)body.hasClass(o[s])&&content.find("> form > fieldset").wrapInner('<div class="flex-form">');for(var a=["controller-wktime action-edit","controller-wkexpense action-edit","controller-wkproduct action-category","controller-wkunitofmeasurement action-index"],s=0;s<a.length;s++)!body.hasClass(a[s])||body.hasClass("has-footer")||body.addClass("has-footer");for(var r,l,c,d,h,u,p,f=["controller-wksurvey action-index"],s=0;s<f.length;s++)!body.hasClass(f[s])||body.hasClass(clNoFooter)||body.addClass(clNoFooter);chekERPmine&&(body.hasClass("controller-wkpayroll action-user_salary_settings")||(r=body.find("#query_form table"),l=["#commit-keywords"],r.each(function(){for(var e=0;e<l.length;e++)$(this).is(l[e])||r.addClass("exceptionstable")})),body.hasClass("controller-wkgltransaction action-edit"))&&0<(i=content.find("#txnTable, #txnTable + table")).length&&i.wrap('<div class="autoscroll">'),chekERPmine&&(i=content.find('table.list a[title], a[href*="/wkproduct/edit?product_id"], a[href*="/wkcrmenumeration/edit"], a[href*="/wkattendance/clockedit"], a[href*="/wktime/edit"], a[href*="/wklocation/edit"], a[href*="/wkaccountproject/edit"], a[href*="/wkexpense/edit"], a[href*="/wkattendance/edit"], a[href*="/wksurvey/edit"], a[href*="/wksurvey/destroy"], a[href*="/wkledger/edit"], a[href*="/wkpayroll/user_salary_settings"], a[href*="/wklead/edit?address_id"], a[href*="/wkcrmaccount/edit?account_id"], a[href*="/wkopportunity/edit?opp_id"], a[href*="/wktax/edit?tax_id"], a[href*="javascript:deleteRow("], a[href*="/wkcontract/edit?contract_id"],a[href*="javascript: openInvReportPopup();"]'),c=$('body[class*="controller-wk"] .wk-contextual a[accesskey="n"], body[class*="controller-wk"] .wk-contextual a[accesskey="p"]'),0<i.length&&i.addClass(tooltipCl),0<c.length)&&c.addClass(tooltipCl),chekERPmine&&(d=content.find("#query_form, #survey_form, #wktime_edit"),0<(i=content.find("#query_form .icon-add, #survey_form .icon-add, #wktime_edit .icon-time-add")).length)&&i.click(function(){h&&clearTimeout(h),h=setTimeout(function(){u=d.find("table select").not('[url*="auto_completes"], [url*="autocomplete"], [data-select2-id*="tags"]').not('[class*="select2"]').not("."+exeptionMultipleCL),jcf.destroy(u),p=d.find("table .jcf-select"),d.find("table select").attr("class"," "),0<p.length&&p.each(function(){(0<$(this).find("select").length?($(this).attr("class"," fake-box"),$(this).find(".jcf-select-text, .jcf-select-opener")):$(this)).remove()}),jcf.replace(u),0<(p=d.find("table select").not(".jcf-hidden, .jcf-reset-appearance")).length&&(p.each(function(){$(this).after($(this).clone()),$(this).remove()}),u=d.find("table select").not(".jcf-hidden, .jcf-reset-appearance"),jcf.replace(u)),0<(p=d.find("a[data-original-title], a[title]")).length&&(p.removeClass(tooltipExceptionCl),p.each(function(){$(this).hasClass(tooltipCl)||$(this).addClass(tooltipCl)}),_this.redmineEvolutionTooltip())},500)})},redmineEvolutionEasyGantt:function(){var e;body.hasClass("controller-easy_gantt action-index")&&0<(e=body.find("#gantt_cont")).length&&e.wrap('<div class="autoscroll-easy-gantt">').wrap('<div class="'+autoscroll+'">')},redmineEvolutionGoToTop:function(){var e=body.find(".gototop"),t=(0<e.length&&e.remove(),body.append('<a href="#" class="redmine-evolution-go-to-top">'),body.find(".redmine-evolution-go-to-top"));function n(){position=jQuery(window).scrollTop(),windH=jQuery(window).height(),position>windH/2?t.hasClass("visible")||t.addClass("visible"):t.hasClass("visible")&&t.removeClass("visible")}t.click(function(){return jQuery("html, body").animate({scrollTop:0},{queue:!1,duration:1300}),!1}),n(),jQuery(window).resize(function(){n()}),jQuery(window).scroll(function(){n()})},redmineEvolutionHelpModal:function(){var e,t,n,i=!0,o=body.find(".icon-help");0<o.length&&(body.append('<div id="redmine-evolution-help"></div>'),e=body.find("#redmine-evolution-help"),o.on("click",function(){if(t=$(this).parents("#admin-index"),n=$(this).parents("#admin-menu"),0<t.length&&(i=!1),i=0<n.length?!1:i)return 0<(contentHelp=$(this).find(".tooltip-area")).length&&0<contentHelp.text().length&&(e.empty().append(contentHelp.html()),void 0!==(t=$(this).parent().find("label").text()))&&0<t.length&&e.dialog({title:t,modal:!0,dialogClass:"modal help-modal"}),!1}))},redmineEvolutionRM:function(){var e=body.find(".eq-filter-list-container");0<e.length&&(e.each(function(){300<$(this).find(".eq-filter-list").outerHeight(!0)&&$(this).addClass("jcf-scrollable")}),jcf.replace(e)),0<body.find(".link_to_modal").length&&body.on("click",".link_to_modal",function(){jcf.replace(e)})},redmineEvolutionMobile:function(){function e(){mobileToggle.is(":visible")?(mobileButton=!0,body.find("[data-original-title]").tooltip("destroy")):(mobileButton=!1,_this.redmineEvolutionTooltip()),"ontouchstart"in document.documentElement&&body.addClass("touchdevice")}mobileToggle=body.find(".mobile-toggle-button"),e(),$(window).resize(function(){e()})},redmineEvolutionfiles:function(){var i,o,s,a,e=content.find("table.files");0<e.length&&(i=["jpg","png","gif"],e.each(function(){var e,t;if(a=$(this),a=a.find("a.icon-download"),o=[],0<a.length&&a.each(function(){s=$(this),varHref=s.attr("href").toLowerCase().split("."),taypeFaile=varHref[varHref.length-1];for(let e=0;e<i.length;e++)taypeFaile===i[e]&&o.push(s)}),0<o.length)for(var n=0;n<o.length;n++)e=o[n].closest("tr").find(".filename a"),t='<span class="icon-fancybox" href="'+o[n].attr("href")+'">\n\t<span class="block-info">\n\t\t<span class="in-info">\n\t\t\t<span class="info">'+o[n].text()+'</span>\n\t\t\t<span class="holder-button">'+o[n].closest("tr").find(".buttons").html()+"</span>\n\t\t</span>\n\t</span>\n</span>",e.before(t);0<(a=content.find(".icon-fancybox")).length&&a.fancybox({caption:function(e,t){return $(this).find(".block-info").html()}})}))},redmineEvolutionAttachments:function(){var _,S,k,E,T,A,e=content.find(".attachments");0<e.length&&(e.hasClass("done-attachments")||(e.addClass("done-attachments"),0<(e=e.find("table")).length&&(_=["jpg","png","gif","pdf"],e.each(function(){var e=$(this),t=e.find(".icon-download");if(T=[],A=[],t.each(function(){k=$(this),E=k.attr("href").toLowerCase().split("."),S=E[E.length-1];for(let e=0;e<_.length;e++)S===_[e]&&(k.closest("tr").addClass("hidden"),T.push(k),A.push(S))}),0<T.length){0;for(var n='<div class="redmine-evolution-attachments"><div class="holder-gal"><ul>',i=0;i<T.length;i++){0;var o=(u=T[i].closest("tr")).find(".author").clone(),s=u.find(".delete").clone(),a=u.find(".size").clone(),r=u.find(".icon-attachment").clone(),l="",c="",d="",h="",l=0<o.length?'<div class="info">'+o[0].outerHTML+"</div>":'<div class="info"></div>';0<s.length&&(c='<div class="holder-button">'+s[0].outerHTML+"</div>"),0<a.length&&(d=a[0].outerHTML),0<r.length&&(h=r[0].outerHTML),o="",o='<li>\n<div class="in">\n\t<div class="holder-img">\n',"jpg"==A[i]||"png"==A[i]||"jpg"==A[i]?o+='       <a data-fancybox="gallery" href="'+T[i].attr("href")+'">\n                 <span class="bg-images"></span>\n                 <img src="'+T[i].attr("href")+'" alt="image" /> \n':"pdf"==A[i]&&(o+='       <a data-fancybox="gallery" data-type="iframe" href="'+T[i].attr("href")+'">\n                 <span class="bg-images"></span>\n                 <span class="attachments-pdf"></span> \n'),n+=o+='       </a>\n\t</div>\n\t<div class="block-info">\n\t    <div class="in-info">\n\t        <div class="info">\n               \n'+h+d+'\t        </div>\n\t        <div class="holder-button">\n               \n'+T[i][0].outerHTML+'\t        </div>\n\t    </div>\n\t    <div class="in-info">\n'+l+c+"\t    </div>\n\t</div>\n</div>\n</li>\n"}e.after(n+='</ul><span class="start-mob">start-mob</span></div></div>');t=content.find(".thumbnails.images");0<t.length&&t.remove();var u,p,f,t=(u=e.parent().find(".redmine-evolution-attachments")).find('a[data-fancybox="gallery"]'),m=u.find(".start-mob"),g=u.find(".holder-gal"),v=!0;t.fancybox({caption:function(e,t){return $(this).closest("li").find(".block-info").html()}}),content.find("p.thumbnail");function y(){m.is(":visible")&&v&&content.find(".all-tabs-controll").length<1?(v=!1,1<g.find("> ul > li").length&&(g.before('<div class="all-tabs-controll">\n\t<div class="hold-control">\n\t\t<ul class="pages"></ul>\n\t\t<div class="controls">\n\t\t\t<a href="#" class="btn prevPage"></a>\n\t\t\t<a href="#" class="btn nextPage"></a>\n\t\t</div>\n\t\t</div>\n\t\t<div class="control-tabs">\n\t\t<div class="scrollbar">\n\t\t\t<div class="handle">\n\t\t\t\t<div class="mousearea"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'),g.sly({horizontal:1,itemNav:"basic",smart:1,activateOn:"click",mouseDragging:1,touchDragging:1,releaseSwing:1,startAt:0,scrollBar:u.find(".scrollbar"),scrollBy:1,pagesBar:u.find(".pages"),activatePageOn:"click",speed:300,elasticBounds:1,easing:"easeOutExpo",dragHandle:1,dynamicHandle:1,clickBar:1,prevPage:u.find(".prevPage"),nextPage:u.find(".nextPage")}))):m.is(":visible")||v?g.sly("reload"):(u.find(".all-tabs-controll").remove(),g.sly("destroy"),v=!0)}0<(t=e.closest(".attachments").parent().find(".thumbnail img")).length&&t.each(function(){(f=$(this).parent()).is("a")&&f.remove()}),y(),$(window).resize(function(){p&&clearTimeout(p),p=setTimeout(function(){y()},500)});var b,w,x,C,e=content.find("#history").find(".thumbnails a");0<e.length&&e.each(function(){w=$(this).closest('div[id*="note"]').find(".details"),x=$(this).attr("href"),C=w.find('a[href="'+x+'"]').parent(),w=w.find('a[href="'+x+'"]').parent().find(".icon-download"),b=w.text(),w=w.attr("href"),$(this).attr("href",w).attr("data-fancybox","gallery"),x='<div class="in-info info-small-fancybox">\n    <div class="fancybox-in">\n        <div class="info">\n           <a class="name-title" href="'+x+'">'+b+'</a>\n        </div>\n        <div class="holder-button">\n           <a class="icon-only icon-download done-tooltip" href="'+w+'"></a>\n        </div>\n    </div>\n</div>',C.css({display:"none"}),$(this).parent().append(x)}),e.fancybox({caption:function(e,t){return $(this).parent().find(".in-info").html()}})}}))))},redmineEvolutionMayPage:function(){var e,t,n,i,o,s,a,r;body.is(".controller-my.action-page, .controller-projects.action-page, .controller-welcome.action-index")&&(n=!(e="open-settings"),body.on("click",".icon-settings",function(){(t=$(this).closest(".mypage-box").find('div[id*="settings"]')).hasClass(e)?t.removeClass(e):t.addClass(e),n&&jcf.replace(body.find("select").not('[url*="auto_completes"], [url*="autocomplete"]').not("."+clNot).not('[class*="select2"]').not("."+exeptionMultipleCL))}),0<(i=content.find('input[type="submit"]')).length&&i.click(function(){n=!0}),body.on("click",'input[type="submit"] + a',function(){(t=$(this).closest(".mypage-box").find('div[id*="settings"]')).hasClass(e)?t.removeClass(e):t.addClass(e)}),o=body.find("#block-form"),s=body.find("#block-select"),r=0,body.on("click",".contextual .icon-close",function(){r=0,a&&clearTimeout(a),a=setTimeout(function(){!function e(){r<5&&(r++,(s=body.find("#block-select")).hasClass(clSelect2Hidden)?e():(o.find(".select2").remove(),s.select2()))}()},300)}))},redmineEvolutionDellHendellForMobile:function(){var e,o=!1;function t(){var e,t,n,i;mobileButton?o||(o=!0,0<(e=body.find(".sort-handle")).length&&e.each(function(e){(t=$(this).parent()).is("td")?1<t.find("> *").length?$(this).addClass(hiddenCl):(i=t.parent(),i=i.find("td"),n=i.index(t),0<(i=t.closest("table").find("tr")).length&&i.each(function(){$(this).find("td, th").eq(n).addClass(hiddenCl)})):$(this).remove()})):o&&(content.find(hiddenCl).removeClass(hiddenCl),o=!1)}t(),$(window).resize(function(){e&&clearTimeout(e),e=setTimeout(function(){t()},500)})},redmineEvolutionRedmine_X:function(){var e,t=!1;(t=body.hasClass("controller-redmine_x_statistics")?!0:t)&&body.on("click",".gantt-chart-modal .move-right, .gantt-chart-modal.move-left",function(){e=body.find(".gantt-chart-modal"),0<(e=e.find("select[multiple]").not("."+exeptionMultipleCL)).length&&jcf.replace(e)})},redmineEvolutionRedmineUP:function(){var e,t,n,i;function o(){e&&clearTimeout(e),e=setTimeout(function(){++t<10&&(_this.redmineEvolutionDatepicker(),0<(n=$("#contact_tag_list")).length&&(n.hasClass(exeptionMultipleCL)||n.addClass(exeptionMultipleCL)),0<(n=body.find("select").not('[url*="auto_completes"], [url*="autocomplete"], [multiple]').not("."+clNot).not('[class*="select2"]').not("."+exeptionMultipleCL)).length&&n.select2(),0<(n=body.find("select[multiple]").not("."+clNot).not("."+exeptionMultipleCL)).length&&jcf.replace(n),o())},50)}0<body.find("#customer_address_add_link, #order_contact_id_add_link, #expense_contact_id_add_link, #deal_contact_id_add_link, #invoice_contact_id_add_link, #issue_category_id ~ .icon-add, #issue_fixed_version_id ~ .icon-add, #helpdesk_ticket_from_address_add_link, #customer_profile .contextual a, #contact_projects .contextual a").length&&(t=0,body.on("click","#customer_address_add_link, #order_contact_id_add_link, #expense_contact_id_add_link, #deal_contact_id_add_link, #invoice_contact_id_add_link, #issue_category_id ~ .icon-add, #issue_fixed_version_id ~ .icon-add, #helpdesk_ticket_from_address_add_link, #customer_profile .contextual a, #contact_projects .contextual a",function(){jcf.replace(body.find("select[multiple]").not("."+clNot).not("."+exeptionMultipleCL)),body.find("select").not('[url*="auto_completes"], [url*="autocomplete, [multiple]"]').not("."+clNot).not('[class*="select2"]').select2(),t=0,o()}),body.on("click","#show_details_link a",function(){t=0,o()}));var s,a,r=!0;function l(){mobileButton&&body.hasClass("action-issue_report_details")&&0<(i=content.find(".issue-report-graph")).length&&(r=!1,i.wrapAll('<div class="'+autoscroll+'">'))}l(),$(window).resize(function(){e&&clearTimeout(e),e=setTimeout(function(){r&&l()},1e3)}),body.hasClass("controller-agile_boards action-index")&&0<(s=mainBox.find("#sidebar .project-members").find(".assignable-user")).length&&(body.addClass("has-assignable-user"),s.each(function(){0<(a=$(this).find("a")).length?$(this).attr("data-original-title",a.text()):$(this).attr("data-original-title",$(this).text()).addClass("empty-user-up")}))},redmineEvolutionNotice:function(){var e,t=body.find("div.flash.notice, #errorExplanation");0<t.length&&(body.hasClass("start-notice")||body.removeClass("start-notice"),body.addClass("start-notice"),e&&clearTimeout(e),e=setTimeout(function(){t.remove(),body.removeClass("start-notice")},5e3),t.on("click",function(){body.removeClass("start-notice"),$(this).remove()}))},redmineEvolutionStartWork:function(){function e(){var t=body.find("#wrapper");function n(){mainHtml.removeClass("flyout-is-active"),t.off("click")}body.on("click",".js-flyout-menu-toggle-button",function(e){e.preventDefault(),e.stopPropagation(),mainHtml.hasClass("flyout-is-active")?n():(mainHtml.addClass("flyout-is-active"),t.on("click",function(e){e.preventDefault(),e.stopPropagation(),n()}))}),body.addClass("start"),_this.redmineEvolutionRM();var e=content.find(".pagination, > .other-formats");function i(){0<content.find(".pagination, .other-formats").length&&(body.hasClass(clNoFooter)||body.addClass("has-footer"))}0<e.length&&e.each(function(){$(this).closest(".tab-content").length<1&&(body.hasClass(clNoFooter)||body.addClass("has-footer"))}),body.hasClass("controller-wiki action-history")&&i(),body.hasClass("controller-users action-show")&&i();0<body.find('a[href*="logout"]').length?(body.addClass("loggedas"),body.hasClass("action-show")&&0<(e=mainBox.find('#content > .contextual a[onclick*=".show()"]')).length&&e.bind("click",function(){for(var e,t,n,i,o=$(this).attr("onclick").match(/"[^"]+"/g),s=0,a=0;a<o.length;a++)e=o[a].replace(/"/g,""),t&&clearTimeout(t),t=setTimeout(function(){++s<5&&(0<(sel=body.find(e)).length?(n=sel.offset().top-body.find("#header").outerHeight(!0),i=$(window).scrollTop(),n<i&&jQuery("html, body").animate({scrollTop:sel.offset().top-body.find("#header").outerHeight(!0)},{queue:!1,duration:1e3})):checkModal())},5)})):(body.addClass("logged-out"),_this.redmineEvolutionActivity()),_this.redmineEvolutionNotice();var e=topMenu.find("#account a"),o=topMenu.find("#loggedas a"),s="";if(0<e.length||0<o.length){s=(s=s+'<div class="revo-user-menu revo-top-menu">'+'  <a href="#" class="revo-user-menu-open icon icon-user"></a>')+'  <div class="drdn-content">'+'    <div class="drdn-items">',o.each(function(){s+='         <a class="'+$(this).attr("class")+'" href="'+$(this).attr("href")+'">'+$(this).text()+"</a>"}),e.each(function(){s+='         <a class="'+$(this).attr("class")+'" href="'+$(this).attr("href")+'">'+$(this).text()+"</a>"});var s=(s+="    </div>")+"  </div>"+"</div>",e=topMenu.find("#account"),a=topMenu.find("#loggedas");if((0<a.length?a:0<e.length?e:topMenu.find("> ul")).before(s),OpenBox({wrap:".revo-user-menu",arrowButton:".revo-user-menu-open",box:".drdn-content",openClass:"open",close:"close-btn"}),0<o.length){userIdStr=o.attr("href").split("/");for(let e=0;e<userIdStr.length;e++)isNaN(parseInt(userIdStr[e]))||(userId=parseInt(userIdStr[e]))}}}setTimeout(function(){e()},10)},redmineEvolutionTooltip:function(){var i,n,o,s="bottom",a=tooltipExceptionCl;function r(e,t,n){i=e.text(),void 0!==e.attr("data-original-title")&&0<e.attr("data-original-title").length?e.attr("data-original-title")!=i&&e.attr("data-toggle","tooltip"):void 0!==e.attr("title")&&0<e.attr("title").length?e.attr("title")!=i&&e.attr("data-original-title",e.attr("title")):void 0!==i&&0<i.trim().length&&e.attr("data-original-title",i),e.removeAttr("title"),e.tooltip({trigger:"hover",container:"body",placement:t,html:!0,template:'<div class="tooltip-new" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),e.click(function(){$(this).tooltip("hide")}),e.addClass(n)}var e,t=body.find("#top-menu"),l=(0<t.length&&(l=t.find("> ul > li > a, #account a, #loggedas a, .redmine-evolution-badge .revo-icon")).each(function(){r($(this),s,"")}),body.hasClass("controller-easy_gantt")&&0<(e=content.find("#easy_gantt_tool_panel a")).length&&e.each(function(){r($(this),s,a)}),content.find(".other-formats a, .previous a, .next a")),c=(0<l.length&&(l.each(function(){r($(this),"top",a)}),l.click(function(){$(this).tooltip("hide")})),body.hasClass("controller-issues action-show")&&0<(e=content.find("> .contextual a, > .contextual span.icon-only")).length&&e.each(function(){r($(this),"left",a)}),body.hasClass("controller-agile_boards")&&0<(t=mainBox.find("#sidebar .project-members .assignable-user")).length&&t.each(function(){r($(this),"left",a)}),!0);function d(){c=!0,n=mainBox.find(".select2 span[data-original-title], #sidebar #options .icon.files .filename a, #projects .card, #projects .card .title a, .gantt_subjects .issue-subject, .select2-selection__rendered, #cms-settings-menu .icon, .drdn-items .icon, #cm_contextual_menu #dd-ul a, #projects_list .card, .dmsf-title .icon, .holder-login register, #button_problem_finder, #orphaned_template_link, .box .icon-template, .issue_templates.register, #toggle-completed-versions, .gantt-table [data-original-title], .thumbnails a, #checklist-menu a, .simplecolorpicker, #projects-index .project, .next-prev-links .position a,  .icon-attachment, .journal-link, #admin-menu a, #context-menu a, .list .icon-package, #edit_tags_link, #show_note_form_extras, .cal a, #message-form .icon-invoice, .dmsf .icon-folder, .list th[data-original-title] .sort, .scrum-content .icon-add, .dmsf .icon-file"),o=$('.controller-drive_entries .filename a.icon, .ui-dialog .ui-dialog-titlebar-close, .ui-dialog .icon, .controller-redmine_x_statistics .add-menus .icon-add, .controller-wkpayroll.action-payrollsettings .contextual .drdn-content a, .controller-wkpayroll.action-usrsettingsindex .contextual .drdn-content a, #quick-search a:not(.start-tooltip), #link_issue_badge, .controller-wktime.action-edit a[href*="/wktime/edit"], .controller-wkexpense.action-edit a[href*="/wkexpense/edit"], #time-logger-menu,#time-logger-menu a'),0<n.length&&(n.tooltip("destroy"),n.each(function(){$(this).addClass(a).removeAttr("title")})),0<o.length&&(o.tooltip("destroy"),o.each(function(){$(this).addClass(a).removeAttr("title")}));var e=mainBox.find('.contextual span[data-original-title], td.avatar img.jstElements button, #update span.icon-warning, a[href*="/holidays/show"], a[href*="/holidays/destroy"], #content a[data-original-title],a.repeat-value, #projects_list .people > span, .list a[data-original-title], .list a[title], .start-tooltip, #eq-filter-controls p.buttons a.eq-button, span.sort-handle, a.icon-only, a.icon, .contextual .open-filter, .contextual .icon-actions, .contextual a, a.delete, .quick-edit-card a, #query_form p > a, #expense_contact_id_add_link, #invoice_contact_id_add_link, #operation_contact_id_add_link, #order_contact_id_add_link, .field-description, .list th[data-original-title], a[href*="questions_sections/new"]').not("."+a),t=$("#quick-search .redmineevolution-search-link, .revo-modal-badge .revo-icon, .revo-modal-badge .icon, .revo-modal-badge .revo-holder-date");0<e.length&&e.each(function(){$(this).hasClass(a)||r($(this),"top",a)}),0<t.length&&t.each(function(){$(this).hasClass(a)||r($(this),s,a)})}d(),$(document).ajaxSuccess(function(){console.log("Start ajaxSuccess allTooltip"),c=!1,d()}),$(document).on("ajax:success",function(){c&&(console.log("Start ajax:success allTooltip"),d())})},redmineEvolutionControllerProjects:function(){var e=content.find(".template_list, .filter-box table, .subject_header, .chart_table, #filters-table, .attachments table, #comments .note_data, .resource-planning-chart, #kanban_table "),e=((e=body.hasClass("controller-kanban action-index")?content.find(".list"):e).addClass("exceptionstable"),content.find("table").not(".exceptionstable"));0<e.length&&e.each(function(){$(this).closest("."+autoscroll).length<1&&$(this).wrap('<div class="'+autoscroll+'">')})},redmineEvolutionQuestions:function(){var e=content.find("#forum_list");if(0<e.length){var t=e.find(".project-forums, .project-forums + ul"),n=e.find("> ul"),i=e.find(".project-forums"),o=e.find(".project-forums + ul"),s="open",a=!1,r=0<t.length?t:n;if(0<r.length){if(a=!0,0<t.length){for(var l=0;l<Math.ceil(r.length/2);l++)r.slice(2*l,2*l+2).wrapAll('<div class="forums-box main-open-box">');o.each(function(){$(this).wrap('<div class="holder-forums">')})}i.each(function(){$(this).append('<ul class="list-buttons"><li><span class="open-forums"></span></li></ul>')});var c,d,u,n=r.find(".topic_list");0<n.length&&(a=!0,n.each(function(){c=$(this).parent(),d=c.find(" > h3"),c.addClass("main-open-box"),d.append('<ul class="list-buttons"><li><span class="open-forums"></span></li></ul>'),$(this).wrap('<div class="holder-forums">')})),a&&e.find(".open-forums").click(function(){return par=$(this).closest(".main-open-box"),openB=par.find("> .holder-forums"),boxN=openB.find("> ul, > .topic_list"),par.hasClass(s)?(par.removeClass(s),h=0,openB.animate({height:h},{queue:!1,duration:speedAnim,complete:function(){0<(u=par.find("."+s)).length&&u.each(function(){$(this).removeClass(s),$(this).find(" > .holder-forums").css({height:0})})}})):(par.addClass(s),h=boxN.outerHeight(!0),hOld=h,openB.animate({height:h},{queue:!1,duration:speedAnim,complete:function(){openB.css({height:"auto"})}})),!1})}}},redmineEvolutionTabs:function(){body.hasClass("controller-contacts action-show")&&content.find("div.tabs > ul > li > a").bind("click",function(){0<content.find(" > .pagination, > .other-formats").length&&(body.removeClass("has-footer"),body.hasClass("has-footer")||body.addClass("has-footer"))})},redmineEvolutionContextMenu:function(){var e,l=body.find("#context-menu"),c=(0<l.length?body.append(l):(e&&clearTimeout(e),e=setTimeout(function(){var e=content.find("#context-menu");0<e.length&&body.append(e)},500)),!0);function t(){c=!0,l=body.find("#context-menu");var e,t,n,i,o,s,a=l.find("> ul > li > ul"),r="search-element";a.each(function(){10<$(this).find("> li").length&&$(this).find(".revolution-autocomplete").length<1&&$(this).prepend('<li class="revolution-autocomplete"><input class="revolution-search" type="text"/></li>')}),e=l.find(".revolution-search"),s=a.find("> li"),0<e.length&&e.on("keydown keypress keyup",function(){i=$(this),1<(t=i.val().toLowerCase()).length?$(this).closest("ul").find("> li > a").each(function(){n=$(this).text().toLowerCase(),o=$(this).closest("li"),-1!=n.indexOf(t)?o.hasClass(r)||o.addClass(r):o.hasClass(r)&&o.removeClass(r)}):s.removeClass(r)})}$(document).on("click",".revolution-search",function(){return!1}),$(document).on("contextmenu","tr.hascontextmenu",function(){$(document).ajaxSuccess(function(){console.log("Start ajaxSuccess contextmenu"),c=!1,t()}),$(document).on("ajax:success",function(){c&&(console.log("Start ajax:success contextmenu"),t())})}),$(document).on("click",".js-contextmenu",function(){$(document).ajaxSuccess(function(){console.log("Start ajaxSuccess contextmenu"),c=!1,t()}),$(document).on("ajax:success",function(){c&&(console.log("Start ajax:success contextmenu"),t())})})},redmineEvolutionAjax:function(){var e,t=!0;function n(){console.log("redmineEvolutionAjax"),t=!0,jcf.replace(body.find("select[multiple]").not("."+clNot).not("."+clSelect2Hidden).not("."+exeptionMultipleCL)),body.find("select").not('[url*="auto_completes"], [url*="autocomplete"], [multiple]').not("."+clNot).not('[class*="select2"]').select2(),(e=body.find("#time_entry_activity_id, #time_entry_projects, #time_entry_issue")).hasClass(clSelect2Hidden)&&e.removeClass(clSelect2Hidden),e.select2(),_this.redmineEvolutionActivity(),_this.redmineEvolutionInputFile(),_this.redmineEvolutionAttachments(),_this.redmineEvolutionRM(),_this.redmineEvolutionDatepicker(),_this.redmineEvolutionNotice(),_this.redmineEvolutionTooltip(),body.hasClass("controller-agile_boards")&&(linkFilter=body.find("#content .open-filter")).length<1&&_this.redmineEvolutionAllFilter()}$(document).ajaxSuccess(function(){console.log("Start ajaxSuccess full"),t=!1,n()}),$(document).on("ajax:success",function(){t&&(console.log("Start ajax:success full"),n())})},redmineEvolutionWorkflows:function(){var e,t;body.hasClass("controller-workflows")&&(e=content.find(".repeat-value"),t=content.find(".workflows"),e.click(function(){t.find("select."+clSelect2Hidden).each(function(){0<$(this).val().length&&$(this).select2()})}))},redmineEvolutionTable:function(){var e=content.find(".list"),t=e.find(".group"),t=(0<t.length&&t.eq(t.length-1).addClass("last-group"),e.find("th"));e.find("td").length<1&&t.eq(0).parent().addClass("empty-table")},redmineEvolutionAllFilter:function(){for(var e,t,n,i,o,s,a,r,l,c,d,h=["controller-dmsf_workflows action-show","controller-redmine_x_resources action-index","controller-redmine_x_resources action-show"],u=!0,p=0;p<h.length;p++)body.hasClass(h[p])&&(u=!1);function f(e){inContent=e.find("> *").not("legend"),(linkIn=e.find("> legend")).removeAttr("onclick"),e.hasClass("filter-box")||(e.addClass("filter-box"),0<linkIn.length&&(linkIn.append('<span class="icon-down">'),inContent.wrapAll('<div class="open-box"><div><div class="admin-filter">')))}!chekERPmine&&u&&(e=content.find('> form, .filters > form, #filters, #options, #eq-filter-controls #eq-filter-params, #easy_gantt #query_form, form[action*="/dmsf_workflows"]'),t="open-in-box",n="open-filters",l=!(i="data-filter"),(e=body.hasClass("controller-kanban action-index")?content.find("#upper_filters").closest("form"):e).addClass("filter-form"),0<e.length&&e.each(function(e){0<($(this).is("#filters")?body.hasClass("action-permissions")?$(this).parent():$(this).closest("form"):$(this)).find(".icon-reload, .eq-button").length?(l=!0,($(this).is("fieldset")?$(this):$(this).find("fieldset")).each(function(e){$(this).parents("fieldset").length<1&&f($(this))})):body.hasClass("controller-dmsf_workflows action-index")&&$(this).find("fieldset").each(function(e){$(this).parents("fieldset").length<1&&f($(this))})}),0<(o=content.find('#query_form, #eq-filter-controls, form[action*="dmsf_workflows"]')).length&&((l=!0)&&(a=o.find("#query_form_with_buttons, #eq-filter-params"),r=o.find("#query_form_content"),body.hasClass("controller-people action-index")||body.hasClass("controller-favorite_projects")?s=o.find("> fieldset, > p.buttons"):0<r.length?1<(c=o.find("p.buttons")).length?(s=o.find("#query_form_content"),c.wrapAll('<div class="holder-buttons-filter">')):s=o.find("#query_form_content, p.buttons"):s=a.find("> *"),body.is(".controller-gantts.action-show, .controller-dmsf_workflows.action-index")&&s.length<1&&(s=o.find("> .filter-box")),body.hasClass("controller-agile_boards")&&(c=o.find("p.buttons"),(hasLink=c.find("a")).length<1&&(hasLink=a.find("> .icon"),c.append(hasLink)),s=o.find("#query_form_with_buttons > #query_form_content, #query_form_with_buttons > p.buttons")),!(0<a.find("."+(r="contextual")).length)||body.hasClass("controller-agile_boards")?s.wrapAll('<div class="holder-filters"><div class="in-filter"></div></div>'):s.not("."+r).not("p.buttons").wrapAll('<div class="holder-filters holder-filters-bottom"><div class="in-filter"></div></div>'),a.find(".holder-filters"),c=content.find("> ."+r),a=content.find("#filters > legend").text(),0<s.length&&(0<c.length?e.find("#topic_search").length<1&&c.append('<a class="open-filter" data-original-title="'+a+'"></a>'):e.find("#topic_search").length<1&&(0<(r=$("#easy_gantt, .controller-redmine_x_gantt")).length?r.find("> .contextual ").append('<a class="open-filter" data-original-title="'+a+'"></a>'):content.prepend('<div class="contextual"><a class="open-filter" data-original-title="'+a+'"></a></div>'))),s=content.find(".open-filter"),_this.redmineEvolutionGetCookie(i),null!==checkCookie&&"true"==checkCookie[1]&&(o.addClass(n),s.addClass(n)),s.click(function(){return $(this).hasClass(n)?($(this).removeClass(n),o.removeClass(n),_this.redmineEvolutionSetCookie(i,"false")):($(this).addClass(n),o.addClass(n),_this.redmineEvolutionSetCookie(i,"true")),!1})),0<(c=e.find("select#add_filter_select")).length)&&c.on("change",function(){d&&clearTimeout(d),d=setTimeout(function(){jcf.replace(body.find("select[multiple]").not("."+clNot).not("."+clSelect2Hidden).not("."+exeptionMultipleCL)),body.find("select").not('[url*="auto_completes"], [url*="autocomplete"], [multiple]').not("."+clNot).not('[class*="select2"]').select2(),_this.redmineEvolutionDatepicker()},200)}),l)&&(openSmall=e.find("legend")).unbind().bind("click",function(){return openBox=$(this).parent().find(".open-box"),$(this).hasClass(t)?$(this).removeClass(t):$(this).addClass(t),!1})},redmineEvolutionSelect:function(){(selExeption=$("body").find('#status_by_select, select[id*="_tag_list"], #helpdesk_created_contact_tag')).length&&selExeption.each(function(){$(this).hasClass(clNot)||$(this).addClass(clNot)});var e=body.find("select").not('[url*="auto_completes"], [url*="autocomplete"], [data-select2-id*="tags"], [multiple]').not("."+clNot).not('[class*="select2"]'),t=body.find("select[multiple]").not("."+clNot).not("."+clSelect2Hidden).not("."+exeptionMultipleCL);function n(){0<e.length&&(e.select2(),e.on("change",function(){$(this).select2()})),0<t.length&&(mobileButton?jcf.setOptions("Select",{wrapNative:!0,useCustomScroll:!0,maxVisibleItems:5}):jcf.setOptions("Select",{wrapNative:!1,useCustomScroll:!0,maxVisibleItems:5}),jcf.replace(t),t.on("change",function(){jcf.replace($(this))}))}n(),s&&clearTimeout(s),s=setTimeout(function(){e=body.find("select").not('[url*="auto_completes"], [url*="autocomplete"], [data-select2-id*="tags"], [multiple]').not("."+clNot).not('[class*="select2"]'),t=body.find("select[multiple]").not("."+clNot).not("."+clSelect2Hidden),(0<e.length||0<t.length)&&n()},1e3);var i,o,s,a,r="multiple",l=(0<e.length&&body.on("click",".toggle-multiselect",function(){(o=$(this).parent()).is("a")?void 0!==o.attr("data-expands")&&(i=content.find(o.attr("data-expands"))):i=o.find("select").not('[url*="auto_completes"], [url*="autocomplete"]').not("."+exeptionMultipleCL),i.hasClass(clSelect2Hidden)?($(this).removeClass(r),i.select2("destroy"),i.attr("multiple","multiple"),jcf.replace(i)):($(this).addClass(r),i.removeAttr("size"),i.removeAttr("multiple"),jcf.destroy(i),i.select2())}),content.find(".query-columns, .whitelist_users, .plugin-redmine_x_resources, .gantt-users-group")),c=(l.find('.buttons input[type="button"], .select-buttons input[type="button"]').click(function(){s&&clearTimeout(s),s=setTimeout(function(){jcf.replace(l.find("select"))},200)}),body.find(".assign-to-me-link"));0<c.length&&c.on("click",function(){(a=$(this).parent().find("select")).length&&a.trigger("change")})},redmineEvolutionInputFile:function(){var t,n,e=body.find('input[type="file"]').not(".done");0<e.length&&e.each(function(e){n=$(this).closest("p"),t=$(this).parent(),n.find("label"),t.hasClass("add_attachment")||$(this).wrap('<div class="add_attachment">'),$(this).before('<span class="info-file">'),$(this).on("change",function(){$(this).parent().find(".info-file").text($(this).val())}),$(this).addClass("done")})},redmineEvolutionSupport:function(){var e;(body.hasClass("controller-questions_sections")||body.hasClass("controller-questions"))&&(e=content.find(".section-list"),content.find(".questions > .filters, > .filters, .questions > .contextual, > .contextual, .question > .contextual").wrapAll('<div class="right-questions"></div>'),content.find(".questions > h2 , > h2 , .question-title, .right-questions").wrapAll('<div class="top-questions"></div>'),e.each(function(){0==$(this).find("> a").length&&$(this).remove()}))},redmineEvolutionDokuments:function(){var t,e,n,i,o,s,a,r,l,c,d,h,u;body.hasClass("controller-documents")&&(e=(t=body.find("#content")).find("#document-list"),n=!1,0<e.length?(i=e.find("h4"),o=t.find(".updated_on"),s=t.find(".wiki"),n=!0):(i=t.find("> h4"),o=t.find("> p"),s=t.find("> .wiki")),a="dokuments-",i.each(function(e){$(this).append('<span class="open-documents">'),n?((r=$(this).closest(".document-item")).addClass("documents-box"),r=r.find("> *")):($(this).addClass(a+e),o.eq(e).addClass(a+e),s.eq(e).addClass(a+e),(r=t.find("."+a+e)).wrapAll('<div class="documents-box">')),r.not("h4").wrapAll('<div class="open-box"><div class="icon icon-open in-open"></div></div>')}),l=t.find(".open-documents"),c=t.find(".open-box"),d=t.find(".in-open"),u="open",l.click(function(){return h=l.index($(this)),$(this).hasClass(u)?($(this).removeClass(u),c.eq(h).animate({height:0},{queue:!1,duration:speedAnim})):($(this).addClass(u),c.eq(h).animate({height:d.eq(h).outerHeight(!0)},{queue:!1,duration:speedAnim,complete:function(){c.eq(h).css({height:"auto"})}})),!1}))},redmineEvolutionWiki:function(){var e,t,n,i,o,s,a,r,l,c,d;body.hasClass("controller-wiki")&&(e=body.find("#content"),body.hasClass("action-index")&&(s=(e=e.find("> .pages-hierarchy")).find(".pages-hierarchy"),l="open",s.each(function(){$(this).parent().addClass("has-drop"),$(this).before('<span class="link-wiki"></span>'),$(this).wrap('<div class="holder-wiki"></div>')}),e.find(".link-wiki").click(function(){return n=$(this).parent(),o=n.find("> .holder-wiki"),t=o.find("> .pages-hierarchy"),i=$(this).parents(".holder-wiki"),n.hasClass(l)?(n.removeClass(l),o.animate({height:0},{queue:!1,duration:speedAnim,complete:function(){n.find("."+l).removeClass(l),n.find(".holder-wiki").css({height:0})}})):(n.addClass(l),i.css({height:"auto"}),o.animate({height:t.outerHeight(!0)},{queue:!1,duration:speedAnim,complete:function(){o.css({height:"auto"})}})),!1})),body.hasClass("action-date_index"))&&0<(s=(o=body.find("#content")).find("> ul, > h3")).length&&(a=o.find("> ul"),r=o.find("> h3"),l="open-wiki",s.wrapAll('<div id="wiki-new"></div>'),a.each(function(){$(this).wrap('<div class="holder-wiki-date"></div>')}),r.eq(0).addClass(l),a.eq(0).parent().css({height:"auto"}),r.click(function(){return c=a.eq(r.index($(this))),d=c.parent(),$(this).hasClass(l)?($(this).removeClass(l),d.animate({height:0},{queue:!1,duration:speedAnim})):($(this).addClass(l),d.animate({height:c.outerHeight(!0)},{queue:!1,duration:speedAnim,complete:function(){d.css({height:"auto"})}})),!1}))},redmineEvolutionSly:function(){var e,o=body.find("#content .tabs, #main  #history .tabs").not(".jstTabs"),s=o.find(".tabs-buttons"),a=!0;function t(){0<s.length&&s.remove();var e=o.find("ul > li"),t=o.find("ul > li > a"),n=o.find("ul > li > .selected"),t=0<n.length?t.index(n):0,i=0,n=o.outerWidth();e.each(function(){i+=$(this).outerWidth(!0)}),n<i?a&&o.closest("#content").find(".all-tabs-controll").length<1?(o.before('<div class="all-tabs-controll">\n\t<div class="hold-control">\n\t\t<ul class="pages"><li class="">1</li><li class="active">2</li><li>3</li><li>4</li><li>5</li><li>6</li></ul>\n\t\t<div class="controls">\n\t\t\t<a href="#" class="btn prevPage"></a>\n\t\t\t<a href="#" class="btn nextPage"></a>\n\t\t</div>\n\t\t</div>\n\t\t<div class="control-tabs">\n\t\t<div class="scrollbar">\n\t\t\t<div class="handle">\n\t\t\t\t<div class="mousearea"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'),e=o.parent(),o.sly({horizontal:1,itemNav:"basic",smart:1,activateOn:"click",mouseDragging:1,touchDragging:1,releaseSwing:1,startAt:t,scrollBar:e.find(".scrollbar"),scrollBy:1,pagesBar:e.find(".pages"),activatePageOn:"click",speed:300,elasticBounds:1,easing:"easeOutExpo",dragHandle:!0,dynamicHandle:!0,clickBar:1,prevPage:e.find(".prevPage"),nextPage:e.find(".nextPage")}),a=!1):o.data("sly").reload():a||(content.find(".all-tabs-controll").remove(),o.sly("destroy"),a=!0)}t(),$(window).resize(function(){e&&clearTimeout(e),e=setTimeout(function(){t()},500)})},redmineEvolutionSelectedMenu:function(){var e=window.location.pathname,t="selected";"/favorite_projects/search"==e&&(e="/projects"),e=body.hasClass("controller-easy_gantt")?body.find('#top-menu a[href*="easy_gantt"], #admin-menu a[href*="easy_gantt"], #main-menu a[href*="easy_gantt"]'):body.find('#top-menu a[href="'+e+'"], #admin-menu a[href="'+e+'"], #main-menu a[href="'+e+'"]'),body.find("#top-menu a, #admin-menu a, #main-menu a").removeClass(t),0<e.length&&e.each(function(){$(this).addClass(t)})},redmineEvolutionIssuesSmallView:function(){var e,t,n;body.hasClass("controller-issues action-index")&&(body.hasClass("redmine_x_issue_list")?body.hasClass(n)&&(body.removeClass(n),_this.redmineEvolutionSetCookie(t,"false")):(e=content.find("> .contextual"),t="data-small-view",n="small-list-view",e.prepend('<a class="redmineevolution-small-view" href="#"></a>'),mainBox.find(".redmineevolution-small-view").click(function(){return body.hasClass(n)?(body.removeClass(n),_this.redmineEvolutionSetCookie(t,"false")):(body.addClass(n),_this.redmineEvolutionSetCookie(t,"true")),!1}),_this.redmineEvolutionGetCookie(t),null===checkCookie||"true"!=checkCookie[1]||body.hasClass(n)||body.addClass(n)))},redmineEvolutionIssues:function(){var e,t,n,i,o,s,a,r,l,c,d,h,u,p,f,m,g=content,v=(body.hasClass("loggedas")||(d=g.nextAll(),g.append(d)),g.find("> .contextual")),y=g.find(".issue");function b(){c.is(":visible")||(t=y.offset().top-e.outerHeight(!0),n=$(window).height(),l=$(window).scrollTop(),t<=l?(a.hasClass(s)||(a.addClass(s),a.animate({height:n-e.outerHeight(!0)},{queue:!1,duration:speedAnim})),n!=o&&a.animate({height:n-e.outerHeight(!0)},{queue:!1,duration:speedAnim}),a.animate({marginTop:l-t},{queue:!1,duration:100})):a.hasClass(s)&&(a.removeClass(s),l=a.find("a"),r=l.eq(0).outerHeight(!0)*l.length,a.animate({height:r,marginTop:0},{queue:!1,duration:speedAnim})),o=n)}0<v.find("a").length&&0<y.length&&(body.addClass("issues-contextual"),e=body.find("#top-menu"),n=v.outerHeight(!0),s="start-move",a=v.eq(1),r=a.outerHeight(!0),c=body.find(".mobile-toggle-button"),b(),$(window).scroll(function(){b()}),$(window).resize(function(){i&&clearTimeout(i),i=setTimeout(function(){b()},500)}),d=v.find("a.icon-edit, a.icon-helpdesk-reply"),(x=v.find(".icon-copy-link, .icon-del")).removeClass(tooltipExceptionCl),mobileButton||(x.tooltip({trigger:"hover",container:"body",placement:"left",template:'<div class="tooltip-new" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),x.addClass(tooltipExceptionCl)),0<d.length)&&(f=v.find(".new-icon"),m=!0,d.click(function(){0<g.find("#update").length&&(h=g.find("#issue-form"),u=h.find('> input[type="submit"]'),p=h.find("> a"),u.addClass("editSubmit"),p.addClass("dellLink"),m&&(v.addClass("hidden-link"),u.addClass("hidden"),p.addClass("hidden"),v.append('<a href="#" class="icon new-icon new-icon-save" data-teg="editSubmit" data-toggle="tooltip" data-original-title="'+u.val()+'"></a><a href="#" class="icon new-icon new-icon-close" data-teg="dellLink" data-toggle="tooltip" data-original-title="'+p.text()+'"></a>'),m=!1),f=v.find(".new-icon"),mobileButton?(f.tooltip("destroy"),f.removeClass(tooltipExceptionCl)):(f.tooltip({trigger:"hover",container:"body",placement:"left",template:'<div class="tooltip-new" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),f.addClass(tooltipExceptionCl)))}),body.on("click",".new-icon",function(){return m||(v.removeClass("hidden-link"),u.removeClass("hidden"),p.removeClass("hidden"),f.remove(),body.find(".tooltip, .tooltip-new").remove(),void 0!==$(this).attr("data-teg")&&h.find("."+$(this).attr("data-teg")).trigger("click"),m=!0),!1}));0<content.find("#new-relation-form").length&&body.on("click",'#new-relation-form input[type="submit"]',function(){w&&clearTimeout(w),w=setTimeout(function(){jcf.replace(body.find('select[multiple*="multiple"]').not("."+clNot).not("."+clSelect2Hidden).not("."+exeptionMultipleCL)),body.find("select").not('[url*="auto_completes"], [url*="autocomplete"], [multiple*="multiple"]').not("."+clNot).not('[class*="select2"]').select2(),_this.redmineEvolutionNotice()},500)});var w,x=g.find(".gravatar-with-child");x.find("img").length<1&&x.remove()},redmineEvolutionNews:function(){var e,t,n,i,o,s,a;body.hasClass("controller-news")&&(e=body.find(".news-article"),a="open-news",0<e.length)&&(e.each(function(){t=$(this).find("header"),$(this).find(".wiki").wrap('<div class="open-box-news"></div>'),t.append('<a class="open-news-link" href="#">open-news</a>')}),body.find(".open-news-link").click(function(){return n=$(this).parents(".news-article"),i=n.find(".open-box-news"),o=i.find(".wiki"),n.hasClass(a)?(n.removeClass(a),s=0,i.animate({height:s},{queue:!1,duration:speedAnim})):(n.addClass(a),s=o.outerHeight(!0),i.animate({height:s},{queue:!1,duration:speedAnim,complete:function(){i.css({height:"auto"})}})),i.animate({height:s},{queue:!1,duration:speedAnim}),!1}))},redmineEvolutionActivity:function(){var n,i,o,s,e=body.find("#activity").not(".done");0<e.length&&((e=e).addClass("done"),n=e.find("dl"),i=e.find("h3, h4"),o="open-activity-link",s="open-activity-box",n.each(function(){$(this).wrap('<div class="holder-activity"></div>')}),i.click(function(){var e=i.index($(this)),t=n.eq(e).parent();return $(this).hasClass(o)?($(this).removeClass(o),t.removeClass(s),t.animate({height:0},{queue:!1,duration:speedAnim})):($(this).addClass(o),t.hasClass(s)||t.addClass(s),t.animate({height:n.eq(e).outerHeight(!0)},{queue:!1,duration:speedAnim,complete:function(){t.css({height:"auto"})}})),!1}),i.eq(0).trigger("click"))},redmineEvolutionProjects:function(){var e,t,n,i,o,s,a,r,l,c;body.hasClass("controller-projects")&&(t=(e=body.find("#projects-index .projects")).find("ul.projects"),n=body.find("#projects-index .project"),0<(o=body.find("#projects-index .link_child")).length&&o.remove(),n.each(function(){var e;$(this).wrap('<div class="holder-mainlink">'),0<(i=$(this).closest("div.root, div.child").find("> *").not(".holder-mainlink")).length&&(0<(e=i.eq(0).closest("li").find("> div.root > .holder-mainlink > .list-buttons, > div.child > .holder-mainlink > .list-buttons")).length?e.find(".open-wiki").length<1&&e.append('<li><span class="open-wiki">wiki</span></li></li>'):i.eq(0).closest("li").find("> div.root > .holder-mainlink .project, > div.child > .holder-mainlink .project").after('<ul class="list-buttons"><li><span class="open-wiki">wiki</span></li></ul>'),i.wrapAll('<div class="holder-wiki"><div class="holder-wiki-inner"></div></div>'))}),0<t.length&&t.each(function(e){var t=$(this).closest("li").find("> div.root > .holder-mainlink > .list-buttons");0<t.length?t.append('<li><span class="open-projects">projects</span></li>'):$(this).closest("li").find("> div.root > .holder-mainlink .project, > div.child > .holder-mainlink .project").after('<ul class="list-buttons"><li><span class="open-projects">projects</span></li></ul>'),$(this).wrap('<div class="holder-projects"></div>')}),o=e.find(".open-wiki"),s="wiki-open",a="projects-open",o.click(function(){return c=$(this).closest("div.root, div.child"),r=c.find("> .holder-wiki"),c.hasClass(s)?(c.removeClass(s),l=0,r.animate({height:l},{queue:!1,duration:speedAnim})):(c.addClass(s),l=r.find(".wiki").outerHeight(),r.animate({height:l},{queue:!1,duration:speedAnim,complete:function(){r.css({height:"auto"})}})),!1}),e.find(".open-projects").click(function(){c=$(this).parents(".list-buttons").parents("li").first();var e=(r=c.find("> .holder-projects")).find(".holder-projects"),t=r.find(".projects-open"),n=r.find(".wiki-open"),i=r.find(".holder-wiki");return c.hasClass(a)?(c.removeClass(a),r.animate({height:0},{queue:!1,duration:speedAnim,complete:function(){e.css({height:0}),t.removeClass("projects-open"),n.removeClass("wiki-open"),i.css({height:0})}})):(c.addClass(a),r.animate({height:r.find("ul.projects").outerHeight()},{queue:!1,duration:speedAnim,complete:function(){r.css({height:"auto"})}})),!1}))},redmineEvolutionLogin:function(){body.each(function(){var e,t,n,i,o,s,a,r,l,c,d=$(this);d.hasClass("controller-account")&&(t=(e=d.find('#login-form, #new_user, form[action="/account/lost_password"]')).find('input[type="submit"]'),o=d.find(".register").parent().clone(),n=d.find(".login").parent().clone(),0<e.length&&($(t).wrapAll("<div class='holder-login holder-botton-login'></div>"),d.hasClass("action-login")?(l=e.find('#username, label[for="username"]'),c=e.find('#password, label[for="password"]'),0<(i=e.find("table")).length?(lost_passwordR=e.find('a[href*="lost_password"]').parent().clone(),o=d.find('a[href*="register"]').parent().clone()):lost_passwordR=e.find(".lost_password"),s=lost_passwordR.clone(),s=(s=$("<div />").append(s)).html(),a=o.html(),r='<ul class="list-buttons">',void 0!==s&&0<s.length?r=r+"<li>"+s+"</li>":r+="<li></li>",void 0!==a&&0<a.length?r=r+"<li>"+a+"</li>":r+="<li></li>",r+="</ul>",$(t).after(r),lost_passwordR.remove(),$(l).wrapAll("<div class='holder-login'></div>"),$(c).wrapAll("<div class='holder-login'></div>"),(s=e.find(".holder-login")).each(function(){var e=$(this).find("input"),t=$(this).find("label");e.attr("required","required "),e.after(t)}),0<i.length&&(e.find("form").append(s),i.remove())):(s=e.find('input[type="text"], input[type="password"]')).each(function(){var e=$(this).parent().find("label");$(this).attr("required","required "),$(this).after(e)}),d.hasClass("action-register")&&void 0!==(a=n.html())&&0<a.length&&$(t).after('<ul class="list-buttons"><li>'+a+"</li><li></li></ul>"),d.hasClass("action-lost_password"))&&(r=n.html(),l=o.html(),c='<ul class="list-buttons">',void 0!==r&&0<r.length&&(c=c+"<li>"+r+"</li>"),void 0!==l&&0<l.length&&(c=c+"<li>"+l+"</li>"),c+="</ul>",$(t).after(c)),d.hasClass("action-twofa_confirm"))&&d.find("#twofa_form").find('input[type="text"], label').wrapAll("<div class='holder-login'></div>")})},redmineEvolutionMainMenu:function(){var e,s=!0;function t(){s=!1;var y,b=!0,w=body,e=w.find("#main"),x=w.find("#wrapper"),t=w.find("#sidebar"),n=t.find("#admin-menu"),i="has-main-menu",C=w.find("#header #main-menu, #sidebar #admin-menu"),_=(x.append(C),0<n.length&&(t.remove(),e.addClass("nosidebar")),C.find("> ul")),n=C.find("ul > li > a"),S=40*C.find("> ul > li").length,k=C.find("> ul > li > a:not(.new-object)"),E="big-menu",T=k.first().outerWidth(),A=0,P=0;w.find("#content .tabs, #main > #history .tabs").not(".jstTabs");function o(){C=w.find("#main-menu, #admin-menu"),k=C.find("> ul > li > a:not(.new-object)"),b=!1;var e,t,n,i,o,s,a,r,l=w.find("#top-menu"),c=0,d=0,h=((h=C.find(".open-menu-box")).length<1&&C.append('<div class="open-menu-box"><a class="open-main-menu"><span class="nav-icon"><span></span><span></span><span></span></span></a></div>'),w.find(".open-main-menu")),u=!1,p=w.find("#top-menu > ul"),f=w.find("#new-object"),m=f.parent(),g="oprn-new-object",v=(_.addClass("jcf-scrollable"),70+S>$(window).height()?(y&&clearTimeout(y),y=setTimeout(function(){jcf.destroy(_),jcf.replace(_)},200),T=menuW):(y&&clearTimeout(y),y=setTimeout(function(){70+S<$(window).height()?jcf.destroy(_):(jcf.destroy(_),jcf.replace(_))},200)),k.each(function(){e=$(this).text(),$(this).attr("data-toggle","tooltip").attr("data-original-title",e).attr("data-placement","right"),$(this).html("<span>"+e+"</span>"),$(this).tooltip({trigger:"hover",container:"body",html:!0,template:'<div class="tooltip-new" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),c=$(this).find("span").outerWidth(!0),$(this).outerHeight(),d<c&&(d=c)}),!1);body.hasClass("controller-redmine_x_gantt action-index")&&(o=body.find(".gantt-controls-wrapper"),s=body.find("#gantt_here"),o.css({width:s.outerWidth()}),$(window).resize(function(){o.css({width:s.outerWidth()})}),v=!0),h.off().on("click",function(){w.hasClass(noAnim)&&w.removeClass(noAnim),0==d&&(i=w.find("#main-menu, #admin-menu"),k=i.find("ul > li > a"),T=menuW,k.each(function(){c=$(this).find("span").outerWidth(!0),$(this).outerHeight(),d<c&&(d=c)}));C.find(".jcf-scrollable-wrapper").find(".jcf-scrollable");return w.hasClass(E)?(w.removeClass(E),k.animate({width:T},{queue:!1,duration:speedAnim}),x.animate({paddingLeft:T},{queue:!1,duration:speedAnim}),p.animate({paddingLeft:0},{queue:!1,duration:speedAnim,complete:function(){_this.redmineEvolutionSly(),v&&o.css({width:s.outerWidth()})}}),k.tooltip({trigger:"hover",container:"body",html:!0,template:'<div class="tooltip-new" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),u&&((t=C.find(".holder-children")).css({width:0,height:0}),u=!1,m.removeClass(g)),_this.redmineEvolutionSetCookie(E,"false")):(w.addClass(E),p.animate({paddingLeft:d-T},{queue:!1,duration:speedAnim}),k.animate({width:d},{queue:!1,duration:speedAnim}),x.animate({paddingLeft:d},{queue:!1,duration:speedAnim,complete:function(){_this.redmineEvolutionSly(),v&&o.css({width:s.outerWidth()})}}),k.tooltip("destroy"),u&&(n=body.find(".mod-obj"),m.removeClass(g),n.css({opacity:0,top:"-9999999px",left:"-9999999px"})),_this.redmineEvolutionSetCookie(E,"true")),!1}),_this.redmineEvolutionGetCookie(E),null!==checkCookie&&"true"==checkCookie[1]&&(w.hasClass(E)||w.addClass(E),0==d&&(h=w.find("#main-menu, #admin-menu"),k=h.find("ul > li > a"),T=menuW,k.each(function(){a=$(this).find("span").outerWidth(!0),d<a&&(d=a)})),p.css({paddingLeft:d-T}),k.css({width:d}),x.css({paddingLeft:d}),k.tooltip("destroy"),u&&(n=body.find(".mod-obj"),m.removeClass(g),n.css({opacity:0,top:"-9999999px",left:"-9999999px"})),(P=$(window).height())!=A)&&0!=A&&(scNew=body.find("#main-menu .jcf-scrollable, #admin-menu .jcf-scrollable"),jcf.replace(scNew),A=P),0<f.length&&((r=f.parent().find(".menu-children")).wrap('<div class="holder-children"></div>'),t=C.find(".holder-children"),body.append(t.clone()),body.find("> .holder-children").wrap('<div class="mod-obj"></div>'),n=body.find(".mod-obj"),f.unbind(),f.bind("click",function(){return w.hasClass(E)?u=m.hasClass(g)?(m.removeClass(g),t.animate({height:0},{queue:!1,duration:speedAnim,complete:function(){t.css({width:0})}}),!1):(m.addClass(g),t.css({width:"100%"}),t.animate({height:r.outerHeight(!0)},{queue:!1,duration:speedAnim}),!0):0<(n=body.find(".mod-obj")).length&&(m.hasClass(g)?(m.removeClass(g),u=!1,n.animate({opacity:0},{queue:!1,duration:speedAnim,complete:function(){n.css({top:"-9999999px",left:"-9999999px"})}})):(m.addClass(g),n.css({top:l.outerHeight(),left:C.outerWidth(!0),display:"block"}),n.animate({opacity:1},{queue:!1,duration:speedAnim}),u=!0)),!1}),n.hover(function(){$(this).addClass("hovering")},function(){$(this).removeClass("hovering")}),body.click(function(){n.hasClass("hovering")||(m.removeClass(g),u=!1,n.animate({opacity:0},{queue:!1,duration:speedAnim,complete:function(){n.css({top:"-9999999px",left:"-9999999px"})}}))}))}0<n.length?(0<C.length&&!body.hasClass(i)&&body.addClass(i),mobileButton||o(),$(window).on("resize",function(){y&&clearTimeout(y),y=setTimeout(function(){mobileButton?b||(w.removeClass(E),x.css({paddingLeft:0}),k.tooltip("destroy")):b?o():(k.tooltip({trigger:"hover",container:"body",html:!0,template:'<div class="tooltip-new" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),70+S<$(window).height()?jcf.destroy(_):(jcf.destroy(_),jcf.replace(_)))},500)})):body.hasClass(i)&&body.removeClass(i),s=!1}t(),$(window).resize(function(){e&&clearTimeout(e),e=setTimeout(function(){mobileButton?s=!0:s&&t()},500)})},redmineEvolutionSidebar:function(){var e,t,n,i,o,s,a=!0,r=!1,l=!1,c=body,d=mainBox,h=d.find("#sidebar"),u=h.find("> *");function p(){var e;a&&(mainHtml.removeClass("flyout-is-active"),a=!1,s.length<1?(e="open-sidebar",0<h.length&&h.find("> *").length&&(r=!0,c.addClass("has-sidebar"),c.find("#wrapper").append('<a href="#" class="open-sidebar-link"></a>'),c.find(".open-sidebar-link").click(function(){return c.hasClass(noAnim)&&c.removeClass(noAnim),c.hasClass(e)?(c.removeClass(e),_this.redmineEvolutionSetCookie(e,"false")):(c.addClass(e),_this.redmineEvolutionSetCookie(e,"true")),!1}),(t=h.find(".jcf-scrollable")).length<1&&(h.find("> *").wrapAll("<div class='holder-sidebar jcf-scrollable'><div class='in'>"),t=h.find(".jcf-scrollable")),n=t.find(".in"),i=n.find("> *"),o=0,i.each(function(){o+=$(this).outerHeight(!0)}),h.height()<o&&(jcf.destroy(t),jcf.replace(t),l=!0),_this.redmineEvolutionGetCookie(e),null===checkCookie||"true"!=checkCookie[1]||c.hasClass(e)||c.addClass(e).addClass(noAnim))):(d.addClass("nosidebar"),h.remove()))}u.length<1&&d.addClass("nosidebar"),1==u.length&&u.is("ul")&&u.find("li").length<1&&d.addClass("nosidebar"),d.hasClass("nosidebar")||(0<(s=h.find("#admin-menu")).length&&(c.find("#header").append(s.clone()),s.remove()),mobileButton||p(),$(window).resize(function(){e&&clearTimeout(e),e=setTimeout(function(){mobileButton?(body.removeClass("open-sidebar"),mainHtml.removeClass("flyout-is-active"),a=!0,r&&(jcf.destroy(t),r=!1)):(mainHtml.removeClass("flyout-is-active"),r?(n=h.find(".in"),i=n.find("> *"),o=0,i.each(function(){o+=$(this).outerHeight(!0)}),o>h.height()?l?(jcf.destroy(t),jcf.replace(t)):(jcf.destroy(t),jcf.replace(t),l=!0):l&&(jcf.destroy(t),l=!1)):p())},500)}));var f,u=mainBox.find("#ticket_data_form > a, #customer_profile_and_issues .contextual a, #contact_projects .contextual a, #customer_profile .contextual a");0<u.length&&(mainBox.find("#sidebar .jcf-scrollable"),u.click(function(){h.find("#helpdesk_ticket_from_address_add_link").tooltip({trigger:"hover",container:"body",html:!0,template:'<div class="tooltip-new" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),f&&clearTimeout(f),f=setTimeout(function(){n=h.find(".in"),i=n.find("> *"),o=0,i.each(function(){o+=$(this).outerHeight(!0)}),o>h.height()&&(jcf.destroy(t),jcf.replace(t),l=!0)},500)}))}};function OpenBox(o){$(o.wrap).each(function(){var e=$(this),t=e.find(o.link),n=e.find(o.arrowButton),i=(e.find(o.box),o.w,e.find(o.close));t.click(function(){return $(o.wrap).not(e).removeClass(o.openClass),e.hasClass(o.openClass)?e.removeClass(o.openClass):e.addClass(o.openClass),!1}),e.hover(function(){$(this).addClass("hovering")},function(){$(this).removeClass("hovering")}),n.click(function(){return $(this).parent().hasClass("open")?$(this).parent().removeClass("open"):($(".menu li").removeClass("open"),$(this).parent().addClass("open")),!1}),$("body").click(function(){e.hasClass("hovering")||e.removeClass(o.openClass)}),i.click(function(){return e.removeClass(o.openClass),!1})})}if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(p){"use strict";function i(e,t,n){if(0===e.length)return e;if(n&&"function"==typeof n)return n(e);if(!document.implementation||!document.implementation.createHTMLDocument)return e;n=document.implementation.createHTMLDocument("sanitization");n.body.innerHTML=e;for(var i=p.map(t,function(e,t){return t}),o=p(n.body).find("*"),s=0,a=o.length;s<a;s++){var r=o[s],l=r.nodeName.toLowerCase();if(-1!==p.inArray(l,i))for(var c=p.map(r.attributes,function(e){return e}),d=[].concat(t["*"]||[],t[l]||[]),h=0,u=c.length;h<u;h++)!function(e,t){var n=e.nodeName.toLowerCase();if(-1!==p.inArray(n,t))return-1===p.inArray(n,f)||Boolean(e.nodeValue.match(m)||e.nodeValue.match(g));for(var i=p(t).filter(function(e,t){return t instanceof RegExp}),o=0,s=i.length;o<s;o++)if(n.match(i[o]))return 1}(c[h],d)&&r.removeAttribute(c[h].nodeName);else r.parentNode.removeChild(r)}return n.body.innerHTML}function l(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)}var o=["sanitize","whiteList","sanitizeFn"],f=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],e={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},m=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,g=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,t=(l.VERSION="3.4.1",l.TRANSITION_DURATION=150,l.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:e},l.prototype.init=function(e,t,n){if(this.enabled=!0,this.type=e,this.$element=p(t),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&p(document).find(p.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var s,a=i[o];"click"==a?this.$element.on("click."+this.type,this.options.selector,p.proxy(this.toggle,this)):"manual"!=a&&(s="hover"==a?"mouseleave":"focusout",this.$element.on(("hover"==a?"mouseenter":"focusin")+"."+this.type,this.options.selector,p.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,p.proxy(this.leave,this)))}this.options.selector?this._options=p.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},l.prototype.getDefaults=function(){return l.DEFAULTS},l.prototype.getOptions=function(e){var t,n=this.$element.data();for(t in n)n.hasOwnProperty(t)&&-1!==p.inArray(t,o)&&delete n[t];return(e=p.extend({},this.getDefaults(),n,e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e.sanitize&&(e.template=i(e.template,e.whiteList,e.sanitizeFn)),e},l.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&p.each(this._options,function(e,t){i[e]!=t&&(n[e]=t)}),n},l.prototype.enter=function(e){var t=e instanceof this.constructor?e:p(e.currentTarget).data("bs."+this.type);return t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),p(e.currentTarget).data("bs."+this.type,t)),e instanceof p.Event&&(t.inState["focusin"==e.type?"focus":"hover"]=!0),t.tip().hasClass("in")||"in"==t.hoverState?void(t.hoverState="in"):(clearTimeout(t.timeout),t.hoverState="in",t.options.delay&&t.options.delay.show?void(t.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)):t.show())},l.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},l.prototype.leave=function(e){var t=e instanceof this.constructor?e:p(e.currentTarget).data("bs."+this.type);return t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),p(e.currentTarget).data("bs."+this.type,t)),e instanceof p.Event&&(t.inState["focusout"==e.type?"focus":"hover"]=!1),t.isInStateTrue()?void 0:(clearTimeout(t.timeout),t.hoverState="out",t.options.delay&&t.options.delay.hide?void(t.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)):t.hide())},l.prototype.show=function(){var t,e,n,i,o,s,a,r=p.Event("show.bs."+this.type);this.hasContent()&&this.enabled&&(this.$element.trigger(r),o=p.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),!r.isDefaultPrevented())&&o&&(r=(t=this).tip(),o=this.getUID(this.type),this.setContent(),r.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&r.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,(a=(e=/\s?auto?\s?/i).test(o))&&(o=o.replace(e,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?r.appendTo(p(document).find(this.options.container)):r.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type),e=this.getPosition(),n=r[0].offsetWidth,i=r[0].offsetHeight,a&&(a=o,s=this.getPosition(this.$viewport),o="bottom"==o&&e.bottom+i>s.bottom?"top":"top"==o&&e.top-i<s.top?"bottom":"right"==o&&e.right+n>s.width?"left":"left"==o&&e.left-n<s.left?"right":o,r.removeClass(a).addClass(o)),s=this.getCalculatedOffset(o,e,n,i),this.applyPlacement(s,o),a=function(){var e=t.hoverState;t.$element.trigger("shown.bs."+t.type),t.hoverState=null,"out"==e&&t.leave(t)},p.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",a).emulateTransitionEnd(l.TRANSITION_DURATION):a())},l.prototype.applyPlacement=function(e,t){var n=this.tip(),i=n[0].offsetWidth,o=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10),s=(isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top+=s,e.left+=a,p.offset.setOffset(n[0],p.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},e),0),n.addClass("in"),n[0].offsetWidth),a=n[0].offsetHeight,r=("top"==t&&a!=o&&(e.top=e.top+o-a),this.getViewportAdjustedDelta(t,e,s,a)),t=(r.left?e.left+=r.left:e.top+=r.top,/top|bottom/.test(t)),i=t?2*r.left-i+s:2*r.top-o+a,s=t?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(i,n[0][s],t)},l.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},l.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();this.options.html?(this.options.sanitize&&(t=i(t,this.options.whiteList,this.options.sanitizeFn)),e.find(".tooltip-inner").html(t)):e.find(".tooltip-inner").text(t),e.removeClass("fade in top bottom left right")},l.prototype.hide=function(e){function t(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,i=p(this.$tip),o=p.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(i.removeClass("in"),p.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",t).emulateTransitionEnd(l.TRANSITION_DURATION):t(),this.hoverState=null,this)},l.prototype.fixTitle=function(){var e=this.$element;!e.attr("title")&&"string"==typeof e.attr("data-original-title")||e.attr("data-original-title",e.attr("title")||"").attr("title","")},l.prototype.hasContent=function(){return this.getTitle()},l.prototype.getPosition=function(e){var t=(e=e||this.$element)[0],n="BODY"==t.tagName,i=t.getBoundingClientRect(),t=(null==i.width&&(i=p.extend({},i,{width:i.right-i.left,height:i.bottom-i.top})),window.SVGElement&&t instanceof window.SVGElement),t=n?{top:0,left:0}:t?null:e.offset(),e={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},n=n?{width:p(window).width(),height:p(window).height()}:null;return p.extend({},i,e,n,t)},l.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},l.prototype.getViewportAdjustedDelta=function(e,t,n,i){var o,s,a={top:0,left:0};return this.$viewport&&(o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport),/right|left/.test(e)?(e=t.top-o-s.scroll,i=t.top+o-s.scroll+i,e<s.top?a.top=s.top-e:i>s.top+s.height&&(a.top=s.top+s.height-i)):(e=t.left-o,i=t.left+o+n,e<s.left?a.left=s.left-e:i>s.right&&(a.left=s.left+s.width-i))),a},l.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},l.prototype.getUID=function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},l.prototype.tip=function(){if(this.$tip||(this.$tip=p(this.options.template),1==this.$tip.length))return this.$tip;throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!")},l.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},l.prototype.enable=function(){this.enabled=!0},l.prototype.disable=function(){this.enabled=!1},l.prototype.toggleEnabled=function(){this.enabled=!this.enabled},l.prototype.toggle=function(e){var t=this;e&&!(t=p(e.currentTarget).data("bs."+this.type))&&(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),p(e.currentTarget).data("bs."+this.type,t)),e?(t.inState.click=!t.inState.click,t.isInStateTrue()?t.enter(t):t.leave(t)):t.tip().hasClass("in")?t.leave(t):t.enter(t)},l.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})},l.prototype.sanitizeHtml=function(e){return i(e,this.options.whiteList,this.options.sanitizeFn)},p.fn.tooltip);p.fn.tooltip=function(i){return this.each(function(){var e=p(this),t=e.data("bs.tooltip"),n="object"==typeof i&&i;!t&&/destroy|hide/.test(i)||(t||e.data("bs.tooltip",t=new l(this,n)),"string"==typeof i&&t[i]())})},p.fn.tooltip.Constructor=l,p.fn.tooltip.noConflict=function(){return p.fn.tooltip=t,this}}(jQuery),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.jcf=t(jQuery)}(this,function(a){"use strict";function n(){function e(e,t,n){n=n||0,i.insertRule?i.insertRule(e+"{"+t+"}",n):i.addRule(e,t,n)}var i=(t=a("<style>").appendTo("head")).prop("sheet")||t.prop("styleSheet"),t=(e("."+d.hiddenClass,"position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none"),e("."+d.rtlClass+" ."+d.hiddenClass,"right:-9999px !important; left: auto !important"),e("."+d.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);"),e("."+d.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);"),a("html")),n=a("body");"rtl"!==t.css("direction")&&"rtl"!==n.css("direction")||t.addClass(d.rtlClass),t.on("reset",function(){setTimeout(function(){p.refreshAll()},0)}),d.styleSheetCreated=!0}var e,i,o,s,r,l,c=[],d={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"},t="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,h=/Windows Phone/.test(navigator.userAgent),u=(d.isMobileDevice=!(!t&&!h),t=navigator.pointerEnabled||navigator.msPointerEnabled,h="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,s={},t=t?{pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}:{pointerover:"mouseover",pointerdown:"mousedown"+(h?" touchstart":""),pointermove:"mousemove"+(h?" touchmove":""),pointerup:"mouseup"+(h?" touchend":"")},a.each(t,function(n,e){a.each(e.split(" "),function(e,t){s[t]=n})}),a.each(t,function(e,t){t=t.split(" "),a.event.special["jcf-"+e]={setup:function(){var n=this;a.each(t,function(e,t){n.addEventListener?n.addEventListener(t,l,!1):n["on"+t]=l})},teardown:function(){var n=this;a.each(t,function(e,t){n.addEventListener?n.removeEventListener(t,l,!1):n["on"+t]=null})}}}),r=null,l=function(e){var t,n=e||window.event,i=s[n.type];if((e=a.event.fix(n)).type="jcf-"+i,n.pointerType)switch(n.pointerType){case 2:e.pointerType="touch";break;case 3:e.pointerType="pen";break;case 4:e.pointerType="mouse";break;default:e.pointerType=n.pointerType}else e.pointerType=n.type.substr(0,5);return e.pageX||e.pageY||(i=n.changedTouches?n.changedTouches[0]:n,e.pageX=i.pageX,e.pageY=i.pageY),"touchend"===n.type&&(r={x:e.pageX,y:e.pageY}),"mouse"===e.pointerType&&r&&(i=e,t=Math.abs(i.pageX-r.x),i=Math.abs(i.pageY-r.y),t<=25&&i<=25||void 0)?void 0:(a.event.dispatch||a.event.handle).call(this,e)},e=("onwheel"in document||9<=document.documentMode?"wheel":"mousewheel DOMMouseScroll").split(" "),i="jcf-mousewheel",a.event.special[i]={setup:function(){var n=this;a.each(e,function(e,t){n.addEventListener?n.addEventListener(t,o,!1):n["on"+t]=o})},teardown:function(){var n=this;a.each(e,function(e,t){n.addEventListener?n.removeEventListener(t,o,!1):n["on"+t]=null})}},o=function(e){var t=e||window.event;return(e=a.event.fix(t)).type=i,"detail"in t&&(e.deltaY=-t.detail),"wheelDelta"in t&&(e.deltaY=-t.wheelDelta),"wheelDeltaY"in t&&(e.deltaY=-t.wheelDeltaY),"wheelDeltaX"in t&&(e.deltaX=-t.wheelDeltaX),"deltaY"in t&&(e.deltaY=t.deltaY),"deltaX"in t&&(e.deltaX=t.deltaX),e.delta=e.deltaY||e.deltaX,1===t.deltaMode&&(e.delta*=16,e.deltaY*=16,e.deltaX*=16),(a.event.dispatch||a.event.handle).call(this,e)},{fireNativeEvent:function(e,t){a(e).each(function(){var e;this.dispatchEvent?((e=document.createEvent("HTMLEvents")).initEvent(t,!0,!0),this.dispatchEvent(e)):document.createEventObject&&((e=document.createEventObject()).target=this).fireEvent("on"+t,e)})},bindHandlers:function(){var n=this;a.each(n,function(e,t){0===e.indexOf("on")&&a.isFunction(t)&&(n[e]=function(){return t.apply(n,arguments)})})}}),p={version:"1.2.3",modules:{},getOptions:function(){return a.extend({},d)},setOptions:function(e,t){1<arguments.length?this.modules[e]&&a.extend(this.modules[e].prototype.options,t):a.extend(d,e)},addModule:function(e){a.isFunction(e)&&(e=e(a,window));function t(e){e.element.data(d.dataKey)||e.element.data(d.dataKey,this),c.push(this),this.options=a.extend({},d,this.options,n(e.element),e),this.bindHandlers(),this.init.apply(this,arguments)}var n=function(e){var t=e.data(d.optionsKey),e=e.attr(d.optionsKey);if(t)return t;if(e)try{return a.parseJSON(e)}catch(e){}},i=(t.prototype=e,a.extend(e,u),e.plugins&&a.each(e.plugins,function(e,t){a.extend(t.prototype,u)}),t.prototype.destroy);t.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var e=c.length-1;0<=e;e--)if(c[e]===this){c.splice(e,1);break}i&&i.apply(this,arguments)},this.modules[e.name]=t},getInstance:function(e){return a(e).data(d.dataKey)},replace:function(e,i,t){var o,s=this;return d.styleSheetCreated||n(),a(e).each(function(){var e,n=a(this);(o=n.data(d.dataKey))?o.refresh():(i||a.each(s.modules,function(e,t){return t.prototype.matchElement.call(t.prototype,n)?(i=e,!1):void 0}),i&&(e=a.extend({element:n},t),o=new s.modules[i](e)))}),o},refresh:function(e){a(e).each(function(){var e=a(this).data(d.dataKey);e&&e.refresh()})},destroy:function(e){a(e).each(function(){var e=a(this).data(d.dataKey);e&&e.destroy()})},replaceAll:function(n){var i=this;a.each(this.modules,function(e,t){a(t.prototype.selector,n).each(function(){this.className.indexOf("jcf-ignore")<0&&i.replace(this,e)})})},refreshAll:function(n){if(n)a.each(this.modules,function(e,t){a(t.prototype.selector,n).each(function(){var e=a(this).data(d.dataKey);e&&e.refresh()})});else for(var e=c.length-1;0<=e;e--)c[e].refresh()},destroyAll:function(n){if(n)a.each(this.modules,function(e,t){a(t.prototype.selector,n).each(function(e,t){t=a(t).data(d.dataKey);t&&t.destroy()})});else for(;c.length;)c[0].destroy()}};return"function"==typeof define&&define.amd&&(window.jcf=p),p}),function(d){d.addModule(function(a,e){"use strict";function t(e){this.options=a.extend({wrapNative:!0,wrapNativeOnMobile:!0,fakeDropInBody:!0,useCustomScroll:!0,flipDropToFit:!0,maxVisibleItems:10,fakeAreaStructure:'<span class="jcf-select"><span class="jcf-select-text"></span><span class="jcf-select-opener"></span></span>',fakeDropStructure:'<div class="jcf-select-drop"><div class="jcf-select-drop-content"></div></div>',optionClassPrefix:"jcf-option-",selectClassPrefix:"jcf-select-",dropContentSelector:".jcf-select-drop-content",selectTextSelector:".jcf-select-text",dropActiveClass:"jcf-drop-active",flipDropClass:"jcf-drop-flipped"},e),this.init()}function n(e){this.options=a.extend({wrapNative:!0,useCustomScroll:!0,fakeStructure:'<span class="jcf-list-box"><span class="jcf-list-wrapper"></span></span>',selectClassPrefix:"jcf-select-",listHolder:".jcf-list-wrapper"},e),this.init()}function i(e){this.options=a.extend({holder:null,maxVisibleItems:10,selectOnClick:!0,useHoverClass:!1,useCustomScroll:!1,handleResize:!0,multipleSelectWithoutKey:!1,alwaysPreventMouseWheel:!1,indexAttribute:"data-index",cloneClassPrefix:"jcf-option-",containerStructure:'<span class="jcf-list"><span class="jcf-list-content"></span></span>',containerSelector:".jcf-list-content",captionClass:"jcf-optgroup-caption",disabledClass:"jcf-disabled",optionClass:"jcf-option",groupClass:"jcf-optgroup",hoverClass:"jcf-hover",selectedClass:"jcf-selected",scrollClass:"jcf-scroll-active"},e),this.init()}var o,s={name:"Select",selector:"select",options:{element:null,multipleCompactStyle:!1},plugins:{ListBox:n,ComboBox:t,SelectList:i},matchElement:function(e){return e.is("select")},init:function(){this.element=a(this.options.element),this.createInstance()},isListBox:function(){return this.element.is("[size]:not([jcf-size]), [multiple]")},createInstance:function(){this.instance&&this.instance.destroy(),this.isListBox()&&!this.options.multipleCompactStyle?this.instance=new n(this.options):this.instance=new t(this.options)},refresh:function(){this.isListBox()&&this.instance instanceof t||!this.isListBox()&&this.instance instanceof n?this.createInstance():this.instance.refresh()},destroy:function(){this.instance.destroy()}},r=(a.extend(t.prototype,{init:function(){this.initStructure(),this.bindHandlers(),this.attachEvents(),this.refresh()},initStructure:function(){this.win=a(e),this.doc=a(document),this.realElement=a(this.options.element),this.fakeElement=a(this.options.fakeAreaStructure).insertAfter(this.realElement),this.selectTextContainer=this.fakeElement.find(this.options.selectTextSelector),this.selectText=a("<span></span>").appendTo(this.selectTextContainer),l(this.fakeElement),this.fakeElement.addClass(r(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.prop("multiple")&&this.fakeElement.addClass("jcf-compact-multiple"),this.options.isMobileDevice&&this.options.wrapNativeOnMobile&&!this.options.wrapNative&&(this.options.wrapNative=!0),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%"}).addClass(this.options.resetAppearanceClass):(this.realElement.addClass(this.options.hiddenClass),this.fakeElement.attr("title",this.realElement.attr("title")),this.fakeDropTarget=this.options.fakeDropInBody?a("body"):this.fakeElement)},attachEvents:function(){var e=this;this.delayedRefresh=function(){setTimeout(function(){e.refresh(),e.list&&(e.list.refresh(),e.list.scrollToActiveOption())},1)},this.options.wrapNative?this.realElement.on({focus:this.onFocus,change:this.onChange,click:this.onChange,keydown:this.delayedRefresh}):(this.realElement.on({focus:this.onFocus,change:this.onChange,keydown:this.onKeyDown}),this.fakeElement.on({"jcf-pointerdown":this.onSelectAreaPress}))},onKeyDown:function(e){13===e.which?this.toggleDropdown():this.dropActive&&this.delayedRefresh()},onChange:function(){this.refresh()},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.toggleListMode(!0),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.toggleListMode(!1),this.focusedFlag=!1)},onResize:function(){this.dropActive&&this.hideDropdown()},onSelectDropPress:function(){this.pressedFlag=!0},onSelectDropRelease:function(e,t){this.pressedFlag=!1,"mouse"===t.pointerType&&this.realElement.focus()},onSelectAreaPress:function(e){!this.options.fakeDropInBody&&a(e.target).closest(this.dropdown).length||1<e.button||this.realElement.is(":disabled")||(this.selectOpenedByEvent=e.pointerType,this.toggleDropdown(),this.focusedFlag||("mouse"===e.pointerType?this.realElement.focus():this.onFocus(e)),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onSelectAreaRelease))},onSelectAreaRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onSelectAreaRelease)},onOutsideClick:function(e){e=a(e.target);e.closest(this.fakeElement).length||e.closest(this.dropdown).length||this.hideDropdown()},onSelect:function(){this.refresh(),this.realElement.prop("multiple")?this.repositionDropdown():this.hideDropdown(),this.fireNativeEvent(this.realElement,"change")},toggleListMode:function(e){this.options.wrapNative||(e?this.realElement.attr({size:4,"jcf-size":""}):this.options.wrapNative||this.realElement.removeAttr("size jcf-size"))},createDropdown:function(){this.dropdown&&(this.list.destroy(),this.dropdown.remove()),this.dropdown=a(this.options.fakeDropStructure).appendTo(this.fakeDropTarget),this.dropdown.addClass(r(this.realElement.prop("className"),this.options.selectClassPrefix)),l(this.dropdown),this.realElement.prop("multiple")&&this.dropdown.addClass("jcf-compact-multiple"),this.options.fakeDropInBody&&this.dropdown.css({position:"absolute",top:-9999}),this.list=new i({useHoverClass:!0,handleResize:!1,alwaysPreventMouseWheel:!0,maxVisibleItems:this.options.maxVisibleItems,useCustomScroll:this.options.useCustomScroll,holder:this.dropdown.find(this.options.dropContentSelector),multipleSelectWithoutKey:this.realElement.prop("multiple"),element:this.realElement}),a(this.list).on({select:this.onSelect,press:this.onSelectDropPress,release:this.onSelectDropRelease})},repositionDropdown:function(){var e,t=this.fakeElement.offset(),n=this.fakeElement[0].getBoundingClientRect(),n=n.width||n.right-n.left,i=this.fakeElement.outerHeight(),o=this.dropdown.css("width",n).outerHeight(),s=this.win.scrollTop(),a=this.win.height(),r=!1;t.top+i+o>s+a&&t.top-o>s&&(r=!0),this.options.fakeDropInBody&&(a="static"!==this.fakeDropTarget.css("position")?this.fakeDropTarget.offset().top:0,s=this.options.flipDropToFit&&r?(e=t.left,t.top-o-a):(e=t.left,t.top+i-a),this.dropdown.css({width:n,left:e,top:s})),this.dropdown.add(this.fakeElement).toggleClass(this.options.flipDropClass,this.options.flipDropToFit&&r)},showDropdown:function(){this.realElement.prop("options").length&&(this.dropdown||this.createDropdown(),this.dropActive=!0,this.dropdown.appendTo(this.fakeDropTarget),this.fakeElement.addClass(this.options.dropActiveClass),this.refreshSelectedText(),this.repositionDropdown(),this.list.setScrollTop(this.savedScrollTop),this.list.refresh(),this.win.on("resize",this.onResize),this.doc.on("jcf-pointerdown",this.onOutsideClick))},hideDropdown:function(){this.dropdown&&(this.savedScrollTop=this.list.getScrollTop(),this.fakeElement.removeClass(this.options.dropActiveClass+" "+this.options.flipDropClass),this.dropdown.removeClass(this.options.flipDropClass).detach(),this.doc.off("jcf-pointerdown",this.onOutsideClick),this.win.off("resize",this.onResize),this.dropActive=!1,"touch"===this.selectOpenedByEvent)&&this.onBlur()},toggleDropdown:function(){this.dropActive?this.hideDropdown():this.showDropdown()},refreshSelectedText:function(){var e,t=this.realElement.prop("selectedIndex"),t=this.realElement.prop("options")[t],n=t?t.getAttribute("data-image"):null,i="";this.realElement.prop("multiple")?(a.each(this.realElement.prop("options"),function(e,t){t.selected&&(i+=(i?", ":"")+t.innerHTML)}),i=i||this.realElement.attr("placeholder")||"",this.selectText.removeAttr("class").html(i)):t?this.currentSelectedText===t.innerHTML&&this.currentSelectedImage===n||(e=r(t.className,this.options.optionClassPrefix),this.selectText.attr("class",e).html(t.innerHTML),n?(this.selectImage||(this.selectImage=a("<img>").prependTo(this.selectTextContainer).hide()),this.selectImage.attr("src",n).show()):this.selectImage&&this.selectImage.hide(),this.currentSelectedText=t.innerHTML,this.currentSelectedImage=n):(this.selectImage&&this.selectImage.hide(),this.selectText.removeAttr("class").empty())},refresh:function(){"none"===this.realElement.prop("style").display?this.fakeElement.hide():this.fakeElement.show(),this.refreshSelectedText(),this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled"))},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",height:"",width:""}).removeClass(this.options.resetAppearanceClass):(this.realElement.removeClass(this.options.hiddenClass),this.realElement.is("[jcf-size]")&&this.realElement.removeAttr("size jcf-size")),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onSelectAreaRelease),this.realElement.off({focus:this.onFocus})}}),a.extend(n.prototype,{init:function(){this.bindHandlers(),this.initStructure(),this.attachEvents()},initStructure:function(){this.realElement=a(this.options.element),this.fakeElement=a(this.options.fakeStructure).insertAfter(this.realElement),this.listHolder=this.fakeElement.find(this.options.listHolder),l(this.fakeElement),this.fakeElement.addClass(r(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.addClass(this.options.hiddenClass),this.list=new i({useCustomScroll:this.options.useCustomScroll,holder:this.listHolder,selectOnClick:!1,element:this.realElement})},attachEvents:function(){var t=this;this.delayedRefresh=function(e){e&&(16===e.which||e.ctrlKey||e.metaKey||e.altKey)||(clearTimeout(t.refreshTimer),t.refreshTimer=setTimeout(function(){t.refresh(),t.list.scrollToActiveOption()},1))},this.realElement.on({focus:this.onFocus,click:this.delayedRefresh,keydown:this.delayedRefresh}),a(this.list).on({select:this.onSelect,press:this.onFakeOptionsPress,release:this.onFakeOptionsRelease})},onFakeOptionsPress:function(e,t){this.pressedFlag=!0,"mouse"===t.pointerType&&this.realElement.focus()},onFakeOptionsRelease:function(e,t){this.pressedFlag=!1,"mouse"===t.pointerType&&this.realElement.focus()},onSelect:function(){this.fireNativeEvent(this.realElement,"change"),this.fireNativeEvent(this.realElement,"click")},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.focusedFlag=!1)},refresh:function(){this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.list.refresh()},destroy:function(){this.list.destroy(),this.realElement.insertBefore(this.fakeElement).removeClass(this.options.hiddenClass),this.fakeElement.remove()}}),a.extend(i.prototype,{init:function(){this.initStructure(),this.refreshSelectedClass(),this.attachEvents()},initStructure:function(){this.element=a(this.options.element),this.indexSelector="["+this.options.indexAttribute+"]",this.container=a(this.options.containerStructure).appendTo(this.options.holder),this.listHolder=this.container.find(this.options.containerSelector),this.lastClickedIndex=this.element.prop("selectedIndex"),this.rebuildList(),this.element.prop("multiple")&&(this.previousSelection=this.getSelectedOptionsIndexes())},attachEvents:function(){this.bindHandlers(),this.listHolder.on("jcf-pointerdown",this.indexSelector,this.onItemPress),this.listHolder.on("jcf-pointerdown",this.onPress),this.options.useHoverClass&&this.listHolder.on("jcf-pointerover",this.indexSelector,this.onHoverItem)},onPress:function(e){a(this).trigger("press",e),this.listHolder.on("jcf-pointerup",this.onRelease)},onRelease:function(e){a(this).trigger("release",e),this.listHolder.off("jcf-pointerup",this.onRelease)},onHoverItem:function(e){e=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute));this.fakeOptions.removeClass(this.options.hoverClass).eq(e).addClass(this.options.hoverClass)},onItemPress:function(e){"touch"===e.pointerType||this.options.selectOnClick?(this.tmpListOffsetTop=this.list.offset().top,this.listHolder.on("jcf-pointerup",this.indexSelector,this.onItemRelease)):this.onSelectItem(e)},onItemRelease:function(e){this.listHolder.off("jcf-pointerup",this.indexSelector,this.onItemRelease),this.tmpListOffsetTop===this.list.offset().top&&this.listHolder.on("click",this.indexSelector,{savedPointerType:e.pointerType},this.onSelectItem),delete this.tmpListOffsetTop},onSelectItem:function(e){var n,t=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute)),i=e.data&&e.data.savedPointerType||e.pointerType||"mouse";this.listHolder.off("click",this.indexSelector,this.onSelectItem),1<e.button||this.realOptions[t].disabled||(this.element.prop("multiple")?e.metaKey||e.ctrlKey||"touch"===i||this.options.multipleSelectWithoutKey?this.realOptions[t].selected=!this.realOptions[t].selected:e.shiftKey?(n=[this.lastClickedIndex,t].sort(function(e,t){return e-t}),this.realOptions.each(function(e,t){t.selected=e>=n[0]&&e<=n[1]})):this.element.prop("selectedIndex",t):this.element.prop("selectedIndex",t),e.shiftKey||(this.lastClickedIndex=t),this.refreshSelectedClass(),"mouse"===i&&this.scrollToActiveOption(),a(this).trigger("select"))},rebuildList:function(){var i=this,e=this.element[0],e=(this.storedSelectHTML=e.innerHTML,this.optionIndex=0,this.list=a(this.createOptionsList(e)),this.listHolder.empty().append(this.list),this.realOptions=this.element.find("option"),this.fakeOptions=this.list.find(this.indexSelector),this.fakeListItems=this.list.find("."+this.options.captionClass+","+this.indexSelector),delete this.optionIndex,this.options.maxVisibleItems),t=this.element.prop("size"),t=(1<t&&!this.element.is("[jcf-size]")&&(e=t),this.fakeOptions.length>e);return this.container.toggleClass(this.options.scrollClass,t),t&&(this.listHolder.css({maxHeight:this.getOverflowHeight(e),overflow:"auto"}),this.options.useCustomScroll)&&d.modules.Scrollable?void d.replace(this.listHolder,"Scrollable",{handleResize:this.options.handleResize,alwaysPreventMouseWheel:this.options.alwaysPreventMouseWheel}):void(this.options.alwaysPreventMouseWheel&&(this.preventWheelHandler=function(e){var t=i.listHolder.scrollTop(),n=i.listHolder.prop("scrollHeight")-i.listHolder.innerHeight();(t<=0&&e.deltaY<0||n<=t&&0<e.deltaY)&&e.preventDefault()},this.listHolder.on("jcf-mousewheel",this.preventWheelHandler)))},refreshSelectedClass:function(){var n=this,e=this.element.prop("multiple"),t=this.element.prop("selectedIndex");e?this.realOptions.each(function(e,t){n.fakeOptions.eq(e).toggleClass(n.options.selectedClass,!!t.selected)}):(this.fakeOptions.removeClass(this.options.selectedClass+" "+this.options.hoverClass),e=this.fakeOptions.eq(t).addClass(this.options.selectedClass),this.options.useHoverClass&&e.addClass(this.options.hoverClass))},scrollToActiveOption:function(){var e=this.getActiveOptionOffset();"number"==typeof e&&this.listHolder.prop("scrollTop",e)},getSelectedOptionsIndexes:function(){var n=[];return this.realOptions.each(function(e,t){t.selected&&n.push(e)}),n},getChangedSelectedIndex:function(){var e=this.element.prop("selectedIndex"),n=this,i=!1,o=null;return this.element.prop("multiple")?(this.currentSelection=this.getSelectedOptionsIndexes(),a.each(this.currentSelection,function(e,t){!i&&n.previousSelection.indexOf(t)<0&&(0===e&&(i=!0),o=t)}),this.previousSelection=this.currentSelection,o):e},getActiveOptionOffset:function(){var e,t,n,i=this.getChangedSelectedIndex();if(null!==i)return e=this.listHolder.height(),(t=this.listHolder.prop("scrollTop"))+e<=(n=(i=this.fakeOptions.eq(i)).offset().top-this.list.offset().top)+(i=i.innerHeight())?n-e+i:n<t?n:void 0},getOverflowHeight:function(e){var e=this.fakeListItems.eq(e-1),t=this.list.offset().top;return e.offset().top+e.innerHeight()-t},getScrollTop:function(){return this.listHolder.scrollTop()},setScrollTop:function(e){this.listHolder.scrollTop(e)},createOption:function(e){var t=document.createElement("span");t.className=this.options.optionClass,t.innerHTML=e.innerHTML,t.setAttribute(this.options.indexAttribute,this.optionIndex++);var n,i=e.getAttribute("data-image");return i&&((n=document.createElement("img")).src=i,t.insertBefore(n,t.childNodes[0])),e.disabled&&(t.className+=" "+this.options.disabledClass),e.className&&(t.className+=" "+r(e.className,this.options.cloneClassPrefix)),t},createOptGroup:function(e){var t=document.createElement("span"),n=e.getAttribute("label"),i=document.createElement("span");return i.className=this.options.captionClass,i.innerHTML=n,t.appendChild(i),e.children.length&&(n=this.createOptionsList(e),t.appendChild(n)),t.className=this.options.groupClass,t},createOptionContainer:function(){return document.createElement("li")},createOptionsList:function(e){var o=this,s=document.createElement("ul");return a.each(e.children,function(e,t){var n,i=o.createOptionContainer(t);switch(t.tagName.toLowerCase()){case"option":n=o.createOption(t);break;case"optgroup":n=o.createOptGroup(t)}s.appendChild(i).appendChild(n)}),s},refresh:function(){this.storedSelectHTML!==this.element.prop("innerHTML")&&this.rebuildList();var e=d.getInstance(this.listHolder);e&&e.refresh(),this.refreshSelectedClass()},destroy:function(){this.listHolder.off("jcf-mousewheel",this.preventWheelHandler),this.listHolder.off("jcf-pointerdown",this.indexSelector,this.onSelectItem),this.listHolder.off("jcf-pointerover",this.indexSelector,this.onHoverItem),this.listHolder.off("jcf-pointerdown",this.onPress)}}),function(e,t){return e?e.replace(/[\s]*([\S]+)+[\s]*/gi,t+"$1 "):""}),l=(o=d.getOptions().unselectableClass,function(e){e.addClass(o).on("selectstart",c)});function c(e){e.preventDefault()}return s})}(jcf),jcf.addModule(function(s,e){"use strict";function n(e){this.options=s.extend({holder:null,vertical:!0,inactiveClass:"jcf-inactive",verticalClass:"jcf-scrollbar-vertical",horizontalClass:"jcf-scrollbar-horizontal",scrollbarStructure:'<div class="jcf-scrollbar"><div class="jcf-scrollbar-dec"></div><div class="jcf-scrollbar-slider"><div class="jcf-scrollbar-handle"></div></div><div class="jcf-scrollbar-inc"></div></div>',btnDecSelector:".jcf-scrollbar-dec",btnIncSelector:".jcf-scrollbar-inc",sliderSelector:".jcf-scrollbar-slider",handleSelector:".jcf-scrollbar-handle",scrollInterval:300,scrollStep:400},e),this.init()}var t={name:"Scrollable",selector:".jcf-scrollable",plugins:{ScrollBar:n},options:{mouseWheelStep:150,handleResize:!0,alwaysShowScrollbars:!1,alwaysPreventMouseWheel:!1,scrollAreaStructure:'<div class="jcf-scrollable-wrapper"></div>'},matchElement:function(e){return e.is(".jcf-scrollable")},init:function(){this.initStructure(),this.attachEvents(),this.rebuildScrollbars()},initStructure:function(){this.doc=s(document),this.win=s(e),this.realElement=s(this.options.element),this.scrollWrapper=s(this.options.scrollAreaStructure).insertAfter(this.realElement),this.scrollWrapper.css("position","relative"),this.realElement.css("overflow","hidden"),this.vBarEdge=0},attachEvents:function(){var t=this;this.vBar=new n({holder:this.scrollWrapper,vertical:!0,onScroll:function(e){t.realElement.scrollTop(e)}}),this.hBar=new n({holder:this.scrollWrapper,vertical:!1,onScroll:function(e){t.realElement.scrollLeft(e)}}),this.realElement.on("scroll",this.onScroll),this.options.handleResize&&this.win.on("resize orientationchange load",this.onResize),this.realElement.on("jcf-mousewheel",this.onMouseWheel),this.realElement.on("jcf-pointerdown",this.onTouchBody)},onScroll:function(){this.redrawScrollbars()},onResize:function(){s(document.activeElement).is(":input")||this.rebuildScrollbars()},onTouchBody:function(e){"touch"===e.pointerType&&(this.touchData={scrollTop:this.realElement.scrollTop(),scrollLeft:this.realElement.scrollLeft(),left:e.pageX,top:e.pageY},this.doc.on({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMoveBody:function(e){var t,n,i=this.verticalScrollActive,o=this.horizontalScrollActive;"touch"===e.pointerType&&(t=this.touchData.scrollTop-e.pageY+this.touchData.top,n=this.touchData.scrollLeft-e.pageX+this.touchData.left,this.verticalScrollActive&&(t<0||t>this.vBar.maxValue)&&(i=!1),this.horizontalScrollActive&&(n<0||n>this.hBar.maxValue)&&(o=!1),this.realElement.scrollTop(t),this.realElement.scrollLeft(n),i||o?e.preventDefault():this.onReleaseBody(e))},onReleaseBody:function(e){"touch"===e.pointerType&&(delete this.touchData,this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}))},onMouseWheel:function(e){var t,n=this.realElement.scrollTop(),i=this.realElement.scrollLeft(),o=this.realElement.prop("scrollHeight")-this.embeddedDimensions.innerHeight,s=this.realElement.prop("scrollWidth")-this.embeddedDimensions.innerWidth;(this.options.alwaysPreventMouseWheel||(this.verticalScrollActive&&e.deltaY&&(n<=0&&e.deltaY<0||o<=n&&0<e.deltaY||(t=!0)),this.horizontalScrollActive&&e.deltaX&&(i<=0&&e.deltaX<0||s<=i&&0<e.deltaX||(t=!0)),this.verticalScrollActive)||this.horizontalScrollActive)&&(t||this.options.alwaysPreventMouseWheel)&&(e.preventDefault(),o=e.deltaX/100*this.options.mouseWheelStep,s=e.deltaY/100*this.options.mouseWheelStep,this.realElement.scrollTop(n+s),this.realElement.scrollLeft(i+o))},setScrollBarEdge:function(e){this.vBarEdge=e||0,this.redrawScrollbars()},saveElementDimensions:function(){return this.savedDimensions={top:this.realElement.width(),left:this.realElement.height()},this},restoreElementDimensions:function(){return this.savedDimensions&&this.realElement.css({width:this.savedDimensions.width,height:this.savedDimensions.height}),this},saveScrollOffsets:function(){return this.savedOffsets={top:this.realElement.scrollTop(),left:this.realElement.scrollLeft()},this},restoreScrollOffsets:function(){return this.savedOffsets&&(this.realElement.scrollTop(this.savedOffsets.top),this.realElement.scrollLeft(this.savedOffsets.left)),this},getContainerDimensions:function(){var e,t,n;return this.isModifiedStyles?e={width:this.realElement.innerWidth()+this.vBar.getThickness(),height:this.realElement.innerHeight()+this.hBar.getThickness()}:(this.saveElementDimensions().saveScrollOffsets(),this.realElement.insertAfter(this.scrollWrapper),this.scrollWrapper.detach(),t=this.realElement.prop("style"),n=parseFloat(t.width),t=parseFloat(t.height),this.embeddedDimensions&&n&&t&&(this.isModifiedStyles|=n!==this.embeddedDimensions.width||t!==this.embeddedDimensions.height,this.realElement.css({overflow:"",width:"",height:""})),e={width:this.realElement.outerWidth(),height:this.realElement.outerHeight()},this.scrollWrapper.insertAfter(this.realElement),this.realElement.css("overflow","hidden").prependTo(this.scrollWrapper),this.restoreElementDimensions().restoreScrollOffsets()),e},getEmbeddedDimensions:function(e){var t=this.vBar.getThickness(),n=this.hBar.getThickness(),i=this.realElement.outerWidth()-this.realElement.width(),o=this.realElement.outerHeight()-this.realElement.height(),t=this.options.alwaysShowScrollbars?(this.verticalScrollActive=!0,this.horizontalScrollActive=!0,{innerWidth:e.width-t,innerHeight:e.height-n}):(this.saveElementDimensions(),this.verticalScrollActive=!1,this.horizontalScrollActive=!1,this.realElement.css({width:e.width-i,height:e.height-o}),this.horizontalScrollActive=this.realElement.prop("scrollWidth")>this.containerDimensions.width,this.verticalScrollActive=this.realElement.prop("scrollHeight")>this.containerDimensions.height,this.restoreElementDimensions(),{innerWidth:e.width-(this.verticalScrollActive?t:0),innerHeight:e.height-(this.horizontalScrollActive?n:0)});return s.extend(t,{width:t.innerWidth-i,height:t.innerHeight-o}),t},rebuildScrollbars:function(){this.containerDimensions=this.getContainerDimensions(),this.embeddedDimensions=this.getEmbeddedDimensions(this.containerDimensions),this.scrollWrapper.css({width:this.containerDimensions.width,height:this.containerDimensions.height}),this.realElement.css({overflow:"hidden",width:this.embeddedDimensions.width,height:this.embeddedDimensions.height}),this.redrawScrollbars()},redrawScrollbars:function(){this.verticalScrollActive?(e=this.vBarEdge?this.containerDimensions.height-this.vBarEdge:this.embeddedDimensions.innerHeight,t=Math.max(this.realElement.prop("offsetHeight"),this.realElement.prop("scrollHeight"))-this.vBarEdge,this.vBar.show().setMaxValue(t-e).setRatio(e/t).setSize(e),this.vBar.setValue(this.realElement.scrollTop())):this.vBar.hide(),this.horizontalScrollActive?(e=this.embeddedDimensions.innerWidth,(t=this.realElement.prop("scrollWidth"))===e&&(this.horizontalScrollActive=!1),this.hBar.show().setMaxValue(t-e).setRatio(e/t).setSize(e),this.hBar.setValue(this.realElement.scrollLeft())):this.hBar.hide();var e,t="";this.verticalScrollActive&&this.horizontalScrollActive?t="none":this.verticalScrollActive?t="pan-x":this.horizontalScrollActive&&(t="pan-y"),this.realElement.css("touchAction",t)},refresh:function(){this.rebuildScrollbars()},destroy:function(){this.win.off("resize orientationchange load",this.onResize),this.realElement.off({"jcf-mousewheel":this.onMouseWheel,"jcf-pointerdown":this.onTouchBody}),this.doc.off({"jcf-pointermove":this.onMoveBody,"jcf-pointerup":this.onReleaseBody}),this.saveScrollOffsets(),this.vBar.destroy(),this.hBar.destroy(),this.realElement.insertAfter(this.scrollWrapper).css({touchAction:"",overflow:"",width:"",height:""}),this.scrollWrapper.remove(),this.restoreScrollOffsets()}};return s.extend(n.prototype,{init:function(){this.initStructure(),this.attachEvents()},initStructure:function(){this.doc=s(document),this.isVertical=!!this.options.vertical,this.sizeProperty=this.isVertical?"height":"width",this.fullSizeProperty=this.isVertical?"outerHeight":"outerWidth",this.invertedSizeProperty=this.isVertical?"width":"height",this.thicknessMeasureMethod="outer"+this.invertedSizeProperty.charAt(0).toUpperCase()+this.invertedSizeProperty.substr(1),this.offsetProperty=this.isVertical?"top":"left",this.offsetEventProperty=this.isVertical?"pageY":"pageX",this.value=this.options.value||0,this.maxValue=this.options.maxValue||0,this.currentSliderSize=0,this.handleSize=0,this.holder=s(this.options.holder),this.scrollbar=s(this.options.scrollbarStructure).appendTo(this.holder),this.btnDec=this.scrollbar.find(this.options.btnDecSelector),this.btnInc=this.scrollbar.find(this.options.btnIncSelector),this.slider=this.scrollbar.find(this.options.sliderSelector),this.handle=this.slider.find(this.options.handleSelector),this.scrollbar.addClass(this.isVertical?this.options.verticalClass:this.options.horizontalClass).css({touchAction:this.isVertical?"pan-x":"pan-y",position:"absolute"}),this.slider.css({position:"relative"}),this.handle.css({touchAction:"none",position:"absolute"})},attachEvents:function(){this.bindHandlers(),this.handle.on("jcf-pointerdown",this.onHandlePress),this.slider.add(this.btnDec).add(this.btnInc).on("jcf-pointerdown",this.onButtonPress)},onHandlePress:function(e){"mouse"===e.pointerType&&1<e.button||(e.preventDefault(),this.handleDragActive=!0,this.sliderOffset=this.slider.offset()[this.offsetProperty],this.innerHandleOffset=e[this.offsetEventProperty]-this.handle.offset()[this.offsetProperty],this.doc.on("jcf-pointermove",this.onHandleDrag),this.doc.on("jcf-pointerup",this.onHandleRelease))},onHandleDrag:function(e){e.preventDefault(),this.calcOffset=e[this.offsetEventProperty]-this.sliderOffset-this.innerHandleOffset,this.setValue(this.calcOffset/(this.currentSliderSize-this.handleSize)*this.maxValue),this.triggerScrollEvent(this.value)},onHandleRelease:function(){this.handleDragActive=!1,this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease)},onButtonPress:function(e){var t,n;"mouse"===e.pointerType&&1<e.button||(e.preventDefault(),this.handleDragActive)||(this.slider.is(e.currentTarget)?(t=this.handle.offset()[this.offsetProperty]>e[this.offsetEventProperty]?-1:1,n=e[this.offsetEventProperty]-this.slider.offset()[this.offsetProperty],this.startPageScrolling(t,n)):(t=this.btnDec.is(e.currentTarget)?-1:1,this.startSmoothScrolling(t)),this.doc.on("jcf-pointerup",this.onButtonRelease))},onButtonRelease:function(){this.stopPageScrolling(),this.stopSmoothScrolling(),this.doc.off("jcf-pointerup",this.onButtonRelease)},startPageScrolling:function(t,n){function e(){var e;i.value+=o,i.setValue(i.value),i.triggerScrollEvent(i.value),e=i.value/i.maxValue*(i.currentSliderSize-i.handleSize),(0<t?e+i.handleSize>=n:e<=n)&&clearInterval(i.pageScrollTimer)}var i=this,o=t*i.currentSize;this.pageScrollTimer=setInterval(e,this.options.scrollInterval),e()},stopPageScrolling:function(){clearInterval(this.pageScrollTimer)},startSmoothScrolling:function(t){var n,i=this,o=(this.stopSmoothScrolling(),e.requestAnimationFrame||function(e){setTimeout(e,16)}),s=function(){return Date.now?Date.now():(new Date).getTime()},a=function(){return 0<t?i.value>=i.maxValue:i.value<=0},r=function(){var e=(s()-n)/1e3*i.options.scrollStep;i.smoothScrollActive&&(i.value+=e*t,i.setValue(i.value),i.triggerScrollEvent(i.value),a()||(n=s(),o(r)))};i.smoothScrollActive=!0,n=s(),o(r)},stopSmoothScrolling:function(){this.smoothScrollActive=!1},triggerScrollEvent:function(e){this.options.onScroll&&this.options.onScroll(e)},getThickness:function(){return this.scrollbar[this.thicknessMeasureMethod]()},setSize:function(e){var t=this.btnDec[this.fullSizeProperty](),n=this.btnInc[this.fullSizeProperty]();return this.currentSize=e,this.currentSliderSize=e-t-n,this.scrollbar.css(this.sizeProperty,e),this.slider.css(this.sizeProperty,this.currentSliderSize),this.currentSliderSize=this.slider[this.sizeProperty](),this.handleSize=Math.round(this.currentSliderSize*this.ratio),this.handle.css(this.sizeProperty,this.handleSize),this.handleSize=this.handle[this.fullSizeProperty](),this},setRatio:function(e){return this.ratio=e,this},setMaxValue:function(e){return this.maxValue=e,this.setValue(Math.min(this.value,this.maxValue)),this},setValue:function(e){this.value=e,this.value<0?this.value=0:this.value>this.maxValue&&(this.value=this.maxValue),this.refresh()},setPosition:function(e){return this.scrollbar.css(e),this},hide:function(){return this.scrollbar.detach(),this},show:function(){return this.scrollbar.appendTo(this.holder),this},refresh:function(){0===this.value||0===this.maxValue?this.calcOffset=0:this.calcOffset=this.value/this.maxValue*(this.currentSliderSize-this.handleSize),this.handle.css(this.offsetProperty,this.calcOffset),this.btnDec.toggleClass(this.options.inactiveClass,0===this.value),this.btnInc.toggleClass(this.options.inactiveClass,this.value===this.maxValue),this.scrollbar.toggleClass(this.options.inactiveClass,0===this.maxValue)},destroy:function(){this.btnDec.add(this.btnInc).off("jcf-pointerdown",this.onButtonPress),this.handle.off("jcf-pointerdown",this.onHandlePress),this.doc.off("jcf-pointermove",this.onHandleDrag),this.doc.off("jcf-pointerup",this.onHandleRelease),this.doc.off("jcf-pointerup",this.onButtonRelease),this.stopSmoothScrolling(),this.stopPageScrolling(),this.scrollbar.remove()}}),t}),function(ke,e,Ee){"use strict";function Te(a,e,H){function z(e){var l,c,d,h,u,p,t,n=A.length;if(C.old=ke.extend({},C),w=v?0:y[m.horizontal?"width":"height"](),S=_[m.horizontal?"width":"height"](),x=v?a:b[m.horizontal?"outerWidth":"outerHeight"](),A.length=0,C.start=0,C.end=ot(x-w,0),M&&(j.length,P=b.children(m.itemSelector),j.length=0,c=De(b,m.horizontal?"paddingLeft":"paddingTop"),d=De(b,m.horizontal?"paddingRight":"paddingBottom"),t="border-box"===ke(P).css("boxSizing"),h="none"!==P.css("float"),u=0,p=P.length-1,x=0,P.each(function(e,t){var n=ke(t),i=t.getBoundingClientRect(),i=Ze(m.horizontal?i.width||i.right-i.left:i.height||i.bottom-i.top),o=De(n,m.horizontal?"marginLeft":"marginTop"),n=De(n,m.horizontal?"marginRight":"marginBottom"),s=i+o+n,a=!o||!n,r={};r.el=t,r.size=a?i:s,r.half=r.size/2,r.start=x+(a?o:0),r.center=r.start-Ze(w/2-r.size/2),r.end=r.start-w+r.size,e||(x+=c),x+=s,m.horizontal||h||n&&o&&0<e&&(x-=Je(o,n)),e===p&&(r.end+=d,x+=d,u=a?n:0),j.push(r),l=r}),b[0].style[m.horizontal?"width":"height"]=(t?x:x-c-d)+"px",x-=u,j.length?(C.start=j[0][D?"center":"start"],C.end=D?l.center:w<x?l.end:C.start):C.start=C.end=0),C.center=Ze(C.end/2+C.start/2),X(),$.length&&0<S&&(m.dynamicHandle?(k=Ie(k=C.start===C.end?S:Ze(S*w/x),m.minHandleSize,S),$[0].style[m.horizontal?"width":"height"]=k+"px"):k=$[m.horizontal?"outerWidth":"outerHeight"](),E.end=S-k,_e||R()),!v&&0<w){var i=C.start,o="";if(M)ke.each(j,function(e,t){D?A.push(t.center):t.start+t.size>i&&i<=C.end&&(i=t.start,A.push(i),(i+=w)>C.end)&&i<C.end+w&&A.push(C.end)});else for(;i-w<C.end;)A.push(i),i+=w;if(T[0]&&n!==A.length){for(var s=0;s<A.length;s++)o+=m.pageBuilder.call(g,s);(fe=T.html(o).children()).eq(L.activePage).addClass(m.activeClass)}}L.slideeSize=x,L.frameSize=w,L.sbSize=S,L.handleSize=k,M?(e&&null!=m.startAt&&(Y(m.startAt),g[I?"toCenter":"toStart"](m.startAt)),t=j[L.activeItem],r(I&&t?t.center:Ie(C.dest,C.start,C.end))):e?null!=m.startAt&&r(m.startAt,1):r(Ie(C.dest,C.start,C.end)),f("load")}function r(e,t,n){var i;M&&u.released&&!n&&(n=W(e),i=e>C.start&&e<C.end,I?(i&&(e=j[n.centerItem].center),D&&m.activateMiddle&&Y(n.centerItem)):i&&(e=j[n.firstItem].start)),u.init&&u.slidee&&m.elasticBounds?e>C.end?e=C.end+(e-C.end)/6:e<C.start&&(e=C.start+(e-C.start)/6):e=Ie(e,C.start,C.end),h.start=+new Date,h.time=0,h.from=C.cur,h.to=e,h.delta=e-C.cur,h.tweesing=u.tweese||u.init&&!u.slidee,h.immediate=!h.tweesing&&(t||u.init&&u.slidee||!m.speed),u.tweese=0,e!==C.dest&&(C.dest=e,f("change"),_e||q()),Q(),X(),U(),fe[0]&&d.page!==L.activePage&&(d.page=L.activePage,fe.removeClass(m.activeClass).eq(L.activePage).addClass(m.activeClass),f("activePage",d.page))}function q(){g.initialized&&(_e?(h.immediate?C.cur=h.to:h.tweesing?(h.tweeseDelta=h.to-C.cur,Ke(h.tweeseDelta)<.1?C.cur=h.to:C.cur+=h.tweeseDelta*(u.released?m.swingSpeed:m.syncSpeed)):(h.time=Je(+new Date-h.start,m.speed),C.cur=h.from+h.delta*ke.easing[m.easing](h.time/m.speed,h.time,0,1,m.speed)),h.to===C.cur?(C.cur=h.to,u.tweese=_e=0):_e=Be(q),f("move"),v||(Oe?b[0].style[Oe]=He+(m.horizontal?"translateX":"translateY")+"("+-C.cur+"px)":b[0].style[m.horizontal?"left":"top"]=-Ze(C.cur)+"px"),!_e&&u.released&&f("moveEnd"),R()):(_e=Be(q),u.released&&f("moveStart")))}function R(){$.length&&(E.cur=C.start===C.end?0:((u.init&&!u.slidee?C.dest:C.cur)-C.start)/(C.end-C.start)*E.end,E.cur=Ie(Ze(E.cur),E.start,E.end),d.hPos!==E.cur)&&(d.hPos=E.cur,Oe?$[0].style[Oe]=He+(m.horizontal?"translateX":"translateY")+"("+E.cur+"px)":$[0].style[m.horizontal?"left":"top"]=E.cur+"px")}function B(){t.speed&&C.cur!==(0<t.speed?C.end:C.start)||g.stop(),Se=u.init?Be(B):0,t.now=+new Date,t.pos=C.cur+(t.now-t.lastTime)/1e3*t.speed,r(u.init?t.pos:Ze(t.pos)),u.init||C.cur!==C.dest||f("moveEnd"),t.lastTime=t.now}function F(e,t,n){"boolean"===Ae(t)&&(n=t,t=Ee),t===Ee?r(C[e],n):I&&"center"!==e||(t=g.getPos(t))&&r(t[e],n,!I)}function N(e){return null!=e?Le(e)?0<=e&&e<j.length?e:-1:P.index(e):-1}function V(e){return N(Le(e)&&e<0?e+j.length:e)}function Y(e,t){e=N(e);return!(!M||e<0)&&(d.active===e&&!t||(P.eq(L.activeItem).removeClass(m.activeClass),P.eq(e).addClass(m.activeClass),d.active=L.activeItem=e,U(),f("active",e)),e)}function W(e){e=Ie(Le(e)?e:C.dest,C.start,C.end);var t={},n=D?0:w/2;if(!v)for(var i=0,o=A.length;i<o;i++){if(e>=C.end||i===A.length-1){t.activePage=A.length-1;break}if(e<=A[i]+n){t.activePage=i;break}}if(M){for(var s=!1,a=!1,r=!1,l=0,c=j.length;l<c;l++)if(!1===s&&e<=j[l].start+j[l].half&&(s=l),!1===r&&e<=j[l].center+j[l].half&&(r=l),l===c-1||e<=j[l].end+j[l].half){a=l;break}t.firstItem=Le(s)?s:0,t.centerItem=Le(r)?r:t.firstItem,t.lastItem=Le(a)?a:t.centerItem}return t}function X(e){ke.extend(L,W(e))}function U(){var e=C.dest<=C.start,t=C.dest>=C.end,n=(e?1:0)|(t?2:0);d.slideePosState!==n&&(d.slideePosState=n,l.is("button,input")&&l.prop("disabled",e),Ce.is("button,input")&&Ce.prop("disabled",t),l.add(xe)[e?"addClass":"removeClass"](m.disabledClass),Ce.add(i)[t?"addClass":"removeClass"](m.disabledClass)),d.fwdbwdState!==n&&u.released&&(d.fwdbwdState=n,xe.is("button,input")&&xe.prop("disabled",e),i.is("button,input"))&&i.prop("disabled",t),M&&null!=L.activeItem&&(n=0===L.activeItem,e=L.activeItem>=j.length-1,d.itemsButtonState!==(t=(n?1:0)|(e?2:0)))&&(d.itemsButtonState=t,o.is("button,input")&&o.prop("disabled",n),s.is("button,input")&&s.prop("disabled",e),o[n?"addClass":"removeClass"](m.disabledClass),s[e?"addClass":"removeClass"](m.disabledClass))}function G(e,t,n){var i,o,s;e=V(e),t=V(t),!(-1<e&&-1<t&&e!==t)||n&&t===e-1||!n&&t===e+1||(P.eq(e)[n?"insertAfter":"insertBefore"](j[t].el),i=e<t?e:n?t:t-1,o=t<e?e:n?t+1:t,s=t<e,null!=L.activeItem&&(e===L.activeItem?d.active=L.activeItem=n?s?t+1:t:s?t:t-1:L.activeItem>i&&L.activeItem<o&&(d.active=L.activeItem+=s?1:-1)),z())}function K(e,t){for(var n=0,i=c[e].length;n<i;n++)if(c[e][n]===t)return n;return-1}function Q(){u.released&&!g.isPaused&&g.resume()}function Z(e){return Ze(Ie(e,E.start,E.end)/E.end*(C.end-C.start))+C.start}function J(){u.history[0]=u.history[1],u.history[1]=u.history[2],u.history[2]=u.history[3],u.history[3]=u.delta}function ee(e){u.released=0,u.source=e,u.slidee="slidee"===e}function te(e){var t="touchstart"===e.type,n=e.data.source,i="slidee"===n;u.init||!t&&oe(e.target)||("handle"!==n||m.dragHandle&&E.start!==E.end)&&(!i||(t?m.touchDragging:m.mouseDragging&&e.which<2))&&(t||Pe(e),ee(n),u.init=0,u.$source=ke(e.target),u.touch=t,u.pointer=t?e.originalEvent.touches[0]:e,u.initX=u.pointer.pageX,u.initY=u.pointer.pageY,u.initPos=(i?C:E).cur,u.start=+new Date,u.time=0,u.path=0,u.delta=0,u.locked=0,u.history=[0,0,0,0],u.pathToLock=i?t?30:10:0,Fe.on(t?Ye:Ve,ne),g.pause(1),(i?b:$).addClass(m.draggedClass),f("moveStart"),i)&&($e=setInterval(J,10))}function ne(e){if(u.released="mouseup"===e.type||"touchend"===e.type,u.pointer=u.touch?e.originalEvent[u.released?"changedTouches":"touches"][0]:e,u.pathX=u.pointer.pageX-u.initX,u.pathY=u.pointer.pageY-u.initY,u.path=it(Qe(u.pathX,2)+Qe(u.pathY,2)),u.delta=m.horizontal?u.pathX:u.pathY,u.released||!(u.path<1)){if(!u.init){if(u.path<m.dragThreshold)return u.released?ie():Ee;if(!(m.horizontal?Ke(u.pathX)>Ke(u.pathY):Ke(u.pathX)<Ke(u.pathY)))return ie();u.init=1}Pe(e),!u.locked&&u.path>u.pathToLock&&u.slidee&&(u.locked=1,u.$source.on(Xe,je)),u.released&&(ie(),m.releaseSwing)&&u.slidee&&(u.swing=(u.delta-u.history[0])/40*300,u.delta+=u.swing,u.tweese=10<Ke(u.swing)),r(u.slidee?Ze(u.initPos-u.delta):Z(u.initPos+u.delta))}}function ie(){clearInterval($e),u.released=!0,Fe.off(u.touch?Ye:Ve,ne),(u.slidee?b:$).removeClass(m.draggedClass),setTimeout(function(){u.$source.off(Xe,je)}),C.cur===C.dest&&u.init&&f("moveEnd"),g.resume(1),u.init=0}function oe(e){return~ke.inArray(e.nodeName,nt)||ke(e).is(m.interactive)}function se(){g.stop(),Fe.off("mouseup",se)}function ae(e){switch(Pe(e),this){case i[0]:case xe[0]:g.moveBy(i.is(this)?m.moveBy:-m.moveBy),Fe.on("mouseup",se);break;case o[0]:g.prev();break;case s[0]:g.next();break;case l[0]:g.prevPage();break;case Ce[0]:g.nextPage()}}function re(e){e.originalEvent.sly=g;var t=+new Date;et+m.scrollHijack>t&&be[0]!==document&&be[0]!==window?et=t:m.scrollBy&&C.start!==C.end&&(t=e.originalEvent,p.curDelta=(m.horizontal?t.deltaY||t.deltaX:t.deltaY)||-t.wheelDelta,p.curDelta/=1===t.deltaMode?3:100,t=M?(ze=+new Date,p.last<ze-p.resetTime&&(p.delta=0),p.last=ze,p.delta+=p.curDelta,Ke(p.delta)<1?p.finalDelta=0:(p.finalDelta=Ze(+p.delta),p.delta%=1),p.finalDelta):p.curDelta,(m.scrollTrap||0<t&&C.dest<C.end||t<0&&C.dest>C.start)&&Pe(e,1),g.slideBy(m.scrollBy*t))}function le(e){m.clickBar&&e.target===_[0]&&(Pe(e),r(Z((m.horizontal?e.pageX-_.offset().left:e.pageY-_.offset().top)-k/2)))}function ce(e){if(m.keyboardNavBy)switch(e.which){case m.horizontal?37:38:Pe(e),g["pages"===m.keyboardNavBy?"prevPage":"prev"]();break;case m.horizontal?39:40:Pe(e),g["pages"===m.keyboardNavBy?"nextPage":"next"]()}}function de(e){return oe(this)?void(e.originalEvent.slyignore=!0):void(this.parentNode!==b[0]||e.originalEvent.slyignore||g.activate(this))}function he(){this.parentNode===T[0]&&g.activatePage(fe.index(this))}function ue(e){m.pauseOnHover&&g["mouseenter"===e.type?"pause":"resume"](2)}function f(e,t){if(c[e]){for(pe=c[e].length,n=Ge.length=0;n<pe;n++)Ge.push(c[e][n]);for(n=0;n<pe;n++)Ge[n].call(g,e,t)}}if(!(this instanceof Te))return new Te(a,e,H);var n,pe,m=ke.extend({},Te.defaults,e),g=this,v=Le(a),y=ke(a),b=(m.slidee?ke(m.slidee):y.children()).eq(0),w=0,x=0,C={start:0,center:0,end:0,cur:0,dest:0},_=ke(m.scrollBar).eq(0),$=_.children().eq(0),S=0,k=0,E={start:0,end:0,cur:0},T=ke(m.pagesBar),fe=0,A=[],P=0,j=[],L={firstItem:0,lastItem:0,centerItem:0,activeItem:null,activePage:0},me=new Me(y[0]),ge=new Me(b[0]),ve=new Me(_[0]),ye=new Me($[0]),e="basic"===m.itemNav,D="forceCentered"===m.itemNav,I="centered"===m.itemNav||D,M=!v&&(e||I||D),be=m.scrollSource?ke(m.scrollSource):y,we=m.dragSource?ke(m.dragSource):y,i=ke(m.forward),xe=ke(m.backward),o=ke(m.prev),s=ke(m.next),l=ke(m.prevPage),Ce=ke(m.nextPage),c={},d={},h={},t={},u={released:1},p={last:0,delta:0,resetTime:200},_e=0,$e=0,O=0,Se=0;v||(a=y[0]),g.initialized=0,g.frame=a,g.slidee=b[0],g.pos=C,g.rel=L,g.items=j,g.pages=A,g.isPaused=0,g.options=m,g.dragging=u,g.reload=function(){z()},g.getPos=function(e){var t;return M?-1!==(t=N(e))&&j[t]:!!(t=b.find(e).eq(0))[0]&&(e=m.horizontal?t.offset().left-b.offset().left:t.offset().top-b.offset().top,t=t[m.horizontal?"outerWidth":"outerHeight"](),{start:e,center:e-w/2+t/2,end:e-w+t,size:t})},g.moveBy=function(e){t.speed=e,!u.init&&t.speed&&C.cur!==(0<t.speed?C.end:C.start)&&(t.lastTime=+new Date,t.startPos=C.cur,ee("button"),u.init=1,f("moveStart"),Re(Se),B())},g.stop=function(){"button"===u.source&&(u.init=0,u.released=1)},g.prev=function(){g.activate(null==L.activeItem?0:L.activeItem-1)},g.next=function(){g.activate(null==L.activeItem?0:L.activeItem+1)},g.prevPage=function(){g.activatePage(L.activePage-1)},g.nextPage=function(){g.activatePage(L.activePage+1)},g.slideBy=function(e,t){e&&(M?g[I?"toCenter":"toStart"](Ie((I?L.centerItem:L.firstItem)+m.scrollBy*e,0,j.length)):r(C.dest+e,t))},g.slideTo=function(e,t){r(e,t)},g.toStart=function(e,t){F("start",e,t)},g.toEnd=function(e,t){F("end",e,t)},g.toCenter=function(e,t){F("center",e,t)},g.getIndex=N,g.activate=function(e,t){e=Y(e);m.smart&&!1!==e&&(I?g.toCenter(e,t):e>=L.lastItem?g.toStart(e,t):e<=L.firstItem?g.toEnd(e,t):Q())},g.activatePage=function(e,t){Le(e)&&r(A[Ie(e,0,A.length-1)],t)},g.resume=function(e){m.cycleBy&&m.cycleInterval&&("items"!==m.cycleBy||j[0]&&null!=L.activeItem)&&!(e<g.isPaused)&&(g.isPaused=0,O?O=clearTimeout(O):f("resume"),O=setTimeout(function(){switch(f("cycle"),m.cycleBy){case"items":g.activate(L.activeItem>=j.length-1?0:L.activeItem+1);break;case"pages":g.activatePage(L.activePage>=A.length-1?0:L.activePage+1)}},m.cycleInterval))},g.pause=function(e){e<g.isPaused||(g.isPaused=e||100,O&&(O=clearTimeout(O),f("pause")))},g.toggle=function(){g[O?"pause":"resume"]()},g.set=function(e,t){ke.isPlainObject(e)?ke.extend(m,e):m.hasOwnProperty(e)&&(m[e]=t)},g.add=function(e,t){e=ke(e);M?(null==t||!j[0]||t>=j.length?e.appendTo(b):j.length&&e.insertBefore(j[t].el),null!=L.activeItem&&t<=L.activeItem&&(d.active=L.activeItem+=e.length)):b.append(e),z()},g.remove=function(e){var t,n;M?-1<(t=V(e))&&(P.eq(t).remove(),n=t===L.activeItem,null!=L.activeItem&&t<L.activeItem&&(d.active=--L.activeItem),z(),n)&&(d.active=null,g.activate(L.activeItem)):(ke(e).remove(),z())},g.moveAfter=function(e,t){G(e,t,1)},g.moveBefore=function(e,t){G(e,t)},g.on=function(e,t){if("object"===Ae(e))for(var n in e)e.hasOwnProperty(n)&&g.on(n,e[n]);else if("function"===Ae(t))for(var i=e.split(" "),o=0,s=i.length;o<s;o++)c[i[o]]=c[i[o]]||[],-1===K(i[o],t)&&c[i[o]].push(t);else if("array"===Ae(t))for(var a=0,r=t.length;a<r;a++)g.on(e,t[a])},g.one=function(t,n){g.on(t,function e(){n.apply(g,arguments),g.off(t,e)})},g.off=function(e,t){if(t instanceof Array)for(var n=0,i=t.length;n<i;n++)g.off(e,t[n]);else for(var o=e.split(" "),s=0,a=o.length;s<a;s++){var r;c[o[s]]=c[o[s]]||[],null==t?c[o[s]].length=0:-1!==(r=K(o[s],t))&&c[o[s]].splice(r,1)}},g.destroy=function(){return Te.removeInstance(a),be.add($).add(_).add(T).add(i).add(xe).add(o).add(s).add(l).add(Ce).off(".sly"),Fe.off("keydown",ce),o.add(s).add(l).add(Ce).removeClass(m.disabledClass),P&&null!=L.activeItem&&P.eq(L.activeItem).removeClass(m.activeClass),T.empty(),v||(y.off(".sly"),me.restore(),ge.restore(),ve.restore(),ye.restore(),ke.removeData(a,qe)),j.length=A.length=0,d={},g.initialized=0,g},g.init=function(){if(!g.initialized){if(Te.getInstance(a))throw new Error("There is already a Sly instance on this element");Te.storeInstance(a,g),g.on(H);var e=["overflow","position"],t=["position","webkitTransform","msTransform","transform","left","top","width","height"],e=(me.save.apply(me,e),ve.save.apply(ve,e),ge.save.apply(ge,t),ye.save.apply(ye,t),$);return v||(e=e.add(b),y.css("overflow","hidden"),Oe)||"static"!==y.css("position")||y.css("position","relative"),Oe?He&&e.css(Oe,He):("static"===_.css("position")&&_.css("position","relative"),e.css({position:"absolute"})),m.forward&&i.on(Ue,ae),m.backward&&xe.on(Ue,ae),m.prev&&o.on(Xe,ae),m.next&&s.on(Xe,ae),m.prevPage&&l.on(Xe,ae),m.nextPage&&Ce.on(Xe,ae),be.on(We,re),_[0]&&_.on(Xe,le),M&&m.activateOn&&y.on(m.activateOn+"."+qe,"*",de),T[0]&&m.activatePageOn&&T.on(m.activatePageOn+"."+qe,"*",he),we.on(Ne,{source:"slidee"},te),$&&$.on(Ne,{source:"handle"},te),Fe.on("keydown",ce),v||(y.on("mouseenter.sly mouseleave.sly",ue),y.on("scroll.sly",tt)),g.initialized=1,z(!0),m.cycleBy&&!v&&g[m.startPaused?"pause":"resume"](),g}}}function Ae(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":typeof e}function Pe(e,t){e.preventDefault(),t&&e.stopPropagation()}function je(e){Pe(e,1),ke(this).off(e.type,je)}function tt(){this.scrollLeft=0,this.scrollTop=0}function Le(e){return!isNaN(parseFloat(e))&&isFinite(e)}function De(e,t){return 0|Ze(String(e.css(t)).replace(/[^\-0-9.]/g,""))}function Ie(e,t,n){return e<t?t:n<e?n:e}function Me(t){var n={style:{},save:function(){if(t&&t.nodeType){for(var e=0;e<arguments.length;e++)n.style[arguments[e]]=t.style[arguments[e]];return n}},restore:function(){if(t&&t.nodeType){for(var e in n.style)n.style.hasOwnProperty(e)&&(t.style[e]=n.style[e]);return n}}};return n}var Oe,He,ze,o,s,t,i,n,qe="sly",Re=e.cancelAnimationFrame||e.cancelRequestAnimationFrame,Be=e.requestAnimationFrame,Fe=ke(document),Ne="touchstart.sly mousedown.sly",Ve="mousemove.sly mouseup.sly",Ye="touchmove.sly touchend.sly",We=(document.implementation.hasFeature("Event.wheel","3.0")?"wheel.":"mousewheel.")+qe,Xe="click.sly",Ue="mousedown.sly",nt=["INPUT","SELECT","BUTTON","TEXTAREA"],Ge=[],Ke=Math.abs,it=Math.sqrt,Qe=Math.pow,Ze=Math.round,ot=Math.max,Je=Math.min,et=0;function a(e){for(var t=0,n=o.length;t<n;t++){var i=o[t]?o[t]+e.charAt(0).toUpperCase()+e.slice(1):e;if(null!=s.style[i])return i}}Fe.on(We,function(e){var e=e.originalEvent.sly,t=+new Date;(!e||e.options.scrollHijack<t-et)&&(et=t)}),Te.getInstance=function(e){return ke.data(e,qe)},Te.storeInstance=function(e,t){return ke.data(e,qe,t)},Te.removeInstance=function(e){return ke.removeData(e,qe)},t=window,Be=t.requestAnimationFrame||t.webkitRequestAnimationFrame||function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-i)),e=setTimeout(e,n);return i=t,e},i=(new Date).getTime(),n=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout,Re=function(e){n.call(t,e)},o=["","Webkit","Moz","ms","O"],s=document.createElement("div"),Oe=a("transform"),He=a("perspective")?"translateZ(0) ":"",e.Sly=Te,ke.fn.sly=function(i,o){var s,a;return ke.isPlainObject(i)||("string"!==Ae(i)&&!1!==i||(s=!1===i?"destroy":i,a=Array.prototype.slice.call(arguments,1)),i={}),this.each(function(e,t){var n=Te.getInstance(t);n||s?n&&s&&n[s]&&n[s].apply(n,a):new Te(t,i,o).init()})},Te.defaults={slidee:null,horizontal:!1,itemNav:null,itemSelector:null,smart:!1,activateOn:null,activateMiddle:!1,scrollSource:null,scrollBy:0,scrollHijack:300,scrollTrap:!1,dragSource:null,mouseDragging:!1,touchDragging:!1,releaseSwing:!1,swingSpeed:.2,elasticBounds:!1,dragThreshold:3,interactive:null,scrollBar:null,dragHandle:!1,dynamicHandle:!1,minHandleSize:50,clickBar:!1,syncSpeed:.5,pagesBar:null,activatePageOn:null,pageBuilder:function(e){return"<li>"+(e+1)+"</li>"},forward:null,backward:null,prev:null,next:null,prevPage:null,nextPage:null,cycleBy:null,cycleInterval:5e3,pauseOnHover:!1,startPaused:!1,moveBy:300,speed:0,easing:"swing",startAt:null,keyboardNavBy:null,draggedClass:"dragged",activeClass:"active",disabledClass:"disabled"}}(jQuery,window),function(l,a,f){"use strict";function n(e,t){var n,i,o,s=[],a=0;e&&e.isDefaultPrevented()||(e.preventDefault(),t=t||{},n=(t=e&&e.data?h(e.data.options,t):t).$target||f(e.currentTarget).trigger("blur"),(o=f.fancybox.getInstance())&&o.$trigger&&o.$trigger.is(n))||(s=t.selector?f(t.selector):(i=n.attr("data-fancybox")||"")?(s=e.data?e.data.items:[]).length?s.filter('[data-fancybox="'+i+'"]'):f('[data-fancybox="'+i+'"]'):[n],a=f(s).index(n),(o=f.fancybox.open(s,t,a=a<0?0:a)).$trigger=n)}if(l.console=l.console||{info:function(e){}},f){if(f.fn.fancybox)return console.info("fancyBox already initialized");var e={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","slideShow","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="fancybox-video" controls controlsList="nodownload" poster="{{poster}}"><source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!</video>',format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"><div class="fancybox-caption__body"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg></button>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div></button>',smallBtn:'<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg></button>'},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:f.noop,beforeLoad:f.noop,afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeClose:f.noop,afterClose:f.noop,onActivate:f.noop,onDeactivate:f.noop,clickContent:function(e,t){return"image"===e.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(e,t){return"image"===e.type&&"toggleControls"},clickSlide:function(e,t){return"image"===e.type?"toggleControls":"close"},dblclickContent:function(e,t){return"image"===e.type&&"zoom"},dblclickSlide:function(e,t){return"image"===e.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schlie&szlig;en",NEXT:"Weiter",PREV:"Zur&uuml;ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Vergr&ouml;&szlig;ern"}}},o=f(l),s=f(a),r=0,d=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||l.oRequestAnimationFrame||function(e){return l.setTimeout(e,1e3/60)},t=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.mozCancelAnimationFrame||l.oCancelAnimationFrame||function(e){l.clearTimeout(e)},c=function(){var e,t=a.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e];return"transitionend"}(),u=function(e){return e&&e.length&&e[0].offsetHeight},h=function(e,t){var n=f.extend(!0,{},e,t);return f.each(t,function(e,t){f.isArray(t)&&(n[e]=t)}),n},i=function(e,t,n){var i=this;i.opts=h({index:n},f.fancybox.defaults),f.isPlainObject(t)&&(i.opts=h(i.opts,t)),f.fancybox.isMobile&&(i.opts=h(i.opts,i.opts.mobile)),i.id=i.opts.id||++r,i.currIndex=parseInt(i.opts.index,10)||0,i.prevIndex=null,i.prevPos=null,i.currPos=0,i.firstRun=!0,i.group=[],i.slides={},i.addContent(e),i.group.length&&i.init()};f.extend(i.prototype,{init:function(){var t,n,i=this,o=i.group[i.currIndex].opts;o.closeExisting&&f.fancybox.close(!0),f("body").addClass("fancybox-active"),!f.fancybox.getInstance()&&!1!==o.hideScrollbar&&!f.fancybox.isMobile&&a.body.scrollHeight>l.innerHeight&&(f("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(l.innerWidth-a.documentElement.clientWidth)+"px;}</style>"),f("body").addClass("compensate-for-scrollbar")),n="",f.each(o.buttons,function(e,t){n+=o.btnTpl[t]||""}),t=f(i.translate(i,o.baseTpl.replace("{{buttons}}",n).replace("{{arrows}}",o.btnTpl.arrowLeft+o.btnTpl.arrowRight))).attr("id","fancybox-container-"+i.id).addClass(o.baseClass).data("FancyBox",i).appendTo(o.parentEl),i.$refs={container:t},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(e){i.$refs[e]=t.find(".fancybox-"+e)}),i.trigger("onInit"),i.activate(),i.jumpTo(i.currIndex)},translate:function(e,t){var n=e.opts.i18n[e.opts.lang]||e.opts.i18n.en;return t.replace(/\{\{(\w+)\}\}/g,function(e,t){return void 0===n[t]?e:n[t]})},addContent:function(e){var a=this,e=f.makeArray(e);f.each(e,function(e,t){var n,i,o={},s={};f.isPlainObject(t)?s=(o=t).opts||t:"object"===f.type(t)&&f(t).length?(s=(n=f(t)).data()||{},(s=f.extend(!0,{},s,s.options)).$orig=n,o.src=a.opts.src||s.src||n.attr("href"),o.type||o.src||(o.type="inline",o.src=t)):o={type:"html",src:t+""},o.opts=f.extend(!0,{},a.opts,s),f.isArray(s.buttons)&&(o.opts.buttons=s.buttons),f.fancybox.isMobile&&o.opts.mobile&&(o.opts=h(o.opts,o.opts.mobile)),n=o.type||o.opts.type,s=o.src||"",!n&&s&&((i=s.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(n="video",o.opts.video.format||(o.opts.video.format="video/"+("ogv"===i[1]?"ogg":i[1]))):s.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?n="image":s.match(/\.(pdf)((\?|#).*)?$/i)?o=f.extend(!0,o,{contentType:"pdf",opts:{iframe:{preload:!(n="iframe")}}}):"#"===s.charAt(0)&&(n="inline")),n?o.type=n:a.trigger("objectNeedsType",o),o.contentType||(o.contentType=-1<f.inArray(o.type,["html","inline","ajax"])?"html":o.type),o.index=a.group.length,"auto"==o.opts.smallBtn&&(o.opts.smallBtn=-1<f.inArray(o.type,["html","inline","ajax"])),"auto"===o.opts.toolbar&&(o.opts.toolbar=!o.opts.smallBtn),o.$thumb=o.opts.$thumb||null,o.opts.$trigger&&o.index===a.opts.index&&(o.$thumb=o.opts.$trigger.find("img:first"),o.$thumb.length)&&(o.opts.$orig=o.opts.$trigger),o.$thumb&&o.$thumb.length||!o.opts.$orig||(o.$thumb=o.opts.$orig.find("img:first")),o.$thumb&&!o.$thumb.length&&(o.$thumb=null),o.thumb=o.opts.thumb||(o.$thumb?o.$thumb[0].src:null),"function"===f.type(o.opts.caption)&&(o.opts.caption=o.opts.caption.apply(t,[a,o])),"function"===f.type(a.opts.caption)&&(o.opts.caption=a.opts.caption.apply(t,[a,o])),o.opts.caption instanceof f||(o.opts.caption=void 0===o.opts.caption?"":o.opts.caption+""),"ajax"===o.type&&1<(i=s.split(/\s+/,2)).length&&(o.src=i.shift(),o.opts.filter=i.shift()),o.opts.modal&&(o.opts=f.extend(!0,o.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),a.group.push(o)}),Object.keys(a.slides).length&&(a.updateControls(),e=a.Thumbs)&&e.isActive&&(e.create(),e.focus())},addEvents:function(){var i=this;i.removeEvents(),i.$refs.container.on("click.fb-close","[data-fancybox-close]",function(e){e.stopPropagation(),e.preventDefault(),i.close(e)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(e){e.stopPropagation(),e.preventDefault(),i.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(e){e.stopPropagation(),e.preventDefault(),i.next()}).on("click.fb","[data-fancybox-zoom]",function(e){i[i.isScaledDown()?"scaleToActual":"scaleToFit"]()}),o.on("orientationchange.fb resize.fb",function(e){e&&e.originalEvent&&"resize"===e.originalEvent.type?(i.requestId&&t(i.requestId),i.requestId=d(function(){i.update(e)})):(i.current&&"iframe"===i.current.type&&i.$refs.stage.hide(),setTimeout(function(){i.$refs.stage.show(),i.update(e)},f.fancybox.isMobile?600:250))}),s.on("keydown.fb",function(e){var t=(f.fancybox?f.fancybox.getInstance():null).current,n=e.keyCode||e.which;if(9!=n)return!t.opts.keyboard||e.ctrlKey||e.altKey||e.shiftKey||f(e.target).is("input,textarea,video,audio,select")?void 0:8===n||27===n?(e.preventDefault(),void i.close(e)):37===n||38===n?(e.preventDefault(),void i.previous()):39===n||40===n?(e.preventDefault(),void i.next()):void i.trigger("afterKeydown",e,n);t.opts.trapFocus&&i.focus(e)}),i.group[i.currIndex].opts.idleTime&&(i.idleSecondsCounter=0,s.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(e){i.idleSecondsCounter=0,i.isIdle&&i.showControls(),i.isIdle=!1}),i.idleInterval=l.setInterval(function(){++i.idleSecondsCounter>=i.group[i.currIndex].opts.idleTime&&!i.isDragging&&(i.isIdle=!0,i.idleSecondsCounter=0,i.hideControls())},1e3))},removeEvents:function(){o.off("orientationchange.fb resize.fb"),s.off("keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),this.idleInterval&&(l.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(e){return this.jumpTo(this.currPos-1,e)},next:function(e){return this.jumpTo(this.currPos+1,e)},jumpTo:function(e,i){var t,n,o,s,a,r,l,c,d=this,h=d.group.length;if(!(d.isDragging||d.isClosing||d.isAnimating&&d.firstRun)){if(e=parseInt(e,10),!(n=(d.current||d).opts.loop)&&(e<0||h<=e))return!1;(t=d.firstRun=!Object.keys(d.slides).length,s=d.current,d.prevIndex=d.currIndex,d.prevPos=d.currPos,o=d.createSlide(e),1<h&&((n||o.index<h-1)&&d.createSlide(e+1),n||0<o.index)&&d.createSlide(e-1),d.current=o,d.currIndex=o.index,d.currPos=o.pos,d.trigger("beforeShow",t),d.updateControls(),o.forcedDuration=void 0,f.isNumeric(i)?o.forcedDuration=i:i=o.opts[t?"animationDuration":"transitionDuration"],i=parseInt(i,10),h=d.isMoved(o),o.$slide.addClass("fancybox-slide--current"),t)?(o.opts.animationEffect&&i&&d.$refs.container.css("transition-duration",i+"ms"),d.$refs.container.addClass("fancybox-is-open").trigger("focus"),d.loadSlide(o),d.preload("image")):(a=f.fancybox.getTranslate(s.$slide),r=f.fancybox.getTranslate(d.$refs.stage),f.each(d.slides,function(e,t){f.fancybox.stop(t.$slide,!0)}),s.pos!==o.pos&&(s.isComplete=!1),s.$slide.removeClass("fancybox-slide--complete fancybox-slide--current"),h?(c=a.left-(s.pos*a.width+s.pos*s.opts.gutter),f.each(d.slides,function(e,t){t.$slide.removeClass("fancybox-animated").removeClass(function(e,t){return(t.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});var n=t.pos*a.width+t.pos*t.opts.gutter;f.fancybox.setTranslate(t.$slide,{top:0,left:n-r.left+c}),t.pos!==o.pos&&t.$slide.addClass("fancybox-slide--"+(t.pos>o.pos?"next":"previous")),u(t.$slide),f.fancybox.animate(t.$slide,{top:0,left:(t.pos-o.pos)*a.width+(t.pos-o.pos)*t.opts.gutter},i,function(){t.$slide.css({transform:"",opacity:""}).removeClass("fancybox-slide--next fancybox-slide--previous"),t.pos===d.currPos&&d.complete()})})):i&&o.opts.transitionEffect&&(l="fancybox-animated fancybox-fx-"+o.opts.transitionEffect,s.$slide.addClass("fancybox-slide--"+(s.pos>o.pos?"next":"previous")),f.fancybox.animate(s.$slide,l,i,function(){s.$slide.removeClass(l).removeClass("fancybox-slide--next fancybox-slide--previous")},!1)),o.isLoaded?d.revealContent(o):d.loadSlide(o),d.preload("image"))}},createSlide:function(e){var t,n=this,i=e%n.group.length;return i=i<0?n.group.length+i:i,!n.slides[e]&&n.group[i]&&(t=f('<div class="fancybox-slide"></div>').appendTo(n.$refs.stage),n.slides[e]=f.extend(!0,{},n.group[i],{pos:e,$slide:t,isLoaded:!1}),n.updateSlide(n.slides[e])),n.slides[e]},scaleToActual:function(e,t,n){var i,o,s,a,r=this,l=r.current,c=l.$content,d=f.fancybox.getTranslate(l.$slide).width,h=f.fancybox.getTranslate(l.$slide).height,u=l.width,p=l.height;r.isAnimating||r.isMoved()||!c||"image"!=l.type||!l.isLoaded||l.hasError||(r.isAnimating=!0,f.fancybox.stop(c),e=void 0===e?.5*d:e,t=void 0===t?.5*h:t,(i=f.fancybox.getTranslate(c)).top-=f.fancybox.getTranslate(l.$slide).top,i.left-=f.fancybox.getTranslate(l.$slide).left,l=u/i.width,a=p/i.height,o=.5*d-.5*u,s=.5*h-.5*p,d<u&&(o=0<(o=i.left*l-(e*l-e))?0:o)<d-u&&(o=d-u),h<p&&(s=0<(s=i.top*a-(t*a-t))?0:s)<h-p&&(s=h-p),r.updateCursor(u,p),f.fancybox.animate(c,{top:s,left:o,scaleX:l,scaleY:a},n||366,function(){r.isAnimating=!1}),r.SlideShow&&r.SlideShow.isActive&&r.SlideShow.stop())},scaleToFit:function(e){var t=this,n=t.current,i=n.$content;t.isAnimating||t.isMoved()||!i||"image"!=n.type||!n.isLoaded||n.hasError||(t.isAnimating=!0,f.fancybox.stop(i),n=t.getFitPos(n),t.updateCursor(n.width,n.height),f.fancybox.animate(i,{top:n.top,left:n.left,scaleX:n.width/i.width(),scaleY:n.height/i.height()},e||366,function(){t.isAnimating=!1}))},getFitPos:function(e){var t,n,i=e.$content,o=e.$slide,s=e.width||e.opts.width,a=e.height||e.opts.height,r={};return!!(e.isLoaded&&i&&i.length)&&(t=f.fancybox.getTranslate(this.$refs.stage).width,n=f.fancybox.getTranslate(this.$refs.stage).height,t-=parseFloat(o.css("paddingLeft"))+parseFloat(o.css("paddingRight"))+parseFloat(i.css("marginLeft"))+parseFloat(i.css("marginRight")),n-=parseFloat(o.css("paddingTop"))+parseFloat(o.css("paddingBottom"))+parseFloat(i.css("marginTop"))+parseFloat(i.css("marginBottom")),s&&a||(s=t,a=n),t-.5<(s*=i=Math.min(1,t/s,n/a))&&(s=t),n-.5<(a*=i)&&(a=n),"image"===e.type?(r.top=Math.floor(.5*(n-a))+parseFloat(o.css("paddingTop")),r.left=Math.floor(.5*(t-s))+parseFloat(o.css("paddingLeft"))):"video"===e.contentType&&(s/(i=e.opts.width&&e.opts.height?s/a:e.opts.ratio||16/9)<a?a=s/i:a*i<s&&(s=a*i)),r.width=s,r.height=a,r)},update:function(n){var i=this;f.each(i.slides,function(e,t){i.updateSlide(t,n)})},updateSlide:function(e,t){var n=this,i=e&&e.$content,o=e.width||e.opts.width,s=e.height||e.opts.height,a=e.$slide;n.adjustCaption(e),i&&(o||s||"video"===e.contentType)&&!e.hasError&&(f.fancybox.stop(i),f.fancybox.setTranslate(i,n.getFitPos(e)),e.pos===n.currPos)&&(n.isAnimating=!1,n.updateCursor()),n.adjustLayout(e),a.length&&(a.trigger("refresh"),e.pos===n.currPos)&&n.$refs.toolbar.add(n.$refs.navigation.find(".fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",a.get(0).scrollHeight>a.get(0).clientHeight),n.trigger("onUpdate",e,t)},centerSlide:function(e){var t=this,n=t.current,i=n.$slide;!t.isClosing&&n&&(i.siblings().css({transform:"",opacity:""}),i.parent().children().removeClass("fancybox-slide--previous fancybox-slide--next"),f.fancybox.animate(i,{top:0,left:0,opacity:1},void 0===e?0:e,function(){i.css({transform:"",opacity:""}),n.isComplete||t.complete()},!1))},isMoved:function(e){var t,n,e=e||this.current;return!!e&&(n=f.fancybox.getTranslate(this.$refs.stage),t=f.fancybox.getTranslate(e.$slide),!e.$slide.hasClass("fancybox-animated"))&&(.5<Math.abs(t.top-n.top)||.5<Math.abs(t.left-n.left))},updateCursor:function(e,t){var n=this,i=n.current,o=n.$refs.container;i&&!n.isClosing&&n.Guestures&&(o.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan"),t=!!(e=n.canPan(e,t))||n.isZoomable(),o.toggleClass("fancybox-is-zoomable",t),f("[data-fancybox-zoom]").prop("disabled",!t),e?o.addClass("fancybox-can-pan"):t&&("zoom"===i.opts.clickContent||f.isFunction(i.opts.clickContent)&&"zoom"==i.opts.clickContent(i))?o.addClass("fancybox-can-zoomIn"):i.opts.touch&&(i.opts.touch.vertical||1<n.group.length)&&"video"!==i.contentType&&o.addClass("fancybox-can-swipe"))},isZoomable:function(){var e,t=this.current;if(t&&!this.isClosing&&"image"===t.type&&!t.hasError){if(!t.isLoaded)return!0;if((e=this.getFitPos(t))&&(t.width>e.width||t.height>e.height))return!0}return!1},isScaledDown:function(e,t){var n=!1,i=this.current,o=i.$content;return void 0!==e&&void 0!==t?n=e<i.width&&t<i.height:o&&(n=(n=f.fancybox.getTranslate(o)).width<i.width&&n.height<i.height),n},canPan:function(e,t){var n=this.current,i=null,o=!1;return o="image"===n.type&&(n.isComplete||e&&t)&&!n.hasError&&(o=this.getFitPos(n),void 0!==e&&void 0!==t?i={width:e,height:t}:n.isComplete&&(i=f.fancybox.getTranslate(n.$content)),i)?o&&(1.5<Math.abs(i.width-o.width)||1.5<Math.abs(i.height-o.height)):o},loadSlide:function(n){var e,t,i,o=this;if(!n.isLoading&&!n.isLoaded){if(!(n.isLoading=!0)===o.trigger("beforeLoad",n))return n.isLoading=!1;switch(e=n.type,(t=n.$slide).off("refresh").trigger("onReset").addClass(n.opts.slideClass),e){case"image":o.setImage(n);break;case"iframe":o.setIframe(n);break;case"html":o.setContent(n,n.src||n.content);break;case"video":o.setContent(n,n.opts.video.tpl.replace(/\{\{src\}\}/gi,n.src).replace("{{format}}",n.opts.videoFormat||n.opts.video.format||"").replace("{{poster}}",n.thumb||""));break;case"inline":f(n.src).length?o.setContent(n,f(n.src)):o.setError(n);break;case"ajax":o.showLoading(n),i=f.ajax(f.extend({},n.opts.ajax.settings,{url:n.src,success:function(e,t){"success"===t&&o.setContent(n,e)},error:function(e,t){e&&"abort"!==t&&o.setError(n)}})),t.one("onReset",function(){i.abort()});break;default:o.setError(n)}return!0}},setImage:function(t){var e,n=this;setTimeout(function(){var e=t.$image;n.isClosing||!t.isLoading||e&&e.length&&e[0].complete||t.hasError||n.showLoading(t)},50),n.checkSrcset(t),t.$content=f('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(t.$slide.addClass("fancybox-slide--image")),!1!==t.opts.preload&&t.opts.width&&t.opts.height&&t.thumb&&(t.width=t.opts.width,t.height=t.opts.height,(e=a.createElement("img")).onerror=function(){f(this).remove(),t.$ghost=null},e.onload=function(){n.afterLoad(t)},t.$ghost=f(e).addClass("fancybox-image").appendTo(t.$content).attr("src",t.thumb)),n.setBigImage(t)},checkSrcset:function(e){var t,n,i,o,s=e.opts.srcset||e.opts.image.srcset;if(s){i=l.devicePixelRatio||1,o=l.innerWidth*i,(n=s.split(",").map(function(e){var i={};return e.trim().split(/\s+/).forEach(function(e,t){var n=parseInt(e.substring(0,e.length-1),10);if(0===t)return i.url=e;n&&(i.value=n,i.postfix=e[e.length-1])}),i})).sort(function(e,t){return e.value-t.value});for(var a=0;a<n.length;a++){var r=n[a];if("w"===r.postfix&&r.value>=o||"x"===r.postfix&&r.value>=i){t=r;break}}(t=!t&&n.length?n[n.length-1]:t)&&(e.src=t.url,e.width&&e.height&&"w"==t.postfix&&(e.height=e.width/e.height*t.value,e.width=t.value),e.opts.srcset=s)}},setBigImage:function(t){var n=this,e=a.createElement("img"),i=f(e);t.$image=i.one("error",function(){n.setError(t)}).one("load",function(){var e;t.$ghost||(n.resolveImageSlideSize(t,this.naturalWidth,this.naturalHeight),n.afterLoad(t)),n.isClosing||(t.opts.srcset&&((e=t.opts.sizes)&&"auto"!==e||(e=(1<t.width/t.height&&1<o.width()/o.height()?"100":Math.round(t.width/t.height*100))+"vw"),i.attr("sizes",e).attr("srcset",t.opts.srcset)),t.$ghost&&setTimeout(function(){t.$ghost&&!n.isClosing&&t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))),n.hideLoading(t))}).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),(e.complete||"complete"==e.readyState)&&i.naturalWidth&&i.naturalHeight?i.trigger("load"):e.error&&i.trigger("error")},resolveImageSlideSize:function(e,t,n){var i=parseInt(e.opts.width,10),o=parseInt(e.opts.height,10);e.width=t,e.height=n,0<i&&(e.width=i,e.height=Math.floor(i*n/t)),0<o&&(e.width=Math.floor(o*t/n),e.height=o)},setIframe:function(o){var s,t=this,a=o.opts.iframe,r=o.$slide;o.$content=f('<div class="fancybox-content'+(a.preload?" fancybox-is-hidden":"")+'"></div>').css(a.css).appendTo(r),r.addClass("fancybox-slide--"+o.contentType),o.$iframe=s=f(a.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(a.attr).appendTo(o.$content),a.preload?(t.showLoading(o),s.on("load.fb error.fb",function(e){this.isReady=1,o.$slide.trigger("refresh"),t.afterLoad(o)}),r.on("refresh.fb",function(){var e,t=o.$content,n=a.css.width,i=a.css.height;if(1===s[0].isReady){try{e=s.contents().find("body")}catch(e){}e&&e.length&&e.children().length&&(r.css("overflow","visible"),t.css({width:"100%","max-width":"100%",height:"9999px"}),void 0===n&&(n=Math.ceil(Math.max(e[0].clientWidth,e.outerWidth(!0)))),t.css("width",n||"").css("max-width",""),void 0===i&&(i=Math.ceil(Math.max(e[0].clientHeight,e.outerHeight(!0)))),t.css("height",i||""),r.css("overflow","auto")),t.removeClass("fancybox-is-hidden")}})):t.afterLoad(o),s.attr("src",o.src),r.one("onReset",function(){try{f(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(e){}f(this).off("refresh.fb").empty(),o.isLoaded=!1,o.isRevealed=!1})},setContent:function(e,t){var n;this.isClosing||(this.hideLoading(e),e.$content&&f.fancybox.stop(e.$content),e.$slide.empty(),(n=t)&&n.hasOwnProperty&&n instanceof f&&t.parent().length?((t.hasClass("fancybox-content")||t.parent().hasClass("fancybox-content"))&&t.parents(".fancybox-slide").trigger("onReset"),e.$placeholder=f("<div>").hide().insertAfter(t),t.css("display","inline-block")):e.hasError||("string"===f.type(t)&&(t=f("<div>").append(f.trim(t)).contents()),e.opts.filter&&(t=f("<div>").html(t).find(e.opts.filter))),e.$slide.one("onReset",function(){f(this).find("video,audio").trigger("pause"),e.$placeholder&&(e.$placeholder.after(t.removeClass("fancybox-content").hide()).remove(),e.$placeholder=null),e.$smallBtn&&(e.$smallBtn.remove(),e.$smallBtn=null),e.hasError||(f(this).empty(),e.isLoaded=!1,e.isRevealed=!1)}),f(t).appendTo(e.$slide),f(t).is("video,audio")&&(f(t).addClass("fancybox-video"),f(t).wrap("<div></div>"),e.contentType="video",e.opts.width=e.opts.width||f(t).attr("width"),e.opts.height=e.opts.height||f(t).attr("height")),e.$content=e.$slide.children().filter("div,form,main,video,audio,article,.fancybox-content").first(),e.$content.siblings().hide(),e.$content.length||(e.$content=e.$slide.wrapInner("<div></div>").children().first()),e.$content.addClass("fancybox-content"),e.$slide.addClass("fancybox-slide--"+e.contentType),this.afterLoad(e))},setError:function(e){e.hasError=!0,e.$slide.trigger("onReset").removeClass("fancybox-slide--"+e.contentType).addClass("fancybox-slide--error"),e.contentType="html",this.setContent(e,this.translate(e,e.opts.errorTpl)),e.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(e){(e=e||this.current)&&!e.$spinner&&(e.$spinner=f(this.translate(this,this.opts.spinnerTpl)).appendTo(e.$slide).hide().fadeIn("fast"))},hideLoading:function(e){(e=e||this.current)&&e.$spinner&&(e.$spinner.stop().remove(),delete e.$spinner)},afterLoad:function(e){var t=this;t.isClosing||(e.isLoading=!1,e.isLoaded=!0,t.trigger("afterLoad",e),t.hideLoading(e),!e.opts.smallBtn||e.$smallBtn&&e.$smallBtn.length||(e.$smallBtn=f(t.translate(e,e.opts.btnTpl.smallBtn)).appendTo(e.$content)),e.opts.protect&&e.$content&&!e.hasError&&(e.$content.on("contextmenu.fb",function(e){return 2==e.button&&e.preventDefault(),!0}),"image"===e.type)&&f('<div class="fancybox-spaceball"></div>').appendTo(e.$content),t.adjustCaption(e),t.adjustLayout(e),e.pos===t.currPos&&t.updateCursor(),t.revealContent(e))},adjustCaption:function(e){var t=this,e=e||t.current,n=e.opts.caption,i=e.opts.preventCaptionOverlap,o=t.$refs.caption,s=!1;o.toggleClass("fancybox-caption--separate",i),i&&n&&n.length&&(e.pos!==t.currPos?((i=o.clone().appendTo(o.parent())).children().eq(0).empty().html(n),s=i.outerHeight(!0),i.empty().remove()):t.$caption&&(s=t.$caption.outerHeight(!0)),e.$slide.css("padding-bottom",s||""))},adjustLayout:function(e){var t,n,i,o,e=e||this.current;e.isLoaded&&!0!==e.opts.disableLayoutFix&&(e.$content.css("margin-bottom",""),e.$content.outerHeight()>e.$slide.height()+.5&&(i=e.$slide[0].style["padding-bottom"],o=e.$slide.css("padding-bottom"),0<parseFloat(o))&&(t=e.$slide[0].scrollHeight,e.$slide.css("padding-bottom",0),Math.abs(t-e.$slide[0].scrollHeight)<1&&(n=o),e.$slide.css("padding-bottom",i)),e.$content.css("margin-bottom",n))},revealContent:function(e){var t,n,i,o,s=this,a=e.$slide,r=!1,l=!1,c=s.isMoved(e),d=e.isRevealed;return e.isRevealed=!0,t=e.opts[s.firstRun?"animationEffect":"transitionEffect"],i=e.opts[s.firstRun?"animationDuration":"transitionDuration"],i=parseInt(void 0===e.forcedDuration?i:e.forcedDuration,10),"zoom"===(t=!c&&e.pos===s.currPos&&i?t:!1)&&(e.pos===s.currPos&&i&&"image"===e.type&&!e.hasError&&(l=s.getThumbPos(e))?r=s.getFitPos(e):t="fade"),"zoom"===t?(s.isAnimating=!0,r.scaleX=r.width/l.width,r.scaleY=r.height/l.height,(o="auto"==(o=e.opts.zoomOpacity)?.1<Math.abs(e.width/e.height-l.width/l.height):o)&&(l.opacity=.1,r.opacity=1),f.fancybox.setTranslate(e.$content.removeClass("fancybox-is-hidden"),l),u(e.$content),void f.fancybox.animate(e.$content,r,i,function(){s.isAnimating=!1,s.complete()})):(s.updateSlide(e),t?(f.fancybox.stop(a),n="fancybox-slide--"+(e.pos>=s.prevPos?"next":"previous")+" fancybox-animated fancybox-fx-"+t,a.addClass(n).removeClass("fancybox-slide--current"),e.$content.removeClass("fancybox-is-hidden"),u(a),"image"!==e.type&&e.$content.hide().show(0),void f.fancybox.animate(a,"fancybox-slide--current",i,function(){a.removeClass(n).css({transform:"",opacity:""}),e.pos===s.currPos&&s.complete()},!0)):(e.$content.removeClass("fancybox-is-hidden"),d||!c||"image"!==e.type||e.hasError||e.$content.hide().fadeIn("fast"),void(e.pos===s.currPos&&s.complete())))},getThumbPos:function(e){var t,n,i,o,e=e.$thumb;return!(!e||!(i=e[0])||i.ownerDocument!==a||(f(".fancybox-container").css("pointer-events","none"),o={x:i.getBoundingClientRect().left+i.offsetWidth/2,y:i.getBoundingClientRect().top+i.offsetHeight/2},o=a.elementFromPoint(o.x,o.y)===i,f(".fancybox-container").css("pointer-events",""),!o))&&(i=f.fancybox.getTranslate(e),o=parseFloat(e.css("border-top-width")||0),n=parseFloat(e.css("border-right-width")||0),t=parseFloat(e.css("border-bottom-width")||0),e=parseFloat(e.css("border-left-width")||0),n={top:i.top+o,left:i.left+e,width:i.width-n-e,height:i.height-o-t,scaleX:1,scaleY:1},0<i.width)&&0<i.height&&n},complete:function(){var e,n=this,t=n.current,i={};!n.isMoved()&&t.isLoaded&&(t.isComplete||(t.isComplete=!0,t.$slide.siblings().trigger("onReset"),n.preload("inline"),u(t.$slide),t.$slide.addClass("fancybox-slide--complete"),f.each(n.slides,function(e,t){t.pos>=n.currPos-1&&t.pos<=n.currPos+1?i[t.pos]=t:t&&(f.fancybox.stop(t.$slide),t.$slide.off().remove())}),n.slides=i),n.isAnimating=!1,n.updateCursor(),n.trigger("afterShow"),t.opts.video.autoStart&&t.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",function(){Document.exitFullscreen?Document.exitFullscreen():this.webkitExitFullscreen&&this.webkitExitFullscreen(),n.next()}),t.opts.autoFocus&&"html"===t.contentType&&((e=t.$content.find("input[autofocus]:enabled:visible:first")).length?e.trigger("focus"):n.focus(null,!0)),t.$slide.scrollTop(0).scrollLeft(0))},preload:function(e){var t,n,i=this;i.group.length<2||(n=i.slides[i.currPos+1],(t=i.slides[i.currPos-1])&&t.type===e&&i.loadSlide(t),n&&n.type===e&&i.loadSlide(n))},focus:function(e,t){var n=this,i=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(",");n.isClosing||((t=(t=!e&&n.current&&n.current.isComplete?n.current.$slide.find("*:visible"+(t?":not(.fancybox-close-small)":"")):n.$refs.container.find("*:visible")).filter(i).filter(function(){return"hidden"!==f(this).css("visibility")&&!f(this).hasClass("disabled")})).length?(i=t.index(a.activeElement),e&&e.shiftKey?(i<0||0==i)&&(e.preventDefault(),t.eq(t.length-1).trigger("focus")):(i<0||i==t.length-1)&&(e&&e.preventDefault(),t.eq(0).trigger("focus"))):n.$refs.container.trigger("focus"))},activate:function(){var t=this;f(".fancybox-container").each(function(){var e=f(this).data("FancyBox");e&&e.id!==t.id&&!e.isClosing&&(e.trigger("onDeactivate"),e.removeEvents(),e.isVisible=!1)}),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(e,t){function n(){l.cleanUp(e)}var i,o,s,a,r,l=this,c=l.current;return!l.isClosing&&(!(l.isClosing=!0)===l.trigger("beforeClose",e)?(l.isClosing=!1,d(function(){l.update()}),!1):(l.removeEvents(),o=c.$content,i=c.opts.animationEffect,t=f.isNumeric(t)?t:i?c.opts.animationDuration:0,c.$slide.removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),!0!==e?f.fancybox.stop(c.$slide):i=!1,c.$slide.siblings().trigger("onReset").remove(),t&&l.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing").css("transition-duration",t+"ms"),l.hideLoading(c),l.hideControls(!0),l.updateCursor(),"zoom"===(i="zoom"!==i||o&&t&&"image"===c.type&&!l.isMoved()&&!c.hasError&&(r=l.getThumbPos(c))?i:"fade")?(f.fancybox.stop(o),a={top:(a=f.fancybox.getTranslate(o)).top,left:a.left,scaleX:a.width/r.width,scaleY:a.height/r.height,width:r.width,height:r.height},(s="auto"==(s=c.opts.zoomOpacity)?.1<Math.abs(c.width/c.height-r.width/r.height):s)&&(r.opacity=0),f.fancybox.setTranslate(o,a),u(o),f.fancybox.animate(o,r,t,n)):i&&t?f.fancybox.animate(c.$slide.addClass("fancybox-slide--previous").removeClass("fancybox-slide--current"),"fancybox-animated fancybox-fx-"+i,t,n):!0===e?setTimeout(n,t):n(),!0))},cleanUp:function(e){var t,n=this,i=n.current.opts.$orig;n.current.$slide.trigger("onReset"),n.$refs.container.empty().remove(),n.trigger("afterClose",e),n.current.opts.backFocus&&(i=i&&i.length&&i.is(":visible")?i:n.$trigger)&&i.length&&(e=l.scrollX,t=l.scrollY,i.trigger("focus"),f("html, body").scrollTop(t).scrollLeft(e)),n.current=null,(i=f.fancybox.getInstance())?i.activate():(f("body").removeClass("fancybox-active compensate-for-scrollbar"),f("#fancybox-style-noscroll").remove())},trigger:function(e,t){var n,i=Array.prototype.slice.call(arguments,1),o=this,t=t&&t.opts?t:o.current;if(t?i.unshift(t):t=o,i.unshift(o),!1===(n=f.isFunction(t.opts[e])?t.opts[e].apply(t,i):n))return n;("afterClose"!==e&&o.$refs?o.$refs.container:s).trigger(e+".fb",i)},updateControls:function(){var e=this,t=e.current,n=t.index,i=e.$refs.container,o=e.$refs.caption,s=t.opts.caption;t.$slide.trigger("refresh"),s&&s.length?(e.$caption=o).children().eq(0).html(s):e.$caption=null,e.hasHiddenControls||e.isIdle||e.showControls(),i.find("[data-fancybox-count]").html(e.group.length),i.find("[data-fancybox-index]").html(n+1),i.find("[data-fancybox-prev]").prop("disabled",!t.opts.loop&&n<=0),i.find("[data-fancybox-next]").prop("disabled",!t.opts.loop&&n>=e.group.length-1),"image"===t.type?i.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",t.opts.image.src||t.src).show():t.opts.toolbar&&i.find("[data-fancybox-download],[data-fancybox-zoom]").hide(),f(a.activeElement).is(":hidden,[disabled]")&&e.$refs.container.trigger("focus")},hideControls:function(e){var t=["infobar","toolbar","nav"];!e&&this.current.opts.preventCaptionOverlap||t.push("caption"),this.$refs.container.removeClass(t.map(function(e){return"fancybox-show-"+e}).join(" ")),this.hasHiddenControls=!0},showControls:function(){var e=this,t=(e.current||e).opts,n=e.$refs.container;e.hasHiddenControls=!1,e.idleSecondsCounter=0,n.toggleClass("fancybox-show-toolbar",!(!t.toolbar||!t.buttons)).toggleClass("fancybox-show-infobar",!!(t.infobar&&1<e.group.length)).toggleClass("fancybox-show-caption",!!e.$caption).toggleClass("fancybox-show-nav",!!(t.arrows&&1<e.group.length)).toggleClass("fancybox-is-modal",!!t.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),f.fancybox={version:"3.5.7",defaults:e,getInstance:function(e){var t=f('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),n=Array.prototype.slice.call(arguments,1);return t instanceof i&&("string"===f.type(e)?t[e].apply(t,n):"function"===f.type(e)&&e.apply(t,n),t)},open:function(e,t,n){return new i(e,t,n)},close:function(e){var t=this.getInstance();t&&(t.close(),!0===e)&&this.close(e)},destroy:function(){this.close(!0),s.add("body").off("click.fb-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:(e=a.createElement("div"),l.getComputedStyle&&l.getComputedStyle(e)&&l.getComputedStyle(e).getPropertyValue("transform")&&!(a.documentMode&&a.documentMode<11)),getTranslate:function(e){var t;return!(!e||!e.length)&&{top:(t=e[0].getBoundingClientRect()).top||0,left:t.left||0,width:t.width,height:t.height,opacity:parseFloat(e.css("opacity"))}},setTranslate:function(e,t){var n="",i={};if(e&&t)return void 0===t.left&&void 0===t.top||(n=(void 0===t.left?e.position():t).left+"px, "+(void 0===t.top?e.position():t).top+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),void 0!==t.scaleX&&void 0!==t.scaleY?n+=" scale("+t.scaleX+", "+t.scaleY+")":void 0!==t.scaleX&&(n+=" scaleX("+t.scaleX+")"),n.length&&(i.transform=n),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.width&&(i.width=t.width),void 0!==t.height&&(i.height=t.height),e.css(i)},animate:function(t,n,i,o,s){var a,r=this;f.isFunction(i)&&(o=i,i=null),r.stop(t),a=r.getTranslate(t),t.on(c,function(e){(!e||!e.originalEvent||t.is(e.originalEvent.target)&&"z-index"!=e.originalEvent.propertyName)&&(r.stop(t),f.isNumeric(i)&&t.css("transition-duration",""),f.isPlainObject(n)?void 0!==n.scaleX&&void 0!==n.scaleY&&r.setTranslate(t,{top:n.top,left:n.left,width:a.width*n.scaleX,height:a.height*n.scaleY,scaleX:1,scaleY:1}):!0!==s&&t.removeClass(n),f.isFunction(o))&&o(e)}),f.isNumeric(i)&&t.css("transition-duration",i+"ms"),f.isPlainObject(n)?(void 0!==n.scaleX&&void 0!==n.scaleY&&(delete n.width,delete n.height,t.parent().hasClass("fancybox-slide--image"))&&t.parent().addClass("fancybox-is-scaling"),f.fancybox.setTranslate(t,n)):t.addClass(n),t.data("timer",setTimeout(function(){t.trigger(c)},i+33))},stop:function(e,t){e&&e.length&&(clearTimeout(e.data("timer")),t&&e.trigger(c),e.off(c).css("transition-duration",""),e.parent().removeClass("fancybox-is-scaling"))}},f.fn.fancybox=function(e){var t;return(t=(e=e||{}).selector||!1)?f("body").off("click.fb-start",t).on("click.fb-start",t,{options:e},n):this.off("click.fb-start").on("click.fb-start",{items:this,options:e},n),this},s.on("click.fb-start","[data-fancybox]",n),s.on("click.fb-start","[data-fancybox-trigger]",function(e){f('[data-fancybox="'+f(this).attr("data-fancybox-trigger")+'"]').eq(f(this).attr("data-fancybox-index")||0).trigger("click.fb-start",{$trigger:f(this)})}),p=null,s.on("mousedown mouseup focus blur",".fancybox-button",function(e){switch(e.type){case"mousedown":p=f(this);break;case"mouseup":p=null;break;case"focusin":f(".fancybox-button").removeClass("fancybox-focus"),f(this).is(p)||f(this).is("[disabled]")||f(this).addClass("fancybox-focus");break;case"focusout":f(".fancybox-button").removeClass("fancybox-focus")}})}var p}(window,document,jQuery),function(p){"use strict";function f(n,e,t){if(n)return"object"===p.type(t=t||"")&&(t=p.param(t,!0)),p.each(e,function(e,t){n=n.replace("$"+e,t||"")}),t.length&&(n+=(0<n.indexOf("?")?"&":"?")+t),n}var i={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"https://www.youtube-nocookie.com/embed/$4",thumb:"https://img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(e){return"//maps.google."+e[2]+"/?ll="+(e[9]?e[9]+"&z="+Math.floor(e[10])+(e[12]?e[12].replace(/^\//,"&"):""):e[12]+"").replace(/\?/,"&")+"&output="+(e[12]&&0<e[12].indexOf("layer=c")?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(e){return"//maps.google."+e[2]+"/maps?q="+e[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}},o=(p(document).on("objectNeedsType.fb",function(e,t,o){var s,a,r,l,c,d,h=o.src||"",u=!1,n=p.extend(!0,{},i,o.opts.media);p.each(n,function(e,t){if(a=h.match(t.matcher)){if(u=t.type,d=e,c={},t.paramPlace&&a[t.paramPlace]){l=(l="?"==(l=a[t.paramPlace])[0]?l.substring(1):l).split("&");for(var n=0;n<l.length;++n){var i=l[n].split("=",2);2==i.length&&(c[i[0]]=decodeURIComponent(i[1].replace(/\+/g," ")))}}return r=p.extend(!0,{},t.params,o.opts[e],c),h="function"===p.type(t.url)?t.url.call(this,a,r,o):f(t.url,a,r),s="function"===p.type(t.thumb)?t.thumb.call(this,a,r,o):f(t.thumb,a),"youtube"===e?h=h.replace(/&t=((\d+)m)?(\d+)s/,function(e,t,n,i){return"&start="+((n?60*parseInt(n,10):0)+parseInt(i,10))}):"vimeo"===e&&(h=h.replace("&%23","#")),!1}}),u?(o.opts.thumb||o.opts.$thumb&&o.opts.$thumb.length||(o.opts.thumb=s),"iframe"===u&&(o.opts=p.extend(!0,o.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),p.extend(o,{type:u,src:h,origSrc:o.src,contentSource:d,contentType:"image"===u?"image":"gmap_place"==d||"gmap_search"==d?"map":"video"})):h&&(o.type=o.opts.defaultType)}),{youtube:{src:"https://www.youtube.com/iframe_api",class:"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js",class:"Vimeo",loading:!1,loaded:!1},load:function(e){var t,n=this;this[e].loaded?setTimeout(function(){n.done(e)}):this[e].loading||(this[e].loading=!0,(t=document.createElement("script")).type="text/javascript",t.src=this[e].src,"youtube"===e?window.onYouTubeIframeAPIReady=function(){n[e].loaded=!0,n.done(e)}:t.onload=function(){n[e].loaded=!0,n.done(e)},document.body.appendChild(t))},done:function(e){var t,n;"youtube"===e&&delete window.onYouTubeIframeAPIReady,(t=p.fancybox.getInstance())&&(n=t.current.$content.find("iframe"),"youtube"===e&&void 0!==YT&&YT?new YT.Player(n.attr("id"),{events:{onStateChange:function(e){0==e.data&&t.next()}}}):"vimeo"===e&&void 0!==Vimeo&&Vimeo&&new Vimeo.Player(n).on("ended",function(){t.next()}))}});p(document).on({"afterShow.fb":function(e,t,n){1<t.group.length&&("youtube"===n.contentSource||"vimeo"===n.contentSource)&&o.load(n.contentSource)}})}(jQuery),function(d,l,h){"use strict";function u(e){var t,n=[];for(t in e=(e=e.originalEvent||e||d.e).touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e])e[t].pageX?n.push({x:e[t].pageX,y:e[t].pageY}):e[t].clientX&&n.push({x:e[t].clientX,y:e[t].clientY});return n}function p(e,t,n){return t&&e?"x"===n?e.x-t.x:"y"===n?e.y-t.y:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0}function c(e){if(e.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||h.isFunction(e.get(0).onclick)||e.data("selectable"))return 1;for(var t=0,n=e[0].attributes,i=n.length;t<i;t++)if("data-fancybox-"===n[t].nodeName.substr(0,14))return 1}function f(e){for(var t,n,i,o=!1;(t=e.get(0),i=n=i=n=void 0,n=d.getComputedStyle(t)["overflow-y"],i=d.getComputedStyle(t)["overflow-x"],n=("scroll"===n||"auto"===n)&&t.scrollHeight>t.clientHeight,i=("scroll"===i||"auto"===i)&&t.scrollWidth>t.clientWidth,!(o=n||i))&&((e=e.parent()).length&&!e.hasClass("fancybox-stage")&&!e.is("body")););return o}function n(e){var t=this;t.instance=e,t.$bg=e.$refs.bg,t.$stage=e.$refs.stage,t.$container=e.$refs.container,t.destroy(),t.$container.on("touchstart.fb.touch mousedown.fb.touch",h.proxy(t,"ontouchstart"))}var m=d.requestAnimationFrame||d.webkitRequestAnimationFrame||d.mozRequestAnimationFrame||d.oRequestAnimationFrame||function(e){return d.setTimeout(e,1e3/60)},g=d.cancelAnimationFrame||d.webkitCancelAnimationFrame||d.mozCancelAnimationFrame||d.oCancelAnimationFrame||function(e){d.clearTimeout(e)};n.prototype.destroy=function(){var e=this;e.$container.off(".fb.touch"),h(l).off(".fb.touch"),e.requestId&&(g(e.requestId),e.requestId=null),e.tapped&&(clearTimeout(e.tapped),e.tapped=null)},n.prototype.ontouchstart=function(e){var t=this,n=h(e.target),i=t.instance,o=i.current,s=o.$slide,a=o.$content,r="touchstart"==e.type;r&&t.$container.off("mousedown.fb.touch"),e.originalEvent&&2==e.originalEvent.button||!s.length||!n.length||c(n)||c(n.parent())||!n.is("img")&&e.originalEvent.clientX>n[0].clientWidth+n.offset().left||(!o||i.isAnimating||o.$slide.hasClass("fancybox-animated")?(e.stopPropagation(),e.preventDefault()):(t.realPoints=t.startPoints=u(e),t.startPoints.length&&(o.touch&&e.stopPropagation(),t.startEvent=e,t.canTap=!0,t.$target=n,t.$content=a,t.opts=o.opts.touch,t.isPanning=!1,t.isSwiping=!1,t.isZooming=!1,t.isScrolling=!1,t.canPan=i.canPan(),t.startTime=(new Date).getTime(),t.distanceX=t.distanceY=t.distance=0,t.canvasWidth=Math.round(s[0].clientWidth),t.canvasHeight=Math.round(s[0].clientHeight),t.contentLastPos=null,t.contentStartPos=h.fancybox.getTranslate(t.$content)||{top:0,left:0},t.sliderStartPos=h.fancybox.getTranslate(s),t.stagePos=h.fancybox.getTranslate(i.$refs.stage),t.sliderStartPos.top-=t.stagePos.top,t.sliderStartPos.left-=t.stagePos.left,t.contentStartPos.top-=t.stagePos.top,t.contentStartPos.left-=t.stagePos.left,h(l).off(".fb.touch").on(r?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",h.proxy(t,"ontouchend")).on(r?"touchmove.fb.touch":"mousemove.fb.touch",h.proxy(t,"ontouchmove")),h.fancybox.isMobile&&l.addEventListener("scroll",t.onscroll,!0),(t.opts||t.canPan)&&(n.is(t.$stage)||t.$stage.find(n).length)||(n.is(".fancybox-image")&&e.preventDefault(),h.fancybox.isMobile&&n.parents(".fancybox-caption").length))&&(t.isScrollable=f(n)||f(n.parent()),h.fancybox.isMobile&&t.isScrollable||e.preventDefault(),1!==t.startPoints.length&&!o.hasError||(t.canPan?(h.fancybox.stop(t.$content),t.isPanning=!0):t.isSwiping=!0,t.$container.addClass("fancybox-is-grabbing")),2===t.startPoints.length)&&"image"===o.type&&(o.isLoaded||o.$ghost)&&(t.canTap=!1,t.isSwiping=!1,t.isPanning=!1,t.isZooming=!0,h.fancybox.stop(t.$content),t.centerPointStartX=.5*(t.startPoints[0].x+t.startPoints[1].x)-h(d).scrollLeft(),t.centerPointStartY=.5*(t.startPoints[0].y+t.startPoints[1].y)-h(d).scrollTop(),t.percentageOfImageAtPinchPointX=(t.centerPointStartX-t.contentStartPos.left)/t.contentStartPos.width,t.percentageOfImageAtPinchPointY=(t.centerPointStartY-t.contentStartPos.top)/t.contentStartPos.height,t.startDistanceBetweenFingers=p(t.startPoints[0],t.startPoints[1]))))},n.prototype.onscroll=function(e){this.isScrolling=!0,l.removeEventListener("scroll",this.onscroll,!0)},n.prototype.ontouchmove=function(e){var t=this;return void 0!==e.originalEvent.buttons&&0===e.originalEvent.buttons?void t.ontouchend(e):t.isScrolling?void(t.canTap=!1):(t.newPoints=u(e),void((t.opts||t.canPan)&&t.newPoints.length&&t.newPoints.length&&(t.isSwiping&&!0===t.isSwiping||e.preventDefault(),t.distanceX=p(t.newPoints[0],t.startPoints[0],"x"),t.distanceY=p(t.newPoints[0],t.startPoints[0],"y"),t.distance=p(t.newPoints[0],t.startPoints[0]),0<t.distance)&&(t.isSwiping?t.onSwipe(e):t.isPanning?t.onPan():t.isZooming&&t.onZoom())))},n.prototype.onSwipe=function(e){var o=this,s=o.instance,t=o.isSwiping,n=o.sliderStartPos.left||0;!0!==t?("x"==t&&(0<o.distanceX&&(o.instance.group.length<2||0===o.instance.current.index&&!o.instance.current.opts.loop)?n+=Math.pow(o.distanceX,.8):o.distanceX<0&&(o.instance.group.length<2||o.instance.current.index===o.instance.group.length-1&&!o.instance.current.opts.loop)?n-=Math.pow(-o.distanceX,.8):n+=o.distanceX),o.sliderLastPos={top:"x"==t?0:o.sliderStartPos.top+o.distanceY,left:n},o.requestId&&(g(o.requestId),o.requestId=null),o.requestId=m(function(){o.sliderLastPos&&(h.each(o.instance.slides,function(e,t){var n=t.pos-o.instance.currPos;h.fancybox.setTranslate(t.$slide,{top:o.sliderLastPos.top,left:o.sliderLastPos.left+n*o.canvasWidth+n*t.opts.gutter})}),o.$container.addClass("fancybox-is-sliding"))})):10<Math.abs(o.distance)&&(o.canTap=!1,s.group.length<2&&o.opts.vertical?o.isSwiping="y":s.isDragging||!1===o.opts.vertical||"auto"===o.opts.vertical&&800<h(d).width()?o.isSwiping="x":(t=Math.abs(180*Math.atan2(o.distanceY,o.distanceX)/Math.PI),o.isSwiping=45<t&&t<135?"y":"x"),"y"===o.isSwiping&&h.fancybox.isMobile&&o.isScrollable?o.isScrolling=!0:(s.isDragging=o.isSwiping,o.startPoints=o.newPoints,h.each(s.slides,function(e,t){var n,i;h.fancybox.stop(t.$slide),n=h.fancybox.getTranslate(t.$slide),i=h.fancybox.getTranslate(s.$refs.stage),t.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("fancybox-animated").removeClass(function(e,t){return(t.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")}),t.pos===s.current.pos&&(o.sliderStartPos.top=n.top-i.top,o.sliderStartPos.left=n.left-i.left),h.fancybox.setTranslate(t.$slide,{top:n.top-i.top,left:n.left-i.left})}),s.SlideShow&&s.SlideShow.isActive&&s.SlideShow.stop()))},n.prototype.onPan=function(){var e=this;p(e.newPoints[0],e.realPoints[0])<(h.fancybox.isMobile?10:5)?e.startPoints=e.newPoints:(e.canTap=!1,e.contentLastPos=e.limitMovement(),e.requestId&&g(e.requestId),e.requestId=m(function(){h.fancybox.setTranslate(e.$content,e.contentLastPos)}))},n.prototype.limitMovement=function(){var e=this,t=e.canvasWidth,n=e.canvasHeight,i=e.distanceX,o=e.distanceY,e=e.contentStartPos,s=e.left,a=e.top,r=e.width,e=e.height,l=t<r?s+i:s,c=a+o,d=Math.max(0,.5*t-.5*r),h=Math.max(0,.5*n-.5*e),t=Math.min(t-r,.5*t-.5*r),r=Math.min(n-e,.5*n-.5*e);return 0<i&&d<l&&(l=d-1+Math.pow(-d+s+i,.8)||0),i<0&&l<t&&(l=t+1-Math.pow(t-s-i,.8)||0),0<o&&h<c&&(c=h-1+Math.pow(-h+a+o,.8)||0),{top:c=o<0&&c<r?r+1-Math.pow(r-a-o,.8)||0:c,left:l}},n.prototype.limitPosition=function(e,t,n,i){var o=this.canvasWidth,s=this.canvasHeight;return e=o<n?(e=0<e?0:e)<o-n?o-n:e:Math.max(0,o/2-n/2),{top:t=s<i?(t=0<t?0:t)<s-i?s-i:t:Math.max(0,s/2-i/2),left:e}},n.prototype.onZoom=function(){var e=this,t=e.contentStartPos,n=t.width,i=t.height,o=t.left,t=t.top,s=p(e.newPoints[0],e.newPoints[1])/e.startDistanceBetweenFingers,a=Math.floor(n*s),r=Math.floor(i*s),n=(n-a)*e.percentageOfImageAtPinchPointX,i=(i-r)*e.percentageOfImageAtPinchPointY,l=(e.newPoints[0].x+e.newPoints[1].x)/2-h(d).scrollLeft(),c=(e.newPoints[0].y+e.newPoints[1].y)/2-h(d).scrollTop(),l=l-e.centerPointStartX,t={top:t+(i+(c-e.centerPointStartY)),left:o+(n+l),scaleX:s,scaleY:s};e.canTap=!1,e.newWidth=a,e.newHeight=r,e.contentLastPos=t,e.requestId&&g(e.requestId),e.requestId=m(function(){h.fancybox.setTranslate(e.$content,e.contentLastPos)})},n.prototype.ontouchend=function(e){var t=this,n=t.isSwiping,i=t.isPanning,o=t.isZooming,s=t.isScrolling;if(t.endPoints=u(e),t.dMs=Math.max((new Date).getTime()-t.startTime,1),t.$container.removeClass("fancybox-is-grabbing"),h(l).off(".fb.touch"),l.removeEventListener("scroll",t.onscroll,!0),t.requestId&&(g(t.requestId),t.requestId=null),t.isSwiping=!1,t.isPanning=!1,t.isZooming=!1,t.isScrolling=!1,t.instance.isDragging=!1,t.canTap)return t.onTap(e);t.speed=100,t.velocityX=t.distanceX/t.dMs*.5,t.velocityY=t.distanceY/t.dMs*.5,i?t.endPanning():o?t.endZooming():t.endSwiping(n,s)},n.prototype.endSwiping=function(e,t){var n=this,i=!1,o=n.instance.group.length,s=Math.abs(n.distanceX),o="x"==e&&1<o&&(130<n.dMs&&10<s||50<s);n.sliderLastPos=null,"y"==e&&!t&&50<Math.abs(n.distanceY)?(h.fancybox.animate(n.instance.current.$slide,{top:n.sliderStartPos.top+n.distanceY+150*n.velocityY,opacity:0},200),i=n.instance.close(!0,250)):o&&0<n.distanceX?i=n.instance.previous(300):o&&n.distanceX<0&&(i=n.instance.next(300)),!1!==i||"x"!=e&&"y"!=e||n.instance.centerSlide(200),n.$container.removeClass("fancybox-is-sliding")},n.prototype.endPanning=function(){var e,t,n=this;n.contentLastPos&&(e=!1===n.opts.momentum||350<n.dMs?(t=n.contentLastPos.left,n.contentLastPos.top):(t=n.contentLastPos.left+500*n.velocityX,n.contentLastPos.top+500*n.velocityY),(t=n.limitPosition(t,e,n.contentStartPos.width,n.contentStartPos.height)).width=n.contentStartPos.width,t.height=n.contentStartPos.height,h.fancybox.animate(n.$content,t,366))},n.prototype.endZooming=function(){var e,t,n=this,i=n.instance.current,o=n.newWidth,s=n.newHeight;n.contentLastPos&&(e=n.contentLastPos.left,t=n.contentLastPos.top,h.fancybox.setTranslate(n.$content,{top:t,left:e,width:o,height:s,scaleX:1,scaleY:1}),o<n.canvasWidth&&s<n.canvasHeight?n.instance.scaleToFit(150):o>i.width||s>i.height?n.instance.scaleToActual(n.centerPointStartX,n.centerPointStartY,150):(i=n.limitPosition(e,t,o,s),h.fancybox.animate(n.$content,i,150)))},n.prototype.onTap=function(t){function e(e){if(e=a.opts[e],e=h.isFunction(e)?e.apply(s,[a,t]):e)switch(e){case"close":s.close(i.startEvent);break;case"toggleControls":s.toggleControls();break;case"next":s.next();break;case"nextOrClose":1<s.group.length?s.next():s.close(i.startEvent);break;case"zoom":"image"==a.type&&(a.isLoaded||a.$ghost)&&(s.canPan()?s.scaleToFit():s.isScaledDown()?s.scaleToActual(l,c):s.group.length<2&&s.close(i.startEvent))}}var n,i=this,o=h(t.target),s=i.instance,a=s.current,r=t&&u(t)||i.startPoints,l=r[0]?r[0].x-h(d).scrollLeft()-i.stagePos.left:0,c=r[0]?r[0].y-h(d).scrollTop()-i.stagePos.top:0;if((!t.originalEvent||2!=t.originalEvent.button)&&(o.is("img")||!(l>o[0].clientWidth+o.offset().left))){if(o.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))n="Outside";else if(o.is(".fancybox-slide"))n="Slide";else{if(!s.current.$content||!s.current.$content.find(o).addBack().filter(o).length)return;n="Content"}if(i.tapped){if(clearTimeout(i.tapped),i.tapped=null,50<Math.abs(l-i.tapX)||50<Math.abs(c-i.tapY))return this;e("dblclick"+n)}else i.tapX=l,i.tapY=c,a.opts["dblclick"+n]&&a.opts["dblclick"+n]!==a.opts["click"+n]?i.tapped=setTimeout(function(){i.tapped=null,s.isAnimating||e("click"+n)},500):e("click"+n);return this}},h(l).on("onActivate.fb",function(e,t){t&&!t.Guestures&&(t.Guestures=new n(t))}).on("beforeClose.fb",function(e,t){t&&t.Guestures&&t.Guestures.destroy()})}(window,document,jQuery),function(s,a){"use strict";a.extend(!0,a.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});function n(e){this.instance=e,this.init()}a.extend(n.prototype,{timer:null,isActive:!1,$button:null,init:function(){var e=this,t=e.instance,n=t.group[t.currIndex].opts.slideShow;e.$button=t.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){e.toggle()}),t.group.length<2||!n?e.$button.hide():n.progress&&(e.$progress=a('<div class="fancybox-progress"></div>').appendTo(t.$refs.inner))},set:function(e){var t=this,n=t.instance,i=n.current;i&&(!0===e||i.opts.loop||n.currIndex<n.group.length-1)?t.isActive&&"video"!==i.contentType&&(t.$progress&&a.fancybox.animate(t.$progress.show(),{scaleX:1},i.opts.slideShow.speed),t.timer=setTimeout(function(){n.current.opts.loop||n.current.index!=n.group.length-1?n.next():n.jumpTo(0)},i.opts.slideShow.speed)):(t.stop(),n.idleSecondsCounter=0,n.showControls())},clear:function(){clearTimeout(this.timer),this.timer=null,this.$progress&&this.$progress.removeAttr("style").hide()},start:function(){var e=this,t=e.instance.current;t&&(e.$button.attr("title",(t.opts.i18n[t.opts.lang]||t.opts.i18n.en).PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),e.isActive=!0,t.isComplete&&e.set(!0),e.instance.trigger("onSlideShowChange",!0))},stop:function(){var e=this,t=e.instance.current;e.clear(),e.$button.attr("title",(t.opts.i18n[t.opts.lang]||t.opts.i18n.en).PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),e.isActive=!1,e.instance.trigger("onSlideShowChange",!1),e.$progress&&e.$progress.removeAttr("style").hide()},toggle:function(){this.isActive?this.stop():this.start()}}),a(s).on({"onInit.fb":function(e,t){t&&!t.SlideShow&&(t.SlideShow=new n(t))},"beforeShow.fb":function(e,t,n,i){t=t&&t.SlideShow;i?t&&n.opts.slideShow.autoStart&&t.start():t&&t.isActive&&t.clear()},"afterShow.fb":function(e,t,n){t=t&&t.SlideShow;t&&t.isActive&&t.set()},"afterKeydown.fb":function(e,t,n,i,o){t=t&&t.SlideShow;!t||!n.opts.slideShow||80!==o&&32!==o||a(s.activeElement).is("button,a,input")||(i.preventDefault(),t.toggle())},"beforeClose.fb onDeactivate.fb":function(e,t){t=t&&t.SlideShow;t&&t.stop()}}),a(s).on("visibilitychange",function(){var e=a.fancybox.getInstance(),e=e&&e.SlideShow;e&&e.isActive&&(s.hidden?e.clear():e.set())})}(document,jQuery),function(s,n){"use strict";var i,o=function(){for(var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],t={},n=0;n<e.length;n++){var i=e[n];if(i&&i[1]in s){for(var o=0;o<i.length;o++)t[e[0][o]]=i[o];return t}}return!1}();o&&(i={request:function(e){(e=e||s.documentElement)[o.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){s[o.exitFullscreen]()},toggle:function(e){e=e||s.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(s[o.fullscreenElement])},enabled:function(){return Boolean(s[o.fullscreenEnabled])}},n.extend(!0,n.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="{{FULL_SCREEN}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg></button>'},fullScreen:{autoStart:!1}}),n(s).on(o.fullscreenchange,function(){var e=i.isFullscreen(),t=n.fancybox.getInstance();t&&(t.current&&"image"===t.current.type&&t.isAnimating&&(t.isAnimating=!1,t.update(!0,!0,0),t.isComplete||t.complete()),t.trigger("onFullscreenChange",e),t.$refs.container.toggleClass("fancybox-is-fullscreen",e),t.$refs.toolbar.find("[data-fancybox-fullscreen]").toggleClass("fancybox-button--fsenter",!e).toggleClass("fancybox-button--fsexit",e))})),n(s).on({"onInit.fb":function(e,t){o?t&&t.group[t.currIndex].opts.fullScreen?(t.$refs.container.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(e){e.stopPropagation(),e.preventDefault(),i.toggle()}),t.opts.fullScreen&&!0===t.opts.fullScreen.autoStart&&i.request(),t.FullScreen=i):t&&t.$refs.toolbar.find("[data-fancybox-fullscreen]").hide():t.$refs.toolbar.find("[data-fancybox-fullscreen]").remove()},"afterKeydown.fb":function(e,t,n,i,o){t&&t.FullScreen&&70===o&&(i.preventDefault(),t.FullScreen.toggle())},"beforeClose.fb":function(e,t){t&&t.FullScreen&&t.$refs.container.hasClass("fancybox-is-fullscreen")&&i.exit()}})}(document,jQuery),function(e,s){"use strict";function n(e){this.init(e)}var a="fancybox-thumbs";s.fancybox.defaults=s.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},s.fancybox.defaults);s.extend(n.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(e){var t=this,n=e.group,i=0;t.instance=e,t.opts=n[e.currIndex].opts.thumbs,(e.Thumbs=t).$button=e.$refs.toolbar.find("[data-fancybox-thumbs]");for(var o=0,s=n.length;o<s&&(n[o].thumb&&i++,!(1<i));o++);1<i&&t.opts?(t.$button.removeAttr("style").on("click",function(){t.toggle()}),t.isActive=!0):t.$button.hide()},create:function(){var n,e=this,t=e.instance,i=e.opts.parentEl,o=[];e.$grid||(e.$grid=s('<div class="'+a+" "+a+"-"+e.opts.axis+'"></div>').appendTo(t.$refs.container.find(i).addBack().filter(i)),e.$grid.on("click","a",function(){t.jumpTo(s(this).attr("data-index"))})),e.$list||(e.$list=s('<div class="'+a+'__list">').appendTo(e.$grid)),s.each(t.group,function(e,t){(n=t.thumb)||"image"!==t.type||(n=t.src),o.push('<a href="javascript:;" tabindex="0" data-index="'+e+'"'+(n&&n.length?' style="background-image:url('+n+')"':'class="fancybox-thumbs-missing"')+"></a>")}),e.$list[0].innerHTML=o.join(""),"x"===e.opts.axis&&e.$list.width(parseInt(e.$grid.css("padding-right"),10)+t.group.length*e.$list.children().eq(0).outerWidth(!0))},focus:function(e){var t,n,i=this,o=i.$list,s=i.$grid;i.instance.current&&(n=(t=o.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+i.instance.current.index+'"]').addClass("fancybox-thumbs-active")).position(),"y"===i.opts.axis&&(n.top<0||n.top>o.height()-t.outerHeight())?o.stop().animate({scrollTop:o.scrollTop()+n.top},e):"x"===i.opts.axis&&(n.left<s.scrollLeft()||n.left>s.scrollLeft()+(s.width()-t.outerWidth()))&&o.parent().stop().animate({scrollLeft:n.left},e))},update:function(){var e=this;e.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),e.isVisible?(e.$grid||e.create(),e.instance.trigger("onThumbsShow"),e.focus(0)):e.$grid&&e.instance.trigger("onThumbsHide"),e.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),s(e).on({"onInit.fb":function(e,t){t&&!t.Thumbs&&(t=new n(t)).isActive&&!0===t.opts.autoStart&&t.show()},"beforeShow.fb":function(e,t,n,i){t=t&&t.Thumbs;t&&t.isVisible&&t.focus(i?0:250)},"afterKeydown.fb":function(e,t,n,i,o){t=t&&t.Thumbs;t&&t.isActive&&71===o&&(i.preventDefault(),t.toggle())},"beforeClose.fb":function(e,t){t=t&&t.Thumbs;t&&t.isVisible&&!1!==t.opts.hideOnClose&&t.$grid.hide()}})}(document,jQuery),function(e,o){"use strict";o.extend(!0,o.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg></button>'},share:{url:function(e,t){return!e.currentHash&&"inline"!==t.type&&"html"!==t.type&&(t.origSrc||t.src)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" onclick="select()" /></p></div>'}}),o(e).on("click","[data-fancybox-share]",function(){var e,t,n=o.fancybox.getInstance(),i=n.current||null;i&&("function"===o.type(i.opts.share.url)&&(e=i.opts.share.url.apply(i,[n,i])),i=i.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===i.type?encodeURIComponent(i.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(e)).replace(/\{\{url_raw\}\}/g,(t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},String(e).replace(/[&<>"'`=\/]/g,function(e){return t[e]}))).replace(/\{\{descr\}\}/g,n.$caption?encodeURIComponent(n.$caption.text()):""),o.fancybox.open({src:n.translate(n,i),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(e,t){n.$refs.container.one("beforeClose.fb",function(){e.close(null,0)}),t.$content.find(".fancybox-share__button").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})},mobile:{autoFocus:!1}}}))})}(document,jQuery),function(s,a,i){"use strict";function o(){var e=s.location.hash.substr(1),t=e.split("-"),n=1<t.length&&/^\+?\d+$/.test(t[t.length-1])&&parseInt(t.pop(-1),10)||1;return{hash:e,index:n<1?1:n,gallery:t.join("-")}}function t(e){""!==e.gallery&&i("[data-fancybox='"+i.escapeSelector(e.gallery)+"']").eq(e.index-1).focus().trigger("click.fb-start")}function r(e){return!!e&&""!==(e=(e=(e.current||e).opts).hash||(e.$orig?e.$orig.data("fancybox")||e.$orig.data("fancybox-trigger"):""))&&e}i.escapeSelector||(i.escapeSelector=function(e){return(e+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e})}),i(function(){!1!==i.fancybox.defaults.hash&&(i(a).on({"onInit.fb":function(e,t){var n,i;!1!==t.group[t.currIndex].opts.hash&&(n=o(),i=r(t))&&n.gallery&&i==n.gallery&&(t.currIndex=n.index-1)},"beforeShow.fb":function(e,t,n,i){var o;n&&!1!==n.opts.hash&&(o=r(t))&&(t.currentHash=o+(1<t.group.length?"-"+(n.index+1):""),s.location.hash!=="#"+t.currentHash)&&(i&&!t.origHash&&(t.origHash=s.location.hash),t.hashTimer&&clearTimeout(t.hashTimer),t.hashTimer=setTimeout(function(){"replaceState"in s.history?(s.history[i?"pushState":"replaceState"]({},a.title,s.location.pathname+s.location.search+"#"+t.currentHash),i&&(t.hasCreatedHistory=!0)):s.location.hash=t.currentHash,t.hashTimer=null},300))},"beforeClose.fb":function(e,t,n){n&&!1!==n.opts.hash&&(clearTimeout(t.hashTimer),t.currentHash&&t.hasCreatedHistory?s.history.back():t.currentHash&&("replaceState"in s.history?s.history.replaceState({},a.title,s.location.pathname+s.location.search+(t.origHash||"")):s.location.hash=t.origHash),t.currentHash=null)}}),i(s).on("hashchange.fb",function(){var e=o(),n=null;i.each(i(".fancybox-container").get().reverse(),function(e,t){t=i(t).data("FancyBox");if(t&&t.currentHash)return n=t,!1}),n?n.currentHash===e.gallery+"-"+e.index||1===e.index&&n.currentHash==e.gallery||(n.currentHash=null,n.close()):""!==e.gallery&&t(e)}),setTimeout(function(){i.fancybox.getInstance()||t(o())},50))})}(window,document,jQuery),function(e,t){"use strict";var o=(new Date).getTime();t(e).on({"onInit.fb":function(e,i,t){i.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(e){var t=i.current,n=(new Date).getTime();i.group.length<2||!1===t.opts.wheel||"auto"===t.opts.wheel&&"image"!==t.type||(e.preventDefault(),e.stopPropagation(),t.$slide.hasClass("fancybox-animated"))||(e=e.originalEvent||e,n-o<250)||(o=n,i[(-e.deltaY||-e.deltaX||e.wheelDelta||-e.detail)<0?"next":"previous"]())})}})}(document,jQuery),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n(t),t}:n(jQuery)}(function(t){(d=t&&t.fn&&t.fn.select2&&t.fn.select2.amd?t.fn.select2.amd:d)&&d.requirejs||(d?n=d:d={},m={},g={},v={},y={},i=Object.prototype.hasOwnProperty,o=[].slice,b=/\.js$/,p=function(e,t){var n,i,o=c(e),s=o[0],t=t[1];return e=o[1],s&&(n=C(s=l(s,t))),s?e=n&&n.normalize?n.normalize(e,(i=t,function(e){return l(e,i)})):l(e,t):(s=(o=c(e=l(e,t)))[0],e=o[1],s&&(n=C(s))),{f:s?s+"!"+e:e,n:e,pr:s,p:n}},f={require:function(e){return x(e)},exports:function(e){var t=m[e];return void 0!==t?t:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:(t=e,function(){return v&&v.config&&v.config[t]||{}})};var t}},s=function(e,t,n,i){var o,s,a,r,l,c=[],d=typeof n,h=_(i=i||e);if("undefined"==d||"function"==d){for(t=!t.length&&n.length?["require","exports","module"]:t,r=0;r<t.length;r+=1)if("require"===(s=(a=p(t[r],h)).f))c[r]=f.require(e);else if("exports"===s)c[r]=f.exports(e),l=!0;else if("module"===s)o=c[r]=f.module(e);else if(w(m,s)||w(g,s)||w(y,s))c[r]=C(s);else{if(!a.p)throw new Error(e+" missing "+s);a.p.load(a.n,x(i,!0),function(t){return function(e){m[t]=e}}(s),{}),c[r]=m[s]}d=n?n.apply(m[e],c):void 0,e&&(o&&o.exports!==u&&o.exports!==m[e]?m[e]=o.exports:d===u&&l||(m[e]=d))}else e&&(m[e]=n)},e=n=a=function(e,t,n,i,o){if("string"==typeof e)return f[e]?f[e](t):C(p(e,_(t)).f);if(!e.splice){if((v=e).deps&&a(v.deps,v.callback),!t)return;t.splice?(e=t,t=n,n=null):e=u}return t=t||function(){},"function"==typeof n&&(n=i,i=o),i?s(u,e,t,n):setTimeout(function(){s(u,e,t,n)},4),a},a.config=function(e){return a(e)},e._defined=m,(r=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),w(m,e)||w(g,e)||(g[e]=[e,t,n])}).amd={jQuery:!0},d.requirejs=e,d.require=n,d.define=r),d.define("almond",function(){}),d.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),d.define("select2/utils",["jquery"],function(s){var i={};function c(e){var t,n=e.prototype,i=[];for(t in n)"function"==typeof n[t]&&"constructor"!==t&&i.push(t);return i}function e(){this.listeners={}}i.Extend=function(e,t){var n,i={}.hasOwnProperty;function o(){this.constructor=e}for(n in t)i.call(t,n)&&(e[n]=t[n]);return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e},i.Decorate=function(i,o){var e=c(o),t=c(i);function s(){var e=Array.prototype.unshift,t=o.prototype.constructor.length,n=i.prototype.constructor;0<t&&(e.call(arguments,i.prototype.constructor),n=o.prototype.constructor),n.apply(this,arguments)}o.displayName=i.displayName,s.prototype=new function(){this.constructor=s};for(var n=0;n<t.length;n++){var a=t[n];s.prototype[a]=i.prototype[a]}for(var r=0;r<e.length;r++){var l=e[r];s.prototype[l]=function(e){var t=function(){},n=(e in s.prototype&&(t=s.prototype[e]),o.prototype[e]);return function(){return Array.prototype.unshift.call(arguments,t),n.apply(this,arguments)}}(l)}return s},e.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},e.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},0===(n=null==n?[]:n).length&&n.push({}),(n[0]._type=e)in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},e.prototype.invoke=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].apply(this,t)},i.Observable=e,i.generateChars=function(e){for(var t="",n=0;n<e;n++)t+=Math.floor(36*Math.random()).toString(36);return t},i.bind=function(e,t){return function(){e.apply(t,arguments)}},i._convertData=function(e){for(var t in e){var n=t.split("-"),i=e;if(1!==n.length){for(var o=0;o<n.length;o++){var s=n[o];(s=s.substring(0,1).toLowerCase()+s.substring(1))in i||(i[s]={}),o==n.length-1&&(i[s]=e[t]),i=i[s]}delete e[t]}}return e},i.hasScroll=function(e,t){var n=s(t),i=t.style.overflowX,o=t.style.overflowY;return(i!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===i||"scroll"===o||n.innerHeight()<t.scrollHeight||n.innerWidth()<t.scrollWidth)},i.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},i.__cache={};var n=0;return i.GetUniqueElementId=function(e){var t=e.getAttribute("data-select2-id");return null==t&&(t=e.id?"select2-data-"+e.id:"select2-data-"+(++n).toString()+"-"+i.generateChars(4),e.setAttribute("data-select2-id",t)),t},i.StoreData=function(e,t,n){e=i.GetUniqueElementId(e),i.__cache[e]||(i.__cache[e]={}),i.__cache[e][t]=n},i.GetData=function(e,t){var n=i.GetUniqueElementId(e);return t?i.__cache[n]&&null!=i.__cache[n][t]?i.__cache[n][t]:s(e).data(t):i.__cache[n]},i.RemoveData=function(e){var t=i.GetUniqueElementId(e);null!=i.__cache[t]&&delete i.__cache[t],e.removeAttribute("data-select2-id")},i.copyNonInternalCssClasses=function(e,t){var n=(n=e.getAttribute("class").trim().split(/\s+/)).filter(function(e){return 0===e.indexOf("select2-")}),t=(t=t.getAttribute("class").trim().split(/\s+/)).filter(function(e){return 0!==e.indexOf("select2-")}),t=n.concat(t);e.setAttribute("class",t.join(" "))},i}),d.define("select2/results",["jquery","./utils"],function(d,h){function i(e,t,n){this.$element=e,this.data=n,this.options=t,i.__super__.constructor.call(this)}return h.Extend(i,h.Observable),i.prototype.render=function(){var e=d('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var t=this.options.get("escapeMarkup"),n=(this.clear(),this.hideLoading(),d('<li role="alert" aria-live="assertive" class="select2-results__option"></li>')),i=this.options.get("translations").get(e.message);n.append(t(i(e.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var i=e.results[n],i=this.option(i);t.push(i)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(e,t){t.find(".select2-results").append(e)},i.prototype.sort=function(e){return this.options.get("sorter")(e)},i.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option--selectable"),t=e.filter(".select2-results__option--selected");(0<t.length?t:e).first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var t=this;this.data.current(function(e){var i=e.map(function(e){return e.id.toString()});t.$results.find(".select2-results__option--selectable").each(function(){var e=d(this),t=h.GetData(this,"data"),n=""+t.id;null!=t.element&&t.element.selected||null==t.element&&-1<i.indexOf(n)?(this.classList.add("select2-results__option--selected"),e.attr("aria-selected","true")):(this.classList.remove("select2-results__option--selected"),e.attr("aria-selected","false"))})})},i.prototype.showLoading=function(e){this.hideLoading(),e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},(e=this.option(e)).className+=" loading-results",this.$results.prepend(e)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(e){var t=document.createElement("li");t.classList.add("select2-results__option"),t.classList.add("select2-results__option--selectable");var n,i={role:"option"},o=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(n in(null!=e.element&&o.call(e.element,":disabled")||null==e.element&&e.disabled)&&(i["aria-disabled"]="true",t.classList.remove("select2-results__option--selectable"),t.classList.add("select2-results__option--disabled")),null==e.id&&t.classList.remove("select2-results__option--selectable"),null!=e._resultId&&(t.id=e._resultId),e.title&&(t.title=e.title),e.children&&(i.role="group",i["aria-label"]=e.text,t.classList.remove("select2-results__option--selectable"),t.classList.add("select2-results__option--group")),i)t.setAttribute(n,i[n]);if(e.children){var s=d(t),a=document.createElement("strong");a.className="select2-results__group",this.template(e,a);for(var r=[],l=0;l<e.children.length;l++){var c=e.children[l],c=this.option(c);r.push(c)}(o=d("<ul></ul>",{class:"select2-results__options select2-results__options--nested",role:"none"})).append(r),s.append(a),s.append(o)}else this.template(e,t);return h.StoreData(t,"data",e),t},i.prototype.bind=function(t,e){var o=this,n=t.id+"-results";this.$results.attr("id",n),t.on("results:all",function(e){o.clear(),o.append(e.data),t.isOpen()&&(o.setClasses(),o.highlightFirstItem())}),t.on("results:append",function(e){o.append(e.data),t.isOpen()&&o.setClasses()}),t.on("query",function(e){o.hideMessages(),o.showLoading(e)}),t.on("select",function(){t.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect"))&&o.highlightFirstItem()}),t.on("unselect",function(){t.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect"))&&o.highlightFirstItem()}),t.on("open",function(){o.$results.attr("aria-expanded","true"),o.$results.attr("aria-hidden","false"),o.setClasses(),o.ensureHighlightVisible()}),t.on("close",function(){o.$results.attr("aria-expanded","false"),o.$results.attr("aria-hidden","true"),o.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=o.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e,t=o.getHighlightedResults();0!==t.length&&(e=h.GetData(t[0],"data"),t.hasClass("select2-results__option--selected")?o.trigger("close",{}):o.trigger("select",{data:e}))}),t.on("results:previous",function(){var e,t=o.getHighlightedResults(),n=o.$results.find(".select2-results__option--selectable"),i=n.index(t);i<=0||(e=i-1,0===t.length&&(e=0),(i=n.eq(e)).trigger("mouseenter"),t=o.$results.offset().top,n=i.offset().top,i=o.$results.scrollTop()+(n-t),0===e?o.$results.scrollTop(0):n-t<0&&o.$results.scrollTop(i))}),t.on("results:next",function(){var e,t=o.getHighlightedResults(),n=o.$results.find(".select2-results__option--selectable"),i=n.index(t)+1;i>=n.length||((e=n.eq(i)).trigger("mouseenter"),t=o.$results.offset().top+o.$results.outerHeight(!1),n=e.offset().top+e.outerHeight(!1),e=o.$results.scrollTop()+n-t,0===i?o.$results.scrollTop(0):t<n&&o.$results.scrollTop(e))}),t.on("results:focus",function(e){e.element[0].classList.add("select2-results__option--highlighted"),e.element[0].setAttribute("aria-selected","true")}),t.on("results:message",function(e){o.displayMessage(e)}),d.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=o.$results.scrollTop(),n=o.$results.get(0).scrollHeight-t+e.deltaY,t=0<e.deltaY&&t-e.deltaY<=0,n=e.deltaY<0&&n<=o.$results.height();t?(o.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):n&&(o.$results.scrollTop(o.$results.get(0).scrollHeight-o.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option--selectable",function(e){var t=d(this),n=h.GetData(this,"data");t.hasClass("select2-results__option--selected")?o.options.get("multiple")?o.trigger("unselect",{originalEvent:e,data:n}):o.trigger("close",{}):o.trigger("select",{originalEvent:e,data:n})}),this.$results.on("mouseenter",".select2-results__option--selectable",function(e){var t=h.GetData(this,"data");o.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected","false"),o.trigger("results:focus",{data:t,element:d(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var e,t,n,i,o=this.getHighlightedResults();0!==o.length&&(e=this.$results.find(".select2-results__option--selectable").index(o),i=this.$results.offset().top,t=o.offset().top,n=this.$results.scrollTop()+(t-i),i=t-i,n-=2*o.outerHeight(!1),e<=2?this.$results.scrollTop(0):(i>this.$results.outerHeight()||i<0)&&this.$results.scrollTop(n))},i.prototype.template=function(e,t){var n=this.options.get("templateResult"),i=this.options.get("escapeMarkup");null==(e=n(e,t))?t.style.display="none":"string"==typeof e?t.innerHTML=i(e):d(t).append(e)},i}),d.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),d.define("select2/selection/base",["jquery","../utils","../keys"],function(n,i,o){function s(e,t){this.$element=e,this.options=t,s.__super__.constructor.call(this)}return i.Extend(s,i.Observable),s.prototype.render=function(){var e=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=i.GetData(this.$element[0],"old-tabindex")?this._tabindex=i.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),e.attr("aria-disabled","false"),this.$selection=e},s.prototype.bind=function(e,t){var n=this,i=e.id+"-results";this.container=e,this.$selection.on("focus",function(e){n.trigger("focus",e)}),this.$selection.on("blur",function(e){n._handleBlur(e)}),this.$selection.on("keydown",function(e){n.trigger("keypress",e),e.which===o.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){n.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){n.update(e.data)}),e.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",i),n._attachCloseHandler(e)}),e.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.trigger("focus"),n._detachCloseHandler(e)}),e.on("enable",function(){n.$selection.attr("tabindex",n._tabindex),n.$selection.attr("aria-disabled","false")}),e.on("disable",function(){n.$selection.attr("tabindex","-1"),n.$selection.attr("aria-disabled","true")})},s.prototype._handleBlur=function(e){var t=this;window.setTimeout(function(){document.activeElement==t.$selection[0]||n.contains(t.$selection[0],document.activeElement)||t.trigger("blur",e)},1)},s.prototype._attachCloseHandler=function(e){n(document.body).on("mousedown.select2."+e.id,function(e){var t=n(e.target).closest(".select2");n(".select2.select2-container--open").each(function(){this!=t[0]&&i.GetData(this,"element").select2("close")})})},s.prototype._detachCloseHandler=function(e){n(document.body).off("mousedown.select2."+e.id)},s.prototype.position=function(e,t){t.find(".selection").append(e)},s.prototype.destroy=function(){this._detachCloseHandler(this.container)},s.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},s.prototype.isEnabled=function(){return!this.isDisabled()},s.prototype.isDisabled=function(){return this.options.get("disabled")},s}),d.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,i){function o(){o.__super__.constructor.apply(this,arguments)}return n.Extend(o,t),o.prototype.render=function(){var e=o.__super__.render.call(this);return e[0].classList.add("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},o.prototype.bind=function(t,e){var n=this,i=(o.__super__.bind.apply(this,arguments),t.id+"-container");this.$selection.find(".select2-selection__rendered").attr("id",i).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",i),this.$selection.attr("aria-controls",i),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),t.on("focus",function(e){t.isOpen()||n.$selection.trigger("focus")})},o.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},o.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},o.prototype.selectionContainer=function(){return e("<span></span>")},o.prototype.update=function(e){var t,n;0!==e.length?(n=e[0],t=this.$selection.find(".select2-selection__rendered"),e=this.display(n,t),t.empty().append(e),(n=n.title||n.text)?t.attr("title",n):t.removeAttr("title")):this.clear()},o}),d.define("select2/selection/multiple",["jquery","./base","../utils"],function(o,e,c){function s(e,t){s.__super__.constructor.apply(this,arguments)}return c.Extend(s,e),s.prototype.render=function(){var e=s.__super__.render.call(this);return e[0].classList.add("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},s.prototype.bind=function(e,t){var n=this,i=(s.__super__.bind.apply(this,arguments),e.id+"-container");this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.on("click",function(e){n.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){var t;n.isDisabled()||(t=o(this).parent(),t=c.GetData(t[0],"data"),n.trigger("unselect",{originalEvent:e,data:t}))}),this.$selection.on("keydown",".select2-selection__choice__remove",function(e){n.isDisabled()||e.stopPropagation()})},s.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},s.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},s.prototype.selectionContainer=function(){return o('<li class="select2-selection__choice"><button type="button" class="select2-selection__choice__remove" tabindex="-1"><span aria-hidden="true">&times;</span></button><span class="select2-selection__choice__display"></span></li>')},s.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=this.$selection.find(".select2-selection__rendered").attr("id")+"-choice-",i=0;i<e.length;i++){var o=e[i],s=this.selectionContainer(),a=this.display(o,s),r=n+c.generateChars(4)+"-",l=(o.id?r+=o.id:r+=c.generateChars(4),s.find(".select2-selection__choice__display").append(a).attr("id",r),o.title||o.text);l&&s.attr("title",l),a=this.options.get("translations").get("removeItem"),(l=s.find(".select2-selection__choice__remove")).attr("title",a()),l.attr("aria-label",a()),l.attr("aria-describedby",r),c.StoreData(s[0],"data",o),t.push(s)}this.$selection.find(".select2-selection__rendered").append(t)}},s}),d.define("select2/selection/placeholder",[],function(){function e(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return e.prototype.normalizePlaceholder=function(e,t){return t="string"==typeof t?{id:"",text:t}:t},e.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n[0].classList.add("select2-selection__placeholder"),n[0].classList.remove("select2-selection__choice"),t=t.title||t.text||n.text(),this.$selection.find(".select2-selection__rendered").attr("title",t),n},e.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(1<t.length||n)return e.call(this,t);this.clear(),t=this.createPlaceholder(this.placeholder),this.$selection.find(".select2-selection__rendered").append(t)},e}),d.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(o,i,r){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){i._handleClear(e)}),t.on("keypress",function(e){i._handleKeyboardClear(e,t)})},e.prototype._handleClear=function(e,t){if(!this.isDisabled()){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();var i=r.GetData(n[0],"data"),o=this.$element.val(),s=(this.$element.val(this.placeholder.id),{data:i});if(this.trigger("clear",s),s.prevented)this.$element.val(o);else{for(var a=0;a<i.length;a++)if(s={data:i[a]},this.trigger("unselect",s),s.prevented)return void this.$element.val(o);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},e.prototype._handleKeyboardClear=function(e,t,n){n.isOpen()||t.which!=i.DELETE&&t.which!=i.BACKSPACE||this._handleClear(t)},e.prototype.update=function(e,t){var n,i;e.call(this,t),this.$selection.find(".select2-selection__clear").remove(),this.$selection[0].classList.remove("select2-selection--clearable"),0<this.$selection.find(".select2-selection__placeholder").length||0===t.length||(n=this.$selection.find(".select2-selection__rendered").attr("id"),i=this.options.get("translations").get("removeAllItems"),(e=o('<button type="button" class="select2-selection__clear" tabindex="-1"><span aria-hidden="true">&times;</span></button>')).attr("title",i()),e.attr("aria-label",i()),e.attr("aria-describedby",n),r.StoreData(e[0],"data",t),this.$selection.prepend(e),this.$selection[0].classList.add("select2-selection--clearable"))},e}),d.define("select2/selection/search",["jquery","../utils","../keys"],function(i,r,l){function e(e,t,n){e.call(this,t,n)}return e.prototype.render=function(e){var t=this.options.get("translations").get("search"),n=i('<span class="select2-search select2-search--inline"><textarea class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" ></textarea></span>');return this.$searchContainer=n,this.$search=n.find("textarea"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",t()),e=e.call(this),this._transferTabIndex(),e.append(this.$searchContainer),e},e.prototype.bind=function(e,t,n){var i=this,o=t.id+"-results",s=t.id+"-container";e.call(this,t,n),i.$search.attr("aria-describedby",s),t.on("open",function(){i.$search.attr("aria-controls",o),i.$search.trigger("focus")}),t.on("close",function(){i.$search.val(""),i.resizeSearch(),i.$search.removeAttr("aria-controls"),i.$search.removeAttr("aria-activedescendant"),i.$search.trigger("focus")}),t.on("enable",function(){i.$search.prop("disabled",!1),i._transferTabIndex()}),t.on("disable",function(){i.$search.prop("disabled",!0)}),t.on("focus",function(e){i.$search.trigger("focus")}),t.on("results:focus",function(e){e.data._resultId?i.$search.attr("aria-activedescendant",e.data._resultId):i.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(e){i.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){i._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){var t;e.stopPropagation(),i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented(),e.which===l.BACKSPACE&&""===i.$search.val()&&0<(t=i.$selection.find(".select2-selection__choice").last()).length&&(t=r.GetData(t[0],"data"),i.searchRemoveChoice(t),e.preventDefault())}),this.$selection.on("click",".select2-search--inline",function(e){i.$search.val()&&e.stopPropagation()});var a=(t=document.documentMode)&&t<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){a?i.$selection.off("input.search input.searchcheck"):i.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){var t;a&&"input"===e.type?i.$selection.off("input.search input.searchcheck"):(t=e.which)!=l.SHIFT&&t!=l.CTRL&&t!=l.ALT&&t!=l.TAB&&i.handleSearch(e)})},e.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},e.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},e.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.resizeSearch(),n&&this.$search.trigger("focus")},e.prototype.handleSearch=function(){var e;this.resizeSearch(),this._keyUpPrevented||(e=this.$search.val(),this.trigger("query",{term:e})),this._keyUpPrevented=!1},e.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},e.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="100%";""===this.$search.attr("placeholder")&&(e=.75*(this.$search.val().length+1)+"em"),this.$search.css("width",e)},e}),d.define("select2/selection/selectionCss",["../utils"],function(n){function e(){}return e.prototype.render=function(e){var t=e.call(this);return-1!==(e=this.options.get("selectionCssClass")||"").indexOf(":all:")&&(e=e.replace(":all:",""),n.copyNonInternalCssClasses(t[0],this.$element[0])),t.addClass(e),t},e}),d.define("select2/selection/eventRelay",["jquery"],function(a){function e(){}return e.prototype.bind=function(e,t,n){var i=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],s=["opening","closing","selecting","unselecting","clearing"];e.call(this,t,n),t.on("*",function(e,t){var n;-1!==o.indexOf(e)&&(n=a.Event("select2:"+e,{params:t=t||{}}),i.$element.trigger(n),-1!==s.indexOf(e))&&(t.prevented=n.isDefaultPrevented())})},e}),d.define("select2/translation",["jquery","require"],function(t,n){function i(e){this.dict=e||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(e){return this.dict[e]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(e){var t;return e in i._cache||(t=n(e),i._cache[e]=t),new i(i._cache[e])},i}),d.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OE","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oe","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"'"}}),d.define("select2/data/base",["../utils"],function(n){function i(e,t){i.__super__.constructor.call(this)}return n.Extend(i,n.Observable),i.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},i.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},i.prototype.bind=function(e,t){},i.prototype.destroy=function(){},i.prototype.generateResultId=function(e,t){return e=e.id+"-result-",e+=n.generateChars(4),null!=t.id?e+="-"+t.id.toString():e+="-"+n.generateChars(4),e},i}),d.define("select2/data/select",["./base","../utils","jquery"],function(e,r,l){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return r.Extend(n,e),n.prototype.current=function(e){var t=this;e(Array.prototype.map.call(this.$element[0].querySelectorAll(":checked"),function(e){return t.item(l(e))}))},n.prototype.select=function(o){var e,s=this;o.selected=!0,null!=o.element&&"option"===o.element.tagName.toLowerCase()?(o.element.selected=!0,this.$element.trigger("input").trigger("change")):this.$element.prop("multiple")?this.current(function(e){var t=[];(o=[o]).push.apply(o,e);for(var n=0;n<o.length;n++){var i=o[n].id;-1===t.indexOf(i)&&t.push(i)}s.$element.val(t),s.$element.trigger("input").trigger("change")}):(e=o.id,this.$element.val(e),this.$element.trigger("input").trigger("change"))},n.prototype.unselect=function(o){var s=this;this.$element.prop("multiple")&&(o.selected=!1,null!=o.element&&"option"===o.element.tagName.toLowerCase()?(o.element.selected=!1,this.$element.trigger("input").trigger("change")):this.current(function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].id;i!==o.id&&-1===t.indexOf(i)&&t.push(i)}s.$element.val(t),s.$element.trigger("input").trigger("change")}))},n.prototype.bind=function(e,t){var n=this;(this.container=e).on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){r.RemoveData(this)})},n.prototype.query=function(t,e){var n=[],i=this;this.$element.children().each(function(){var e;"option"!==this.tagName.toLowerCase()&&"optgroup"!==this.tagName.toLowerCase()||(e=l(this),e=i.item(e),null!==(e=i.matches(t,e))&&n.push(e))}),e({results:n})},n.prototype.addOptions=function(e){this.$element.append(e)},n.prototype.option=function(e){var t;return e.children?(t=document.createElement("optgroup")).label=e.text:void 0!==(t=document.createElement("option")).textContent?t.textContent=e.text:t.innerText=e.text,void 0!==e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title),(e=this._normalizeItem(e)).element=t,r.StoreData(t,"data",e),l(t)},n.prototype.item=function(e){var t={};if(null==(t=r.GetData(e[0],"data"))){var n=e[0];if("option"===n.tagName.toLowerCase())t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if("optgroup"===n.tagName.toLowerCase()){for(var t={text:e.prop("label"),children:[],title:e.prop("title")},i=e.children("option"),o=[],s=0;s<i.length;s++){var a=l(i[s]),a=this.item(a);o.push(a)}t.children=o}(t=this._normalizeItem(t)).element=e[0],r.StoreData(e[0],"data",t)}return t},n.prototype._normalizeItem=function(e){return e!==Object(e)&&(e={id:e,text:e}),null!=(e=l.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),l.extend({},{selected:!1,disabled:!1},e)},n.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},n}),d.define("select2/data/array",["./select","../utils","jquery"],function(e,t,c){function i(e,t){this._dataToConvert=t.get("data")||[],i.__super__.constructor.call(this,e,t)}return t.Extend(i,e),i.prototype.bind=function(e,t){i.__super__.bind.call(this,e,t),this.addOptions(this.convertToOptions(this._dataToConvert))},i.prototype.select=function(n){var e;0===this.$element.find("option").filter(function(e,t){return t.value==n.id.toString()}).length&&(e=this.option(n),this.addOptions(e)),i.__super__.select.call(this,n)},i.prototype.convertToOptions=function(e){for(var t=this,n=this.$element.find("option"),i=n.map(function(){return t.item(c(this)).id}).get(),o=[],s=0;s<e.length;s++){var a,r,l=this._normalizeItem(e[s]);0<=i.indexOf(l.id)?(a=n.filter(function(e){return function(){return c(this).val()==e.id}}(l)),r=this.item(a),r=c.extend(!0,{},l,r),r=this.option(r),a.replaceWith(r)):(r=this.option(l),l.children&&(l=this.convertToOptions(l.children),r.append(l)),o.push(r))}return o},i}),d.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,s){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){return s.extend({},{data:function(e){return s.extend({},e,{q:e.term})},transport:function(e,t,n){return(e=s.ajax(e)).then(t),e.fail(n),e}},e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(t,n){var i=this,o=(null!=this._request&&("function"==typeof this._request.abort&&this._request.abort(),this._request=null),s.extend({type:"GET"},this.ajaxOptions));function e(){var e=o.transport(o,function(e){e=i.processResults(e,t),i.options.get("debug")&&window.console&&console.error&&(e&&e.results&&Array.isArray(e.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),n(e)},function(){"status"in e&&(0===e.status||"0"===e.status)||i.trigger("results:message",{message:"errorLoading"})});i._request=e}"function"==typeof o.url&&(o.url=o.url.call(this.$element,t)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(e,this.ajaxOptions.delay)):e()},n}),d.define("select2/data/tags",["jquery"],function(t){function e(e,t,n){var i=n.get("tags"),o=n.get("createTag");if(void 0!==o&&(this.createTag=o),void 0!==(o=n.get("insertTag"))&&(this.insertTag=o),e.call(this,t,n),Array.isArray(i))for(var s=0;s<i.length;s++){var a=i[s],a=this._normalizeItem(a),a=this.option(a);this.$element.append(a)}}return e.prototype.query=function(e,c,d){var h=this;this._removeOldTags(),null!=c.term&&null==c.page?e.call(this,c,function e(t,n){for(var i=t.results,o=0;o<i.length;o++){var s=i[o],a=null!=s.children&&!e({results:s.children},!0);if((s.text||"").toUpperCase()===(c.term||"").toUpperCase()||a)return!n&&(t.data=i,void d(t))}if(n)return!0;var r,l=h.createTag(c);null!=l&&((r=h.option(l)).attr("data-select2-tag","true"),h.addOptions([r]),h.insertTag(i,l)),t.results=i,d(t)}):e.call(this,c,d)},e.prototype.createTag=function(e,t){return null==t.term||""===(t=t.term.trim())?null:{id:t,text:t}},e.prototype.insertTag=function(e,t,n){t.unshift(n)},e.prototype._removeOldTags=function(e){this.$element.find("option[data-select2-tag]").each(function(){this.selected||t(this).remove()})},e}),d.define("select2/data/tokenizer",["jquery"],function(c){function e(e,t,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,t,n){var i=this,o=(t.term=t.term||"",this.tokenizer(t,this.options,function(e){var t,n=i._normalizeItem(e);i.$element.find("option").filter(function(){return c(this).val()===n.id}).length||((t=i.option(n)).attr("data-select2-tag",!0),i._removeOldTags(),i.addOptions([t])),i.trigger("select",{data:t=n})}));o.term!==t.term&&(this.$search.length&&(this.$search.val(o.term),this.$search.trigger("focus")),t.term=o.term),e.call(this,t,n)},e.prototype.tokenizer=function(e,t,n,i){for(var o=n.get("tokenSeparators")||[],s=t.term,a=0,r=this.createTag||function(e){return{id:e.term,text:e.term}};a<s.length;){var l=s[a];-1!==o.indexOf(l)&&(l=s.substr(0,a),null!=(l=r(c.extend({},t,{term:l}))))?(i(l),s=s.substr(a+1)||"",a=0):a++}return{term:s}},e}),d.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),d.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",0<this.maximumInputLength&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),d.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(){i._checkIfMaximumSelected()})},e.prototype.query=function(e,t,n){var i=this;this._checkIfMaximumSelected(function(){e.call(i,t,n)})},e.prototype._checkIfMaximumSelected=function(e,t){var n=this;this.current(function(e){e=null!=e?e.length:0,0<n.maximumSelectionLength&&e>=n.maximumSelectionLength?n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):t&&t()})},e}),d.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),d.define("select2/dropdown/search",["jquery"],function(s){function e(){}return e.prototype.render=function(e){var t=e.call(this),n=this.options.get("translations").get("search"),e=s('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=e,this.$search=e.find("input"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",n()),t.prepend(e),t},e.prototype.bind=function(e,t,n){var i=this,o=t.id+"-results";e.call(this,t,n),this.$search.on("keydown",function(e){i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(e){s(this).off("keyup")}),this.$search.on("keyup input",function(e){i.handleSearch(e)}),t.on("open",function(){i.$search.attr("tabindex",0),i.$search.attr("aria-controls",o),i.$search.trigger("focus"),window.setTimeout(function(){i.$search.trigger("focus")},0)}),t.on("close",function(){i.$search.attr("tabindex",-1),i.$search.removeAttr("aria-controls"),i.$search.removeAttr("aria-activedescendant"),i.$search.val(""),i.$search.trigger("blur")}),t.on("focus",function(){t.isOpen()||i.$search.trigger("focus")}),t.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(i.showSearch(e)?i.$searchContainer[0].classList.remove("select2-search--hide"):i.$searchContainer[0].classList.add("select2-search--hide"))}),t.on("results:focus",function(e){e.data._resultId?i.$search.attr("aria-activedescendant",e.data._resultId):i.$search.removeAttr("aria-activedescendant")})},e.prototype.handleSearch=function(e){var t;this._keyUpPrevented||(t=this.$search.val(),this.trigger("query",{term:t})),this._keyUpPrevented=!1},e.prototype.showSearch=function(e,t){return!0},e}),d.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return t="string"==typeof t?{id:"",text:t}:t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;0<=i;i--){var o=t[i];this.placeholder.id===o.id&&n.splice(i,1)}return n},e}),d.define("select2/dropdown/infiniteScroll",["jquery"],function(n){function e(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("query",function(e){i.lastParams=e,i.loading=!0}),t.on("query:append",function(e){i.lastParams=e,i.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},e.prototype.loadMoreIfNeeded=function(){var e=n.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&e&&(e=this.$results.offset().top+this.$results.outerHeight(!1),this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=e+50)&&this.loadMore()},e.prototype.loadMore=function(){this.loading=!0;var e=n.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},e.prototype.createLoadingMore=function(){var e=n('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),t=this.options.get("translations").get("loadingMore");return e.html(t(this.lastParams)),e},e}),d.define("select2/dropdown/attachBody",["jquery","../utils"],function(d,a){function e(e,t,n){this.$dropdownParent=d(n.get("dropdownParent")||document.body),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("open",function(){i._showDropdown(),i._attachPositioningHandler(t),i._bindContainerResultHandlers(t)}),t.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},e.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},e.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t[0].classList.remove("select2"),t[0].classList.add("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},e.prototype.render=function(e){var t=d("<span></span>"),e=e.call(this);return t.append(e),this.$dropdownContainer=t},e.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},e.prototype._bindContainerResultHandlers=function(e,t){var n;this._containerResultsHandlersBound||(n=this,t.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:message",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("select",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("unselect",function(){n._positionDropdown(),n._resizeDropdown()}),this._containerResultsHandlersBound=!0)},e.prototype._attachPositioningHandler=function(e,t){var n=this,i="scroll.select2."+t.id,o="resize.select2."+t.id,s="orientationchange.select2."+t.id;(t=this.$container.parents().filter(a.hasScroll)).each(function(){a.StoreData(this,"select2-scroll-position",{x:d(this).scrollLeft(),y:d(this).scrollTop()})}),t.on(i,function(e){var t=a.GetData(this,"select2-scroll-position");d(this).scrollTop(t.y)}),d(window).on(i+" "+o+" "+s,function(e){n._positionDropdown(),n._resizeDropdown()})},e.prototype._detachPositioningHandler=function(e,t){var n="scroll.select2."+t.id,i="resize.select2."+t.id,t="orientationchange.select2."+t.id;this.$container.parents().filter(a.hasScroll).off(n),d(window).off(n+" "+i+" "+t)},e.prototype._positionDropdown=function(){var e=d(window),t=this.$dropdown[0].classList.contains("select2-dropdown--above"),n=this.$dropdown[0].classList.contains("select2-dropdown--below"),i=null,o=this.$container.offset(),s=(o.bottom=o.top+this.$container.outerHeight(!1),{height:this.$container.outerHeight(!1)}),a=(s.top=o.top,s.bottom=o.top+s.height,this.$dropdown.outerHeight(!1)),r=e.scrollTop(),l=e.scrollTop()+e.height(),c=r<o.top-a,e=l>o.bottom+a,r={left:o.left,top:s.bottom};"static"===(l=this.$dropdownParent).css("position")&&(l=l.offsetParent()),o={top:0,left:0},(d.contains(document.body,l[0])||l[0].isConnected)&&(o=l.offset()),r.top-=o.top,r.left-=o.left,t||n||(i="below"),e||!c||t?!c&&e&&t&&(i="below"):i="above",("above"==i||t&&"below"!==i)&&(r.top=s.top-o.top-a),null!=i&&(this.$dropdown[0].classList.remove("select2-dropdown--below"),this.$dropdown[0].classList.remove("select2-dropdown--above"),this.$dropdown[0].classList.add("select2-dropdown--"+i),this.$container[0].classList.remove("select2-container--below"),this.$container[0].classList.remove("select2-container--above"),this.$container[0].classList.add("select2-container--"+i)),this.$dropdownContainer.css(r)},e.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},e.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},e}),d.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,i)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var n=0,i=0;i<t.length;i++){var o=t[i];o.children?n+=e(o.children):n++}return n}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),d.define("select2/dropdown/selectOnClose",["../utils"],function(i){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",function(e){i._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){var n=t.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}(n=this.getHighlightedResults()).length<1||null!=(n=i.GetData(n[0],"data")).element&&n.element.selected||null==n.element&&n.selected||this.trigger("select",{data:n})},e}),d.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(e){i._selectTriggered(e)}),t.on("unselect",function(e){i._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),d.define("select2/dropdown/dropdownCss",["../utils"],function(n){function e(){}return e.prototype.render=function(e){var t=e.call(this);return-1!==(e=this.options.get("dropdownCssClass")||"").indexOf(":all:")&&(e=e.replace(":all:",""),n.copyNonInternalCssClasses(t[0],this.$element[0])),t.addClass(e),t},e}),d.define("select2/dropdown/tagsSearchHighlight",["../utils"],function(i){function e(){}return e.prototype.highlightFirstItem=function(e){if(0<(t=this.$results.find(".select2-results__option--selectable:not(.select2-results__option--selected)")).length){var t,n=t.first();if((t=i.GetData(n[0],"data").element)&&t.getAttribute&&"true"===t.getAttribute("data-select2-tag"))return void n.trigger("mouseenter")}e.call(this)},e}),d.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,e="Please delete "+t+" character";return 1!=t&&(e+="s"),e},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching"},removeAllItems:function(){return"Remove all items"},removeItem:function(){return"Remove item"},search:function(){return"Search"}}}),d.define("select2/defaults",["jquery","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/selectionCss","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./dropdown/dropdownCss","./dropdown/tagsSearchHighlight","./i18n/en"],function(l,s,a,r,c,d,h,u,p,f,m,t,g,v,y,b,w,x,C,_,$,S,k,E,T,A,P,j,L,D,e){function n(){this.reset()}return n.prototype.apply=function(e){var t;null==(e=l.extend(!0,{},this.defaults,e)).dataAdapter&&(null!=e.ajax?e.dataAdapter=y:null!=e.data?e.dataAdapter=v:e.dataAdapter=g,0<e.minimumInputLength&&(e.dataAdapter=f.Decorate(e.dataAdapter,x)),0<e.maximumInputLength&&(e.dataAdapter=f.Decorate(e.dataAdapter,C)),0<e.maximumSelectionLength&&(e.dataAdapter=f.Decorate(e.dataAdapter,_)),e.tags&&(e.dataAdapter=f.Decorate(e.dataAdapter,b)),null==e.tokenSeparators&&null==e.tokenizer||(e.dataAdapter=f.Decorate(e.dataAdapter,w))),null==e.resultsAdapter&&(e.resultsAdapter=s,null!=e.ajax&&(e.resultsAdapter=f.Decorate(e.resultsAdapter,E)),null!=e.placeholder&&(e.resultsAdapter=f.Decorate(e.resultsAdapter,k)),e.selectOnClose&&(e.resultsAdapter=f.Decorate(e.resultsAdapter,P)),e.tags)&&(e.resultsAdapter=f.Decorate(e.resultsAdapter,D)),null==e.dropdownAdapter&&(e.multiple?e.dropdownAdapter=$:(t=f.Decorate($,S),e.dropdownAdapter=t),0!==e.minimumResultsForSearch&&(e.dropdownAdapter=f.Decorate(e.dropdownAdapter,A)),e.closeOnSelect&&(e.dropdownAdapter=f.Decorate(e.dropdownAdapter,j)),null!=e.dropdownCssClass&&(e.dropdownAdapter=f.Decorate(e.dropdownAdapter,L)),e.dropdownAdapter=f.Decorate(e.dropdownAdapter,T)),null==e.selectionAdapter&&(e.multiple?e.selectionAdapter=r:e.selectionAdapter=a,null!=e.placeholder&&(e.selectionAdapter=f.Decorate(e.selectionAdapter,c)),e.allowClear&&(e.selectionAdapter=f.Decorate(e.selectionAdapter,d)),e.multiple&&(e.selectionAdapter=f.Decorate(e.selectionAdapter,h)),null!=e.selectionCssClass&&(e.selectionAdapter=f.Decorate(e.selectionAdapter,u)),e.selectionAdapter=f.Decorate(e.selectionAdapter,p)),e.language=this._resolveLanguage(e.language),e.language.push("en");for(var n=[],i=0;i<e.language.length;i++){var o=e.language[i];-1===n.indexOf(o)&&n.push(o)}return e.language=n,e.translations=this._processTranslations(e.language,e.debug),e},n.prototype.reset=function(){function r(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return t[e]||e})}this.defaults={amdLanguageBase:"./i18n/",autocomplete:"off",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:f.escapeMarkup,language:{},matcher:function e(t,n){if(null==t.term||""===t.term.trim())return n;if(n.children&&0<n.children.length){for(var i=l.extend(!0,{},n),o=n.children.length-1;0<=o;o--)null==e(t,n.children[o])&&i.children.splice(o,1);return 0<i.children.length?i:e(t,i)}var s=r(n.text).toUpperCase(),a=r(t.term).toUpperCase();return-1<s.indexOf(a)?n:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},n.prototype.applyFromElement=function(e,t){var n=e.language,i=this.defaults.language,o=t.prop("lang"),t=t.closest("[lang]").prop("lang"),t=Array.prototype.concat.call(this._resolveLanguage(o),this._resolveLanguage(n),this._resolveLanguage(i),this._resolveLanguage(t));return e.language=t,e},n.prototype._resolveLanguage=function(e){if(!e)return[];if(l.isEmptyObject(e))return[];if(l.isPlainObject(e))return[e];for(var t,n=Array.isArray(e)?e:[e],i=[],o=0;o<n.length;o++)i.push(n[o]),"string"==typeof n[o]&&0<n[o].indexOf("-")&&(t=n[o].split("-")[0],i.push(t));return i},n.prototype._processTranslations=function(e,t){for(var n=new m,i=0;i<e.length;i++){var o=new m,s=e[i];if("string"==typeof s)try{o=m.loadPath(s)}catch(e){try{s=this.defaults.amdLanguageBase+s,o=m.loadPath(s)}catch(e){t&&window.console&&console.warn&&console.warn('Select2: The language file for "'+s+'" could not be automatically loaded. A fallback will be used instead.')}}else o=l.isPlainObject(s)?new m(s):s;n.extend(o)}return n},n.prototype.set=function(e,t){var n={};n[l.camelCase(e)]=t,n=f._convertData(n),l.extend(!0,this.defaults,n)},new n}),d.define("select2/options",["jquery","./defaults","./utils"],function(c,n,d){function e(e,t){this.options=e,null!=t&&this.fromElement(t),null!=t&&(this.options=n.applyFromElement(this.options,t)),this.options=n.apply(this.options)}return e.prototype.fromElement=function(e){var t=["select2"],n=(null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.autocomplete&&e.prop("autocomplete")&&(this.options.autocomplete=e.prop("autocomplete")),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),d.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),d.StoreData(e[0],"data",d.GetData(e[0],"select2Tags")),d.StoreData(e[0],"tags",!0)),d.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",d.GetData(e[0],"ajaxUrl")),d.StoreData(e[0],"ajax-Url",d.GetData(e[0],"ajaxUrl"))),{});function i(e,t){return t.toUpperCase()}for(var o=0;o<e[0].attributes.length;o++){var s=e[0].attributes[o].name,a="data-";s.substr(0,a.length)==a&&(s=s.substring(a.length),a=d.GetData(e[0],s),n[s.replace(/-([a-z])/g,i)]=a)}c.fn.jquery&&"1."==c.fn.jquery.substr(0,2)&&e[0].dataset&&(n=c.extend(!0,{},e[0].dataset,n));var r,l=c.extend(!0,{},d.GetData(e[0]),n);for(r in l=d._convertData(l))-1<t.indexOf(r)||(c.isPlainObject(this.options[r])?c.extend(this.options[r],l[r]):this.options[r]=l[r]);return this},e.prototype.get=function(e){return this.options[e]},e.prototype.set=function(e,t){this.options[e]=t},e}),d.define("select2/core",["jquery","./options","./utils","./keys"],function(t,o,s,i){function a(e,t){null!=s.GetData(e[0],"select2")&&s.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),this.options=new o(t=t||{},e),a.__super__.constructor.call(this);var n=e.attr("tabindex")||0,i=(s.StoreData(e[0],"old-tabindex",n),e.attr("tabindex","-1"),t=this.options.get("dataAdapter"),this.dataAdapter=new t(e,this.options),n=this.render(),this._placeContainer(n),t=this.options.get("selectionAdapter"),this.selection=new t(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,n),t=this.options.get("dropdownAdapter"),this.dropdown=new t(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,n),n=this.options.get("resultsAdapter"),this.results=new n(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown),this);this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){i.trigger("selection:update",{data:e})}),e[0].classList.add("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),s.StoreData(e[0],"select2",this),e.data("select2",this)}return s.Extend(a,s.Observable),a.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+s.generateChars(2):s.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},a.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},a.prototype._resolveWidth=function(e,t){var n,i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t)return null!=(n=this._resolveWidth(e,"style"))?n:this._resolveWidth(e,"element");if("element"==t)return(n=e.outerWidth(!1))<=0?"auto":n+"px";if("style"!=t)return"computedstyle"!=t?t:window.getComputedStyle(e[0]).width;if("string"==typeof(e=e.attr("style")))for(var o=e.split(";"),s=0,a=o.length;s<a;s+=1){var r=o[s].replace(/\s/g,"").match(i);if(null!==r&&1<=r.length)return r[1]}return null},a.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},a.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=s.bind(this._syncAttributes,this),this._syncS=s.bind(this._syncSubtree,this),this._observer=new window.MutationObserver(function(e){t._syncA(),t._syncS(e)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})},a.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(e,t){n.trigger(e,t)})},a.prototype._registerSelectionEvents=function(){var n=this,i=["toggle","focus"];this.selection.on("toggle",function(){n.toggleDropdown()}),this.selection.on("focus",function(e){n.focus(e)}),this.selection.on("*",function(e,t){-1===i.indexOf(e)&&n.trigger(e,t)})},a.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(e,t){n.trigger(e,t)})},a.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(e,t){n.trigger(e,t)})},a.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container[0].classList.add("select2-container--open")}),this.on("close",function(){n.$container[0].classList.remove("select2-container--open")}),this.on("enable",function(){n.$container[0].classList.remove("select2-container--disabled")}),this.on("disable",function(){n.$container[0].classList.add("select2-container--disabled")}),this.on("blur",function(){n.$container[0].classList.remove("select2-container--focus")}),this.on("query",function(t){n.isOpen()||n.trigger("open",{}),this.dataAdapter.query(t,function(e){n.trigger("results:all",{data:e,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(e){n.trigger("results:append",{data:e,query:t})})}),this.on("keypress",function(e){var t=e.which;n.isOpen()?t===i.ESC||t===i.UP&&e.altKey?(n.close(e),e.preventDefault()):t===i.ENTER||t===i.TAB?(n.trigger("results:select",{}),e.preventDefault()):t===i.SPACE&&e.ctrlKey?(n.trigger("results:toggle",{}),e.preventDefault()):t===i.UP?(n.trigger("results:previous",{}),e.preventDefault()):t===i.DOWN&&(n.trigger("results:next",{}),e.preventDefault()):(t===i.ENTER||t===i.SPACE||t===i.DOWN&&e.altKey)&&(n.open(),e.preventDefault())})},a.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},a.prototype._isChangeMutation=function(e){var t=this;if(e.addedNodes&&0<e.addedNodes.length){for(var n=0;n<e.addedNodes.length;n++)if(e.addedNodes[n].selected)return!0}else{if(e.removedNodes&&0<e.removedNodes.length)return!0;if(Array.isArray(e))return e.some(function(e){return t._isChangeMutation(e)})}return!1},a.prototype._syncSubtree=function(e){var e=this._isChangeMutation(e),t=this;e&&this.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})},a.prototype.trigger=function(e,t){var n=a.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if((void 0===t&&(t={}),e in i)&&(n.call(this,i[e],i={prevented:!1,name:e,args:t}),i.prevented))return void(t.prevented=!0);n.call(this,e,t)},a.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},a.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},a.prototype.close=function(e){this.isOpen()&&this.trigger("close",{originalEvent:e})},a.prototype.isEnabled=function(){return!this.isDisabled()},a.prototype.isDisabled=function(){return this.options.get("disabled")},a.prototype.isOpen=function(){return this.$container[0].classList.contains("select2-container--open")},a.prototype.hasFocus=function(){return this.$container[0].classList.contains("select2-container--focus")},a.prototype.focus=function(e){this.hasFocus()||(this.$container[0].classList.add("select2-container--focus"),this.trigger("focus",{}))},a.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),e=!(e=null!=e&&0!==e.length?e:[!0])[0],this.$element.prop("disabled",e)},a.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},a.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();e=e[0],Array.isArray(e)&&(e=e.map(function(e){return e.toString()})),this.$element.val(e).trigger("input").trigger("change")},a.prototype.destroy=function(){s.RemoveData(this.$container[0]),this.$container.remove(),this._observer.disconnect(),this._observer=null,this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",s.GetData(this.$element[0],"old-tabindex")),this.$element[0].classList.remove("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),s.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},a.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container[0].classList.add("select2-container--"+this.options.get("theme")),s.StoreData(e[0],"element",this.$element),e},a}),d.define("select2/dropdown/attachContainer",[],function(){function e(e,t,n){e.call(this,t,n)}return e.prototype.position=function(e,t,n){n.find(".dropdown-wrapper").append(t),t[0].classList.add("select2-dropdown--below"),n[0].classList.add("select2-container--below")},e}),d.define("select2/dropdown/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(e){e.stopPropagation()})},e}),d.define("select2/selection/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(e){e.stopPropagation()})},e}),r=function(c){var d,h,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],t="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],u=Array.prototype.slice;if(c.event.fixHooks)for(var n=e.length;n;)c.event.fixHooks[e[--n]]=c.event.mouseHooks;var p=c.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],i,!1);else this.onmousewheel=i;c.data(this,"mousewheel-line-height",p.getLineHeight(this)),c.data(this,"mousewheel-page-height",p.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],i,!1);else this.onmousewheel=null;c.removeData(this,"mousewheel-line-height"),c.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var t=c(e);return(e=t["offsetParent"in c.fn?"offsetParent":"parent"]()).length||(e=c("body")),parseInt(e.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(e){return c(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function i(e){var t,n=e||window.event,i=u.call(arguments,1),o=0,s=0,a=0,r=0,l=0;if((e=c.event.fix(n)).type="mousewheel","detail"in n&&(a=-1*n.detail),"wheelDelta"in n&&(a=n.wheelDelta),"wheelDeltaY"in n&&(a=n.wheelDeltaY),"wheelDeltaX"in n&&(s=-1*n.wheelDeltaX),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(s=-1*a,a=0),o=0===a?s:a,"deltaY"in n&&(o=a=-1*n.deltaY),"deltaX"in n&&(s=n.deltaX,0===a)&&(o=-1*s),0!==a||0!==s)return 1===n.deltaMode?(o*=t=c.data(this,"mousewheel-line-height"),a*=t,s*=t):2===n.deltaMode&&(o*=t=c.data(this,"mousewheel-page-height"),a*=t,s*=t),t=Math.max(Math.abs(a),Math.abs(s)),(!h||t<h)&&m(n,h=t)&&(h/=40),m(n,t)&&(o/=40,s/=40,a/=40),o=Math[1<=o?"floor":"ceil"](o/h),s=Math[1<=s?"floor":"ceil"](s/h),a=Math[1<=a?"floor":"ceil"](a/h),p.settings.normalizeOffset&&this.getBoundingClientRect&&(t=this.getBoundingClientRect(),r=e.clientX-t.left,l=e.clientY-t.top),e.deltaX=s,e.deltaY=a,e.deltaFactor=h,e.offsetX=r,e.offsetY=l,e.deltaMode=0,i.unshift(e,o,s,a),d&&clearTimeout(d),d=setTimeout(f,200),(c.event.dispatch||c.event.handle).apply(this,i)}function f(){h=null}function m(e,t){return p.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}c.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})},"function"==typeof d.define&&d.define.amd?d.define("jquery-mousewheel",["jquery"],r):"object"==typeof exports?module.exports=r:r(t),d.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(o,e,s,t,a){var r;return null==o.fn.select2&&(r=["open","close","destroy"],o.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var e=o.extend(!0,{},t);new s(o(this),e)}),this;if("string"!=typeof t)throw new Error("Invalid arguments for Select2: "+t);var n,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=a.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),n=e[t].apply(e,i)}),-1<r.indexOf(t)?this:n}),null==o.fn.select2.defaults&&(o.fn.select2.defaults=t),s});var e,n,u,s,a,p,f,m,g,v,y,i,o,b,r={define:d.define,require:d.require};function w(e,t){return i.call(e,t)}function l(e,t){var n,i,o,s,a,r,l,c,d,h,u=t&&t.split("/"),p=v.map,f=p&&p["*"]||{};if(e){for(t=(e=e.split("/")).length-1,v.nodeIdCompat&&b.test(e[t])&&(e[t]=e[t].replace(b,"")),"."===e[0].charAt(0)&&u&&(e=u.slice(0,u.length-1).concat(e)),c=0;c<e.length;c++)"."===(h=e[c])?(e.splice(c,1),--c):".."!==h||0===c||1===c&&".."===e[2]||".."===e[c-1]||0<c&&(e.splice(c-1,2),c-=2);e=e.join("/")}if((u||f)&&p){for(c=(n=e.split("/")).length;0<c;--c){if(i=n.slice(0,c).join("/"),u)for(d=u.length;0<d;--d)if(o=(o=p[u.slice(0,d).join("/")])&&o[i]){s=o,a=c;break}if(s)break;!r&&f&&f[i]&&(r=f[i],l=c)}!s&&r&&(s=r,a=l),s&&(n.splice(0,a,s),e=n.join("/"))}return e}function x(t,n){return function(){var e=o.call(arguments,0);return"string"!=typeof e[0]&&1===e.length&&e.push(null),a.apply(u,e.concat([t,n]))}}function C(e){var t;if(w(g,e)&&(t=g[e],delete g[e],y[e]=!0,s.apply(u,t)),w(m,e)||w(y,e))return m[e];throw new Error("No "+e)}function c(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function _(e){return e?c(e):[]}var d=r.require("jquery.select2");return t.fn.select2.amd=r,d}),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ytPlayer=e()}(function(){return function i(o,s,a){function r(t,e){if(!s[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n=s[t]={exports:{}};o[t][0].call(n.exports,function(e){return r(o[t][1][e]||e)},n,n.exports,i,o,s,a)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<a.length;e++)r(a[e]);return r}({1:[function(e,t,n){var h=Object.create||function(e){function t(){}return t.prototype=e,new t},a=Object.keys||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return t},i=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function o(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=h(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((t.exports=o).EventEmitter=o).prototype._events=void 0,o.prototype._maxListeners=void 0;var s,r=10;try{var l={};Object.defineProperty&&Object.defineProperty(l,"x",{value:0}),s=0===l.x}catch(e){s=!1}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var o,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');return(o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener||n),o=e._events),s=o[t]):(o=e._events=h(null),e._eventsCount=0),s?("function"==typeof s?s=o[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),!s.warned&&(i=c(e))&&0<i&&s.length>i&&(s.warned=!0,(i=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.')).name="MaxListenersExceededWarning",i.emitter=e,i.type=t,i.count=s.length,"object"==typeof console)&&console.warn&&console.warn("%s: %s",i.name,i.message)):(s=o[t]=n,++e._eventsCount),e}function u(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function p(e,t,n){e={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},t=i.call(u,e);return t.listener=n,e.wrapFn=t}function f(e,t,n){e=e._events;if(e){e=e[t];if(e)if("function"==typeof e)return n?[e.listener||e]:[e];else if(n){var i=e;for(var o=new Array(i.length),s=0;s<o.length;++s)o[s]=i[s].listener||i[s];return o;return}else return R(e,e.length);else;}return[]}function m(e){var t=this._events;if(t){t=t[e];if("function"==typeof t)return 1;if(t)return t.length}return 0}function R(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}s?Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');r=e}}):o.defaultMaxListeners=r,o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){var t,n,i,o,s,a,r="error"===e;if(a=this._events)r=r&&null==a.error;else if(!r)return!1;if(r){if((t=1<arguments.length?arguments[1]:t)instanceof Error)throw t;r=new Error('Unhandled "error" event. ('+t+")");throw r.context=t,r}if(!(n=a[e]))return!1;var l="function"==typeof n;switch(i=arguments.length){case 1:var c=n,d=this;if(l)c.call(d);else for(var h=c.length,M=R(c,h),u=0;u<h;++u)M[u].call(d);break;case 2:var c=n,p=l,f=this,m=arguments[1];if(p)c.call(f,m);else for(var g=c.length,O=R(c,g),v=0;v<g;++v)O[v].call(f,m);break;case 3:var p=n,y=l,b=this,w=arguments[1],x=arguments[2];if(y)p.call(b,w,x);else for(var C=p.length,H=R(p,C),_=0;_<C;++_)H[_].call(b,w,x);break;case 4:var y=n,$=l,S=this,k=arguments[1],E=arguments[2],T=arguments[3];if($)y.call(S,k,E,T);else for(var A=y.length,z=R(y,A),P=0;P<A;++P)z[P].call(S,k,E,T);break;default:for(o=new Array(i-1),s=1;s<i;s++)o[s-1]=arguments[s];var $=n,j=this,L=o;if(l)$.apply(j,L);else for(var D=$.length,q=R($,D),I=0;I<D;++I)q[I].apply(j,L)}return!0},o.prototype.on=o.prototype.addListener=function(e,t){return d(this,e,t,!1)},o.prototype.prependListener=function(e,t){return d(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,p(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,p(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,i,o,s,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if((i=this._events)&&(n=i[e]))if(n===t||n.listener===t)0==--this._eventsCount?this._events=h(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,s=n.length-1;0<=s;s--)if(n[s]===t||n[s].listener===t){a=n[s].listener,o=s;break}if(o<0)return this;if(0===o)n.shift();else{var r=n;for(var l=o,c=l+1,d=r.length;c<d;l+=1,c+=1)r[l]=r[c];r.pop()}1===n.length&&(i[e]=n[0]),i.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.removeAllListeners=function(e){var t,n;if(n=this._events)if(n.removeListener){if(0===arguments.length){for(var i,o=a(n),s=0;s<o.length;++s)"removeListener"!==(i=o[s])&&this.removeAllListeners(i);this.removeAllListeners("removeListener"),this._events=h(null),this._eventsCount=0}else if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(s=t.length-1;0<=s;s--)this.removeListener(e,t[s])}else 0===arguments.length?(this._events=h(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=h(null):delete n[e]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},o.prototype.listenerCount=m,o.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],2:[function(e,t,n){const i=e("events").EventEmitter,o=e("load-script2"),s="https://www.youtube.com/iframe_api",a={"-1":"unstarted",0:"ended",1:"playing",2:"paused",3:"buffering",5:"cued"},r={INVALID_PARAM:2,HTML5_ERROR:5,NOT_FOUND:100,UNPLAYABLE_1:101,UNPLAYABLE_2:150},l=[];t.exports=class extends i{constructor(e,t){super();e="string"==typeof e?document.querySelector(e):e;e.id?this._id=e.id:this._id=e.id="ytplayer-"+Math.random().toString(16).slice(2,8),this._opts=Object.assign({width:640,height:360,autoplay:!1,captions:void 0,controls:!0,keyboard:!0,fullscreen:!0,annotations:!0,modestBranding:!1,related:!0,timeupdateFrequency:1e3,playsInline:!0,start:0},t),this.videoId=null,this.destroyed=!1,this._api=null,this._autoplay=!1,this._player=null,this._ready=!1,this._queue=[],this._interval=null,this._startInterval=this._startInterval.bind(this),this._stopInterval=this._stopInterval.bind(this),this.on("playing",this._startInterval),this.on("unstarted",this._stopInterval),this.on("ended",this._stopInterval),this.on("paused",this._stopInterval),this.on("buffering",this._stopInterval),this._loadIframeAPI((e,t)=>{if(e)return this._destroy(new Error("YouTube Iframe API failed to load"));this._api=t,this.videoId&&this.load(this.videoId,this._autoplay,this._start)})}load(e,t=!1,n=0){this.destroyed||(this.videoId=e,this._autoplay=t,this._start=n,this._api&&(this._player?this._ready&&(t?this._player.loadVideoById(e,n):this._player.cueVideoById(e,n)):this._createPlayer(e)))}play(){this._ready?this._player.playVideo():this._queueCommand("play")}pause(){this._ready?this._player.pauseVideo():this._queueCommand("pause")}stop(){this._ready?this._player.stopVideo():this._queueCommand("stop")}seek(e){this._ready?this._player.seekTo(e,!0):this._queueCommand("seek",e)}setVolume(e){this._ready?this._player.setVolume(e):this._queueCommand("setVolume",e)}getVolume(){return this._ready&&this._player.getVolume()||0}mute(){this._ready?this._player.mute():this._queueCommand("mute")}unMute(){this._ready?this._player.unMute():this._queueCommand("unMute")}isMuted(){return this._ready&&this._player.isMuted()||!1}setSize(e,t){this._ready?this._player.setSize(e,t):this._queueCommand("setSize",e,t)}setPlaybackRate(e){this._ready?this._player.setPlaybackRate(e):this._queueCommand("setPlaybackRate",e)}setPlaybackQuality(e){this._ready?this._player.setPlaybackQuality(e):this._queueCommand("setPlaybackQuality",e)}getPlaybackRate(){return this._ready&&this._player.getPlaybackRate()||1}getAvailablePlaybackRates(){return this._ready&&this._player.getAvailablePlaybackRates()||[1]}getDuration(){return this._ready&&this._player.getDuration()||0}getProgress(){return this._ready&&this._player.getVideoLoadedFraction()||0}getState(){return this._ready&&a[this._player.getPlayerState()]||"unstarted"}getCurrentTime(){return this._ready&&this._player.getCurrentTime()||0}destroy(){this._destroy()}_destroy(e){this.destroyed||(this.destroyed=!0,this._player&&(this._player.stopVideo&&this._player.stopVideo(),this._player.destroy()),this.videoId=null,this._id=null,this._opts=null,this._api=null,this._player=null,this._ready=!1,this._queue=null,this._stopInterval(),this.removeListener("playing",this._startInterval),this.removeListener("paused",this._stopInterval),this.removeListener("buffering",this._stopInterval),this.removeListener("unstarted",this._stopInterval),this.removeListener("ended",this._stopInterval),e&&this.emit("error",e))}_queueCommand(e,...t){this.destroyed||this._queue.push([e,t])}_flushQueue(){for(;this._queue.length;){var e=this._queue.shift();this[e[0]].apply(this,e[1])}}_loadIframeAPI(e){if(window.YT&&"function"==typeof window.YT.Player)return e(null,window.YT);l.push(e),Array.from(document.getElementsByTagName("script")).some(e=>e.src===s)||o(s).catch(e=>{for(;l.length;)l.shift()(e)});const t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{for("function"==typeof t&&t();l.length;)l.shift()(null,window.YT)}}_createPlayer(e){var t;this.destroyed||(t=this._opts,this._player=new this._api.Player(this._id,{width:t.width,height:t.height,videoId:e,host:t.host,playerVars:{autoplay:t.autoplay?1:0,cc_load_policy:null!=t.captions?!1!==t.captions?1:0:void 0,hl:null!=t.captions&&!1!==t.captions?t.captions:void 0,cc_lang_pref:null!=t.captions&&!1!==t.captions?t.captions:void 0,controls:t.controls?2:0,disablekb:t.keyboard?0:1,enablejsapi:1,fs:t.fullscreen?1:0,iv_load_policy:t.annotations?1:3,modestbranding:t.modestBranding?1:0,origin:window.location.origin,playsinline:t.playsInline?1:0,rel:t.related?1:0,wmode:"opaque",start:t.start},events:{onReady:()=>this._onReady(e),onStateChange:e=>this._onStateChange(e),onPlaybackQualityChange:e=>this._onPlaybackQualityChange(e),onPlaybackRateChange:e=>this._onPlaybackRateChange(e),onError:e=>this._onError(e)}}))}_onReady(e){this.destroyed||(this._ready=!0,this.load(this.videoId,this._autoplay,this._start),this._flushQueue())}_onStateChange(e){if(!this.destroyed){var t=a[e.data];if(!t)throw new Error("Unrecognized state change: "+e);["paused","buffering","ended"].includes(t)&&this._onTimeupdate(),this.emit(t),["unstarted","playing","cued"].includes(t)&&this._onTimeupdate()}}_onPlaybackQualityChange(e){this.destroyed||this.emit("playbackQualityChange",e.data)}_onPlaybackRateChange(e){this.destroyed||this.emit("playbackRateChange",e.data)}_onError(e){return!this.destroyed&&(e=e.data)!==r.HTML5_ERROR?e===r.UNPLAYABLE_1||e===r.UNPLAYABLE_2||e===r.NOT_FOUND||e===r.INVALID_PARAM?this.emit("unplayable",this.videoId):void this._destroy(new Error("YouTube Player Error. Unknown error code: "+e)):void 0}_onTimeupdate(){this.emit("timeupdate",this.getCurrentTime())}_startInterval(){this._interval=setInterval(()=>this._onTimeupdate(),this._opts.timeupdateFrequency)}_stopInterval(){clearInterval(this._interval),this._interval=null}}},{events:1,"load-script2":3}],3:[function(e,t,n){t.exports=function(i,o,s){return new Promise((e,t)=>{const n=document.createElement("script");n.async=!0,n.src=i;for(const[i,s]of Object.entries(o||{}))n.setAttribute(i,s);n.onload=()=>{n.onerror=n.onload=null,e(n)},n.onerror=()=>{n.onerror=n.onload=null,t(new Error("Failed to load "+i))},(s||document.head||document.getElementsByTagName("head")[0]).appendChild(n)})}},{}]},{},[2])(2)}),function(r){var l,c=r(document),d=r("head"),h=null,u={},a=0,p="id",f="px",m="JColResizer",g="JCLRFlex",v=parseInt,y=Math,b=0<navigator.userAgent.indexOf("Trident/4.0");try{l=sessionStorage}catch(e){}d.append("<style type='text/css'>  .JColResizer{table-layout:fixed;} .JColResizer > tbody > tr > td, .JColResizer > tbody > tr > th{overflow:hidden;padding-left:0!important; padding-right:0!important;}  .JCLRgrips{ height:0px; position:relative;} .JCLRgrip{margin-left:-5px; position:absolute; z-index:5; } .JCLRgrip .JColResizer{position:absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;cursor: e-resize;top:0px} .JCLRLastGrip{position:absolute; width:1px; } .JCLRgripDrag{ border-left:1px dotted black;\t} .JCLRFlex{width:auto!important;} .JCLRgrip.JCLRdisabledGrip .JColResizer{cursor:default; display:none;}</style>");function t(e,t){var n,o,i,s=r(e);s.opt=t,s.mode=t.resizeMode,s.dc=s.opt.disabledColumns,s.opt.disable?(i=(n=s).attr(p),(n=u[i])&&n.is("table")&&(n.removeClass(m+" "+g).gc.remove(),delete u[i])):(n=s.id=s.attr(p)||m+a++,s.p=s.opt.postbackSafe,!s.is("table")||u[n]&&!s.opt.partialRefresh||("e-resize"!==s.opt.hoverCursor&&d.append("<style type='text/css'>.JCLRgrip .JColResizer:hover{cursor:"+s.opt.hoverCursor+"!important}</style>"),s.addClass(m).attr(p,n).before('<div class="JCLRgrips"/>'),s.g=[],s.c=[],s.w=s.width(),s.gc=s.prev(),s.f=s.opt.fixed,t.marginLeft&&s.gc.css("marginLeft",t.marginLeft),t.marginRight&&s.gc.css("marginRight",t.marginRight),s.cs=v(b?e.cellSpacing||e.currentStyle.borderSpacing:s.css("border-spacing"))||2,s.b=v(b?e.border||e.currentStyle.borderLeftWidth:s.css("border-left-width"))||1,u[n]=s,i=(i=(i=(o=s).find(">thead>tr:first>th,>thead>tr:first>td")).length?i:o.find(">tbody>tr:first>th,>tr:first>th,>tbody>tr:first>td, >tr:first>td")).filter(":visible"),o.cg=o.find("col"),o.ln=i.length,o.p&&l&&l[o.id]&&$(o,i),i.each(function(e){var t=r(this),n=-1!=o.dc.indexOf(e),i=r(o.gc.append('<div class="JCLRgrip"></div>')[0].lastChild);i.append(n?"":o.opt.gripInnerHtml).append('<div class="'+m+'"></div>'),e==o.ln-1&&(i.addClass("JCLRLastGrip"),o.f)&&i.html(""),i.bind("touchstart mousedown",k),n?i.addClass("JCLRdisabledGrip"):i.removeClass("JCLRdisabledGrip").bind("touchstart mousedown",k),i.t=o,i.i=e,(i.c=t).w=t.width(),o.g.push(i),o.c.push(t),t.width(t.w).removeAttr("width"),i.data(m,{i:e,t:o.attr(p),last:e==o.ln-1})}),o.cg.removeAttr("width"),o.find("td, th").not(i).not("table th, table td").each(function(){r(this).removeAttr("width")}),o.f||o.removeAttr("width").addClass(g),S(o)))}function w(e,t,n){var i=h.x-h.l,o=e.c[t],s=e.c[t+1],a=o.w+i,r=s.w-i;o.width(a+f),e.cg.eq(t).width(a+f),e.f?(s.width(r+f),e.cg.eq(t+1).width(r+f)):e.opt.overflow&&e.css("min-width",e.w+i),n&&(o.w=a,s.w=e.f?r:s.w)}function x(e){var n=r.map(e.c,function(e){return e.width()});e.width(e.w=e.width()).removeClass(g),r.each(e.c,function(e,t){t.width(n[e]).w=n[e]}),e.addClass(g)}function C(e){var t,n,i,o,s,a,r,l;if(h)return t=h.t,r=((r=e.originalEvent.touches)?r[0]:e).pageX-h.ox+h.l,l=t.opt.minWidth,n=h.i,s=1.5*t.cs+l+t.b,i=n==t.ln-1,o=n?t.g[n-1].position().left+t.cs+l:s,s=t.f?n==t.ln-1?t.w-s:t.g[n+1].position().left-t.cs-l:1/0,r=y.max(o,y.min(s,r)),h.x=r,h.css("left",r+f),i&&(a=t.c[h.i],h.w=a.w+r-h.l),t.opt.liveDrag&&(i?(a.width(h.w),!t.f&&t.opt.overflow?t.css("min-width",t.w+r-h.l):t.w=t.width()):w(t,n),S(t),l=t.opt.onDrag)&&(e.currentTarget=t[0],l(e)),!1}function _(e){var t,n,i,o,s;c.unbind("touchend."+m+" mouseup."+m).unbind("touchmove."+m+" mousemove."+m),r("head :last-child").remove(),h&&(h.removeClass(h.t.opt.draggingClass),h.x-h.l!=0&&(n=(t=h.t).opt.onResize,o=(i=h.i)==t.ln-1,s=t.g[i].c,o?(s.width(h.w),s.w=h.w):w(t,i,!0),t.f||x(t),S(t),n&&(e.currentTarget=t[0],n(e)),t.p)&&l&&$(t),h=null)}var $=function(e,t){var n,i,o=0,s=0,a=[];if(t)if(e.cg.removeAttr("width"),e.opt.flush)l[e.id]="";else{for(i=(n=l[e.id].split(";"))[e.ln+1],!e.f&&i&&(e.width(i*=1),e.opt.overflow)&&(e.css("min-width",i+f),e.w=i);s<e.ln;s++)a.push(100*n[s]/n[e.ln]+"%"),t.eq(s).css("width",a[s]);for(s=0;s<e.ln;s++)e.cg.eq(s).css("width",a[s])}else{for(l[e.id]="";s<e.c.length;s++)n=e.c[s].width(),l[e.id]+=n+";",o+=n;l[e.id]+=o,e.f||(l[e.id]+=";"+e.width())}},S=function(e){e.gc.width(e.w);for(var t=0;t<e.ln;t++){var n=e.c[t];e.g[t].css({left:n.offset().left-e.offset().left+n.outerWidth(!1)+e.cs/2+f,height:(e.opt.headerOnly?e.c[0]:e).outerHeight(!1)})}},k=function(e){var t=r(this).data(m),n=u[t.t],i=n.g[t.i],o=e.originalEvent.touches;if(i.ox=(o?o[0]:e).pageX,i.l=i.position().left,i.x=i.l,c.bind("touchmove."+m+" mousemove."+m,C).bind("touchend."+m+" mouseup."+m,_),d.append("<style type='text/css'>*{cursor:"+n.opt.dragCursor+"!important}</style>"),i.addClass(n.opt.draggingClass),h=i,n.c[t.i].l)for(var s,a=0;a<n.ln;a++)(s=n.c[a]).l=!1,s.w=s.width();return!1};r(window).bind("resize."+m,function(){for(var e in u)if(u.hasOwnProperty(e)){var t,n=0;if((e=u[e]).removeClass(m),e.f){for(e.w=e.width(),t=0;t<e.ln;t++)n+=e.c[t].w;for(t=0;t<e.ln;t++)e.c[t].css("width",y.round(1e3*e.c[t].w/n)/10+"%").l=!0}else x(e),"flex"==e.mode&&e.p&&l&&$(e);S(e.addClass(m))}}),r.fn.extend({colResizable:function(e){switch((e=r.extend({resizeMode:"fit",draggingClass:"JCLRgripDrag",gripInnerHtml:"",liveDrag:!1,minWidth:15,headerOnly:!1,hoverCursor:"e-resize",dragCursor:"e-resize",postbackSafe:!1,flush:!1,marginLeft:null,marginRight:null,disable:!1,partialRefresh:!1,disabledColumns:[],onDrag:null,onResize:null},e)).fixed=!0,e.overflow=!1,e.resizeMode){case"flex":e.fixed=!1;break;case"overflow":e.fixed=!1,e.overflow=!0}return this.each(function(){t(this,e)})}})}(jQuery);