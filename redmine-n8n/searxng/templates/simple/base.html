<!DOCTYPE html>
<html class="no-js theme-{{ preferences.get_value('simple_style') or 'auto' }} center-alignment-{{ preferences.get_value('center_alignment') and 'yes' or 'no' }}" lang="{{ locale_rfc5646 }}" {% if rtl %} dir="rtl"{% endif %}>
<head>
  <meta charset="UTF-8">
  <meta name="endpoint" content="{{ endpoint }}">
  <meta name="description" content="MusaiSearch — a privacy-respecting, purple-steel metasearch experience">
  <meta name="keywords" content="MusaiSearch, search, search engine, metasearch, music, code, purple steel">
  <meta name="generator" content="searxng/{{ searx_version }}">
  <meta name="referrer" content="no-referrer">
  <meta name="robots" content="noarchive">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}{% endblock %}{{ instance_name }}</title>
  {% block meta %}{% endblock %}
  {% if rtl %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/searxng-rtl.min.css') }}" type="text/css" media="screen">
  {% else %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/searxng-ltr.min.css') }}" type="text/css" media="screen">
  {% endif %}
  {% if get_setting('server.limiter') or get_setting('server.public_instance') %}
  <link rel="stylesheet" href="{{ url_for('client_token', token=link_token) }}" type="text/css">
  {% endif %}
  <script>
    // update the css
    document.documentElement.classList.remove('no-js');
    document.documentElement.classList.add('js');
  </script>
  {% block head %}
  <link title="{{ instance_name }}" type="application/opensearchdescription+xml" rel="search" href="{{ opensearch_url }}">
  {% endblock %}
  <link rel="icon" href="{{ url_for('static', filename='img/favicon.png') }}" sizes="any">
  <link rel="apple-touch-icon" href="{{ url_for('static', filename='img/favicon.png') }}">
  <style>
    :root {
      --musai-primary: #6b5b95;
      --musai-accent: #8e9aaf;
      --musai-bg: #1f2230;
      --musai-bg-2: #2a2e3f;
      --musai-text: #e6e6f0;
      --musai-muted: #a7a9be;
    }
    /* Light mode palette and surfaces */
    html.theme-light {
      --musai-primary: #0f766e; /* teal-700 */
      --musai-accent: #14b8a6;  /* teal-500 */
      --musai-bg: #eafaf7;      /* very light teal */
      --musai-bg-2: #dff5f0;    /* very light teal (accent) */
      --musai-text: #222222;    /* dark text for contrast */
      --musai-muted: #506a6a;   /* muted teal-gray */
    }
    @media (prefers-color-scheme: light) {
      html.theme-auto {
        --musai-primary: #0f766e;
        --musai-accent: #14b8a6;
        --musai-bg: #eafaf7;
        --musai-bg-2: #dff5f0;
        --musai-text: #222222;
        --musai-muted: #506a6a;
      }
    }
    body {
      background: radial-gradient(1000px 400px at 50% -10%, var(--musai-bg-2), var(--musai-bg));
      color: var(--musai-text);
    }
    a { color: var(--musai-muted); }
    a:hover { color: var(--musai-accent); }
    /* Do not recolor custom logo assets */
    #search_logo svg circle,
    #search_logo svg path,
    #search_logo svg rect { stroke: inherit; fill: inherit; }
    #search_logo img, #search_logo picture { display: block; height: 80px; width: auto; }
    /* Search page only: gently nudge the logo for better visual alignment */
    #main_search #search_logo
    {
      position: relative;
      left: -10px; /* shift left by 10px */
      top: -2px;  /* shift up by ~2px */
    }
    .search_box {
      background: rgba(46,50,66,.6);
      border: 1px solid var(--musai-primary);
      box-shadow: 0 4px 24px rgba(0,0,0,.35);
      border-radius: 14px;
    }
    html.theme-light .search_box,
    @media (prefers-color-scheme: light) { html.theme-auto .search_box { background: rgba(255,255,255,.9); } }
    html.theme-light .search_box { background: rgba(255,255,255,.9); }
    #q { color: var(--musai-text); }
    #send_search {
      background: var(--musai-primary);
      color: #fff;
      border-radius: 12px;
      border: 0;
    }
    #send_search:hover { filter: brightness(1.1); }
    footer { color: var(--musai-muted); }
    /* Add breathing room below the categories (General, Images, Videos, etc.) */
    #categories {
      padding-bottom: 12px;
    }
    /* AI chat area */
    #ai_chat {
      background: rgba(46,50,66,.6);
      border: 1px solid var(--musai-primary);
      box-shadow: 0 4px 24px rgba(0,0,0,.35);
      border-radius: 14px;
      padding: 12px;
      margin: 12px 0 20px 0;
    }
    html.theme-light #ai_chat,
    @media (prefers-color-scheme: light) { html.theme-auto #ai_chat { background: rgba(255,255,255,.9); } }
    html.theme-light #ai_chat { background: rgba(255,255,255,.9); }
    #ai_chat h3 {
      margin: 0 0 8px 0;
      color: var(--musai-text);
      font-size: 1.05rem;
    }
    #ai_chat textarea {
      width: 100%;
      min-height: 72px;
      resize: vertical;
      padding: 8px;
      border-radius: 10px;
      border: 1px solid var(--musai-primary);
      background: rgba(0,0,0,0.15);
      color: var(--musai-text);
    }
    #ai_chat .ai-chat-actions {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-top: 8px;
    }
    #ai_chat button[type="submit"] {
      background: var(--musai-primary);
      color: #fff;
      border-radius: 10px;
      border: 0;
      padding: 8px 14px;
      cursor: pointer;
    }
    #ai_chat button[type="submit"]:hover {
      filter: brightness(1.1);
    }
    #ai_chat_output {
      margin-top: 10px;
      padding: 10px;
      border-radius: 10px;
      background: rgba(0,0,0,0.15);
      border: 1px solid rgba(255,255,255,0.08);
      white-space: pre-wrap;
    }
    /* POV toggles and panels (red = logical, blue = creative) */
    .ai-pov-toggle-group {
      display: flex;
      align-items: center;
      gap: 8px;
      margin: 8px 0 6px 0;
      flex-wrap: wrap;
    }
    .ai-pov-toggle {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      font-size: 12px;
      border-radius: 999px;
      border: 1px solid transparent;
      cursor: pointer;
      user-select: none;
      background: rgba(255,255,255,0.06);
      color: var(--musai-text);
    }
    .ai-pov-toggle[disabled] {
      opacity: .5;
      cursor: not-allowed;
    }
    .ai-pov-toggle.red {
      border-color: #fca5a5;
      background: rgba(220,38,38,.08);
      color: #fecaca;
    }
    .ai-pov-toggle.red.active {
      background: rgba(252,165,165,.22);
      box-shadow: inset 0 0 0 1px rgba(220,38,38,.45);
    }
    .ai-pov-toggle.blue {
      border-color: #93c5fd;
      background: rgba(37,99,235,.08);
      color: #bfdbfe;
    }
    .ai-pov-toggle.blue.active {
      background: rgba(147,197,253,.22);
      box-shadow: inset 0 0 0 1px rgba(37,99,235,.45);
    }
    .ai-pov-panel {
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.08);
      padding: 10px;
      margin-top: 6px;
      white-space: pre-wrap;
      font-size: 0.95rem;
    }
    .ai-pov-panel.red {
      background: rgba(220,38,38,.08);
      border-color: rgba(248,113,113,.4);
      color: #fecaca;
    }
    .ai-pov-panel.blue {
      background: rgba(37,99,235,.08);
      border-color: rgba(96,165,250,.4);
      color: #bfdbfe;
    }
  </style>
</head>
<body class="{{ endpoint }}_endpoint" >
  <main id="main_{{  self._TemplateReference__context.name|replace("simple/", "")|replace(".html", "") }}" class="{{body_class}}">
    {% if errors %}
        <div class="dialog-error" role="alert">
            <a href="#" class="close" aria-label="close" title="close">×</a>
            <ul>
            {% for message in errors %}
                <li>{{ message }}</li>
            {% endfor %}
            </ul>
        </div>
    {% endif %}

    <nav id="links_on_top">
      {%- from 'simple/icons.html' import icon_big -%}
      {%- block linkto_about -%}
        <a href="{{ url_for('info', pagename='about') }}" class="link_on_top_about">{{ icon_big('information-circle') }}<span>{{ _('About') }}</span></a>
      {%- endblock -%}
      {%- block linkto_donate -%}
        {%- if donation_url -%}
        <a href="{{ donation_url }}" class="link_on_top_donate">{{ icon_big('heart') }}<span>{{ _('Donate') }}</span></a>
        {%- endif -%}
      {%- endblock -%}
      {%- block linkto_preferences -%}
        <a href="{{ url_for('preferences') }}" class="link_on_top_preferences">{{ icon_big('settings') }}<span>{{ _('Preferences') }}</span></a>
      {%- endblock -%}
    </nav>
    {% block header %}
    {% endblock %}
    {% block content %}
    {% endblock %}
  </main>
  <footer>
    <p>
    <strong>MusaiSearch</strong> — {{ _('powered by') }} SearXNG ({{ searx_version }}) — {{ _('a privacy-respecting, open metasearch engine') }}<br>
        <a href="{{ url_for('info', pagename='about') }}">{{ _('About MusaiSearch') }}</a>
        <a href="{{ searx_git_url }}">{{ _('Source code') }}</a>
        | <a href="{{ get_setting('brand.issue_url') }}">{{ _('Issue tracker') }}</a>
        {% if enable_metrics %}| <a href="{{ url_for('stats') }}">{{ _('Engine stats') }}</a>{% endif %}
        {% if get_setting('brand.public_instances') %}
        | <a href="{{ get_setting('brand.public_instances') }}">{{ _('Public instances') }}</a>
        {% endif %}
        {% if get_setting('general.privacypolicy_url') %}
        | <a href="{{ get_setting('general.privacypolicy_url') }}">{{ _('Privacy policy') }}</a>
        {% endif %}
        {% if get_setting('general.contact_url') %}
        | <a href="{{ get_setting('general.contact_url') }}">{{ _('Contact instance maintainer') }}</a>
        {% endif %}
        {% for title, link in get_setting('brand.custom.links').items() %}
        | <a href="{{ link }}">{{ _(title) }}</a>
        {% endfor %}
    </p>
  </footer>
  <script type="module" src="{{ url_for('static', filename='js/searxng.core.min.js') }}" client_settings="{{ client_settings }}"></script>
</body>
</html>
